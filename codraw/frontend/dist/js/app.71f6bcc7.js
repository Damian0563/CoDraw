(function(){"use strict";var e={5275:function(e,t,a){var o=a(3751),n=a(641);function l(e,t,a,o,l,r){const i=(0,n.g2)("NavBar"),s=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,["/codraw"!==e.$route.path.substring(0,7)&&"/board"!==e.$route.path.substring(0,6)?((0,n.uX)(),(0,n.Wv)(i,{key:0})):(0,n.Q3)("",!0),(0,n.bF)(s)],64)}var r=a(953),i=a.p+"img/logo.10045025.webp";const s={class:"navbar navbar-expand-lg navbar-dark bg-dark shadow p-3"},c={class:"offcanvas offcanvas-end mx-2",style:{"background-color":"black"},tabindex:"-1",id:"offcanvas","aria-labelledby":"offcanvasLabel"},d={class:"offcanvas-body"},u=["src"],p={class:"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-row align-items-center"},f={class:"nav-item mx-2"},v={class:"nav-item mx-2"},h={class:"nav-item mx-2"},g={name:"NavBar",props:{msg:String}};var m=Object.assign(g,{setup(e){return(e,t)=>{const a=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)("nav",s,[t[4]||(t[4]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas","aria-controls":"offcanvas","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.bF)(a,{class:"navbar-brand d-flex align-items-center",to:"/"},{default:(0,n.k6)(()=>[(0,n.Lk)("img",{src:(0,r.R1)(i),alt:"logo",height:"90",class:"me-3"},null,8,u),t[0]||(t[0]=(0,n.Lk)("span",null,"CoDraw",-1))]),_:1}),(0,n.Lk)("ul",p,[(0,n.Lk)("li",f,[(0,n.bF)(a,{class:"nav-link",to:"/#about",href:"#"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("About",-1)])]),_:1})]),(0,n.Lk)("li",v,[(0,n.bF)(a,{class:"btn me-2",to:"/signup",id:"sign",style:{"border-color":"yellow",color:"yellow"}},{default:(0,n.k6)(()=>[...t[2]||(t[2]=[(0,n.eW)("Sign up",-1)])]),_:1})]),(0,n.Lk)("li",h,[(0,n.bF)(a,{class:"btn btn-outline-light",id:"sing",to:"/signin"},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)("Sign in",-1)])]),_:1})])])])])])}}}),b=a(6262);const w=(0,b.A)(m,[["__scopeId","data-v-e440355c"]]);var y=w,k={name:"App",components:{NavBar:y}};const x=(0,b.A)(k,[["render",l]]);var L=x,C=a(5916),R=a(5220),S=a(33);const _="http://localhost:8000";function T(e){let t=null;if(document.cookie&&""!==document.cookie){const a=document.cookie.split(";");for(let o=0;o<a.length;o++){const n=a[o].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}const j={style:{"background-color":"black"}},O=["src"],E={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},K={class:"alert-content",style:{"padding-top":"0.2rem"}},z={style:{color:"#ffc107","font-size":"1rem"}},F={class:"d-flex justify-content-center pt-5",style:{"background-color":"black","min-height":"40vh"}},N={class:"card p-3 shadow-lg",style:{"max-width":"400px",width:"100%",background:"white",border:"none","min-height":"unset"}},X={class:"mb-2"},P={class:"mb-2"},J={class:"form-check d-flex align-items-center mb-3 w-100 flex-wrap",style:{padding:"0 !important",gap:"2rem"}},I={class:"text-center mt-2"};var $={__name:"SignIn",setup(e){let t=(0,r.KR)(""),a=(0,r.KR)(!1),l=(0,r.KR)(!1);const s=(0,r.KR)(""),c=(0,r.KR)(""),d=(0,r.KR)(null);async function u(e){e.preventDefault();const o=d.value;if(o.classList.add("was-validated"),o.checkValidity())try{const e=T("csrftoken"),o=await fetch(`${_}/signin`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include",body:JSON.stringify({mail:s.value,password:c.value,remember:l.value})}),n=await o.json();200===n.status?window.location.href="/codraw":(a.value=!0,t.value="Invalid credentials. Please try again.")}catch(e){console.error(e),a.value=!0,t.value="An error occurred while signing in."}else e.stopPropagation()}async function p(){try{const e=T("csrftoken"),t=await fetch(`${_}/signin`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&(window.location.href="/codraw")}catch(e){console.error(e)}}return p(),(e,p)=>{const f=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",j,[(0,n.Lk)("img",{src:(0,r.R1)(i),class:"img-fluid border rounded-circle",style:{width:"10vw",height:"auto","margin-top":"2%","border-color":"yellow"}},null,8,O)]),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,r.R1)(a)?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("button",{onClick:p[0]||(p[0]=e=>(0,r.i9)(a)?a.value=!1:a=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",K,[(0,n.Lk)("strong",z,(0,S.v_)((0,r.R1)(t)),1),p[4]||(p[4]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",F,[(0,n.Lk)("div",N,[p[13]||(p[13]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign In",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:d,onSubmit:u,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",X,[p[5]||(p[5]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":p[1]||(p[1]=e=>s.value=e),class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[o.Jo,s.value]]),p[6]||(p[6]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",P,[p[7]||(p[7]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":p[2]||(p[2]=e=>c.value=e),class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[o.Jo,c.value]]),p[8]||(p[8]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),(0,n.Lk)("div",J,[p[9]||(p[9]=(0,n.Lk)("label",{class:"form-check-label text-black fw-medium mb-0",for:"rememberMe"}," Remember me ",-1)),(0,n.Lk)("input",{type:"checkbox",ref_key:"ticked",ref:l,onClick:p[3]||(p[3]=e=>(0,r.i9)(l)?l.value=!(0,r.R1)(l):l=!(0,r.R1)(l)),id:"rememberMe",style:{"accent-color":"#ffc107",margin:"0 !important",width:"1.25rem",height:"1.25rem"}},null,512)]),p[10]||(p[10]=(0,n.Lk)("button",{id:"sign",type:"submit",class:"btn btn-success w-100 mt-2",style:{"background-color":"yellow",color:"black"}},"Sign In",-1))],544),(0,n.Lk)("div",I,[p[12]||(p[12]=(0,n.Lk)("span",{class:"text-secondary"},"Do not have an account?",-1)),(0,n.bF)(f,{to:"/signup",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...p[11]||(p[11]=[(0,n.eW)("Sign up",-1)])]),_:1})])])])],64)}}};const U=(0,b.A)($,[["__scopeId","data-v-08ed81a2"]]);var V=U;const D={style:{"background-color":"black"}},W=["src"],A={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},B={class:"alert-content",style:{"padding-top":"0.2rem"}},M={style:{color:"#ffc107","font-size":"1rem"}},Q={key:0,class:"overlay"},q={class:"popup-card"},H={class:"d-flex justify-content-center mb-3"},Y={class:"d-flex justify-content-center pt-5",style:{"background-color":"black","min-height":"40vh"}},G={class:"card p-3 shadow-lg",style:{"max-width":"400px",width:"100%",background:"white",border:"none","min-height":"unset"}},Z={class:"mb-2"},ee={class:"mb-2"},te={class:"mb-2"},ae={class:"text-center mt-2"};var oe={__name:"SignUp",setup(e){let t=(0,r.KR)(!1),a=(0,r.KR)(null),l=(0,r.KR)(!1),s=(0,r.KR)("");const c=(0,r.KR)(""),d=(0,r.KR)(""),u=(0,r.KR)(""),p=(0,r.KR)(null),f=(0,r.KR)(null),v=(0,r.KR)(null),h=(0,r.KR)(null),g=(0,r.KR)(null);async function m(){try{const e=T("csrftoken"),t=await fetch(`${_}/signup`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}}async function b(e){e.preventDefault();const o=a.value;if(o.classList.add("was-validated"),!o.checkValidity())return void e.stopPropagation();const n=T("csrftoken"),r=c.value,i=d.value,f=u.value;try{const e=await fetch(`${_}/signup`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify({username:r,mail:f,password:i}),credentials:"include"}),a=await e.json();200===a.status?(t.value=!0,p.value.focus()):(l.value=!0,s.value="Account already registered under this email. Did you forget your password?")}catch(e){console.error(e)}}function w(e){2===e&&f.value&&f.value.focus(),3===e&&v.value&&v.value.focus(),4===e&&h.value&&h.value.focus(),5===e&&g.value&&g.value.focus()}m();const y=(0,r.KR)(""),k=(0,r.KR)(""),x=(0,r.KR)(""),L=(0,r.KR)(""),C=(0,r.KR)("");function R(){return`${y.value}${k.value}${x.value}${L.value}${C.value}`}async function j(){const e=T("csrftoken"),a=c.value,o=u.value,n=await fetch(`${_}/verify`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({username:a,mail:o,code:R()})}),r=await n.json();200===r.status?window.location.href="/codraw":(t.value=!1,l.value=!0,y.value="",k.value="",x.value="",L.value="",C.value="",s.value="Invalid verification code. Please try again- new verification code has been sent.")}return(e,m)=>{const R=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",D,[(0,n.Lk)("img",{src:(0,r.R1)(i),class:"img-fluid border rounded-circle border-danger-subtle",style:{width:"10vw",height:"auto","margin-top":"2%"}},null,8,W)]),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,r.R1)(l)?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("button",{onClick:m[0]||(m[0]=e=>(0,r.i9)(l)?l.value=!1:l=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",B,[(0,n.Lk)("strong",M,(0,S.v_)((0,r.R1)(s)),1),m[14]||(m[14]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,r.R1)(t)?((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",q,[(0,n.Lk)("button",{onClick:m[1]||(m[1]=e=>(0,r.i9)(t)?t.value=!1:t=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"red",color:"white"}},"×"),m[15]||(m[15]=(0,n.Lk)("br",null,null,-1)),m[16]||(m[16]=(0,n.Lk)("br",null,null,-1)),m[17]||(m[17]=(0,n.Lk)("h4",{class:"mb-3"},"Enter Verification Code",-1)),(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"1",onInput:m[2]||(m[2]=e=>w(2)),ref_key:"ZeroInput",ref:p,"onUpdate:modelValue":m[3]||(m[3]=e=>y.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,y.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"2",onInput:m[4]||(m[4]=e=>w(3)),"onUpdate:modelValue":m[5]||(m[5]=e=>k.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric",ref_key:"OneInput",ref:f},null,544),[[o.Jo,k.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"3",onInput:m[6]||(m[6]=e=>w(4)),"onUpdate:modelValue":m[7]||(m[7]=e=>x.value=e),ref_key:"TwoInput",ref:v,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,x.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"4",onInput:m[8]||(m[8]=e=>w(5)),"onUpdate:modelValue":m[9]||(m[9]=e=>L.value=e),ref_key:"ThreeInput",ref:h,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,L.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"5",class:"code-input","onUpdate:modelValue":m[10]||(m[10]=e=>C.value=e),ref_key:"FourInput",ref:g,type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,512),[[o.Jo,C.value]])]),(0,n.Lk)("button",{class:"btn btn-primary w-100",onClick:j},"Verify")])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Y,[(0,n.Lk)("div",G,[m[27]||(m[27]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign Up",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:a,onSubmit:b,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",Z,[m[18]||(m[18]=(0,n.Lk)("label",{for:"username",class:"form-label text-black text-start w-100"},"Username",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":m[11]||(m[11]=e=>c.value=e),type:"text",class:"form-control bg-dark text-white border-secondary",id:"username",placeholder:"Enter username",style:{color:"white"},required:""},null,512),[[o.Jo,c.value]]),m[19]||(m[19]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify username. ",-1))]),(0,n.Lk)("div",ee,[m[20]||(m[20]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":m[12]||(m[12]=e=>u.value=e),type:"email",class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[o.Jo,u.value]]),m[21]||(m[21]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",te,[m[22]||(m[22]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":m[13]||(m[13]=e=>d.value=e),type:"password",class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[o.Jo,d.value]]),m[23]||(m[23]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),m[24]||(m[24]=(0,n.Lk)("button",{id:"sign",class:"btn btn-success w-100 mt-2",type:"submit",style:{"background-color":"yellow",color:"black"}},"Sign Up",-1))],544),(0,n.Lk)("div",ae,[m[26]||(m[26]=(0,n.Lk)("span",{class:"text-secondary"},"Already have an account?",-1)),(0,n.bF)(R,{to:"/signin",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...m[25]||(m[25]=[(0,n.eW)("Sign In",-1)])]),_:1})])])])],64)}}};const ne=(0,b.A)(oe,[["__scopeId","data-v-4daa0bd3"]]);var le=ne;function re(e,t,a,o,l,r){return t[0]||(t[0]=(0,n.Fv)('<div class="hero-background p-5 col-lg-4" style="background-color: black;height:60vh" data-v-679fee6c><h1 class="hero-title" style="color:white;" data-v-679fee6c> CoDraw<br data-v-679fee6c></h1><p style="color:white;" data-v-679fee6c> CoDraw is a real-time collaborative drawing platform that lets you and your friends create, share, and edit artwork together from anywhere. Experience seamless teamwork, intuitive tools, and instant updates as you bring your creative ideas to life together! </p></div><div style="background-color:black;overflow-x:hidden;margin-top:2%;" data-v-679fee6c><div class="container" data-v-679fee6c><div class="row justify-content-center" data-v-679fee6c><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Modern and Slick</h5><p class="card-text" data-v-679fee6c>A visually appealing interface designed for a seamless and enjoyable drawing experience.</p></div></div></div><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Performance Oriented</h5><p class="card-text" data-v-679fee6c>Optimized for speed and responsiveness, ensuring smooth collaboration in real time.</p></div></div></div><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Intuitive Design</h5><p class="card-text" data-v-679fee6c>Easy-to-use tools and layout, making creativity accessible for everyone.</p></div></div></div></div></div></div>',2))}var ie={name:"HeRo",props:{msg:String},mounted(){this.check()},methods:{async check(){try{const e=T("csrftoken"),t=await fetch(`${_}/home`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}}}};const se=(0,b.A)(ie,[["render",re],["__scopeId","data-v-679fee6c"]]);var ce=se,de=(a(8111),a(1701),a(4641)),ue=a.p+"img/sidebar.9317e3f0.webp",pe=a.p+"img/information.fad38640.webp",fe=a(9876);const ve={class:"main-layout"},he={class:"sidebar-header d-flex flex-column align-items-center mb-4"},ge=["src"],me=["src"],be={class:"main-content flex-grow-1"},we={class:"mb-4"},ye={id:"projects",class:"container"},ke=["onClick"],xe={class:"card-body d-flex flex-column text-white",style:{height:"100%"}},Le=["onClick"],Ce=["src"],Re={key:0,class:"w-100"},Se={class:"d-flex flex-column align-items-start gap-1",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)",padding:"0.5rem"}},_e={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Te={class:"text-white"},je={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Oe={class:"text-white"},Ee={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Ke={class:"text-white"},ze={key:1,class:"w-100"},Fe={class:"card-title fw-bold mt-2"},Ne={class:"card-text",style:{"font-size":"0.8rem"}},Xe={key:0,class:"spinner-overlay"},Pe={class:"my-5 border rounded justify-content-center",style:{"background-color":"#ffc107",width:"100%",height:"auto"}},Je={class:"row justify-content-center"},Ie={class:"col-md-6 col-sm-8 col-7"},$e={class:"input-group shadow-sm rounded mx-2"},Ue={id:"results",class:"my-4 mx-3"},Ve={class:"container"},De={class:"row g-4"},We=["onClick"],Ae={class:"card-body d-flex flex-column text-white",id:"shown",style:{height:"100%"}},Be={class:"card-title fw-bold"},Me={class:"card-text",style:{"font-size":"0.8rem"}},Qe={class:"d-flex flex-column py-2",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)","border-top":"1px solid #ffc107"}},qe={class:"d-flex align-items-center gap-2 mx-2 mb-2"},He=["href"],Ye={class:"d-flex align-items-center gap-2 mx-2"},Ge=["value"],Ze=["value"],et={key:0,class:"justify-content-center",style:{"min-height":"12rem"}},tt={name:"MaIn"};var at=Object.assign(tt,{setup(e){const t=(0,r.KR)(!1),a=(0,r.KR)({}),l=T("csrftoken"),s=(0,r.KR)(!0),c=(0,r.KR)([]),d=(0,r.KR)([]),u=(0,r.KR)("");async function p(){try{const e=await fetch(`${_}/log_out`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include"}),t=await e.json();200===t.status&&(window.location.href="/")}catch(e){console.error(e)}}async function f(e){try{t.value=!0;const a=await fetch(`${_}/search`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({query:e,timezone:de.c9.local().zoneName})}),o=await a.json();200===o.status&&(d.value=JSON.parse(o.boards)),t.value=!1}catch(a){console.error(a)}}async function v(){try{const e=await fetch(`${_}/codraw`,{method:"GET",headers:{"X-CSRFToken":l},credentials:"include"}),t=await e.json();200!==t.status&&"/"!==window.location.pathname&&(window.location.href="/")}catch(e){console.error(e)}}const h=async()=>{try{const e=await fetch(`${_}/codraw/get_boards`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),t=await e.json();c.value=t.boards,a.value=t.boards.map(()=>!1)}catch(e){console.error(e)}};async function g(e){try{const t=await fetch(`${_}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({room:e})}),a=await t.json();200===a.status&&(window.location.href=`${a.url}`)}catch(t){console.error(t)}}async function m(){try{const e=await fetch(`${_}/get_project_url`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include"}),t=await e.json();200===t.status?window.location.href=`${t.url}`:console.log("error")}catch(e){console.error(e)}}async function b(){try{const e=await fetch(`${_}/get_popular`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),t=await e.json();d.value=t.boards}catch(e){console.error(e)}}return(0,n.sV)(async()=>{t.value=!0,await Promise.all([v(),h(),b()]),t.value=!1}),(e,l)=>{const v=(0,n.g2)("RouterLink"),h=(0,n.g2)("RouterView");return(0,n.uX)(),(0,n.CE)("div",ve,[(0,n.Lk)("aside",{class:(0,S.C4)(["sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark",{"sidebar-collapsed":!s.value}])},[(0,n.Lk)("div",he,[(0,n.Lk)("img",{class:(0,S.C4)(["toggle mb-3 align-self-end",{"align-self-center":!s.value}]),onClick:l[0]||(l[0]=e=>s.value=!s.value),src:(0,r.R1)(ue),style:{cursor:"pointer",width:"2rem",height:"2rem"}},null,10,ge),(0,n.Lk)("img",{src:(0,r.R1)(i),alt:"logo",class:"logo mb-3 img-fluid rounded rounded-circle",style:{"max-height":"20vh"}},null,8,me),(0,n.bF)(v,{to:"/codraw/account",class:"nav-link account-link mb-2 w-100 text-center"},{default:(0,n.k6)(()=>[...l[6]||(l[6]=[(0,n.eW)(" My Account ",-1)])]),_:1}),(0,n.bF)(v,{to:"/codraw/settings",class:"nav-link settings-link mb-2 w-100 text-center"},{default:(0,n.k6)(()=>[...l[7]||(l[7]=[(0,n.eW)(" Settings ",-1)])]),_:1}),(0,n.Lk)("button",{class:"btn btn-danger w-100",onClick:l[1]||(l[1]=e=>p()),id:"out"},"Log out")])],2),(0,n.Lk)("main",be,[(0,n.bF)(h),l[17]||(l[17]=(0,n.Lk)("h1",null,"Welcome to CoDraw!",-1)),(0,n.Lk)("div",we,[l[12]||(l[12]=(0,n.Lk)("h2",{class:"mb-4 text-start"},"My Projects",-1)),(0,n.Lk)("div",ye,[(0,n.Lk)("div",{class:"card create-project-card my text-center bg-dark",onClick:l[2]||(l[2]=e=>m()),style:{"min-height":"14rem","min-width":"14rem",cursor:"pointer"}},[...l[8]||(l[8]=[(0,n.Lk)("div",{class:"card-body d-flex flex-column align-items-center justify-content-center",style:{height:"100%"}},[(0,n.Lk)("span",{style:{"font-size":"3rem",color:"#ffc107"}},"+"),(0,n.Lk)("h5",{class:"card-title mt-2 mb-0",style:{color:"#ffc107"}},"Create Project")],-1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"card create-project-card my text-center bg-dark",onClick:t=>g(e.room),style:{"min-height":"14rem","min-width":"14rem",cursor:"pointer",position:"relative"}},[(0,n.Lk)("div",xe,[(0,n.Lk)("div",{class:"w-100",onClick:(0,o.D$)(e=>a.value[t]=!a.value[t],["stop"])},[(0,n.Lk)("img",{src:(0,r.R1)(pe),style:{width:"30px",height:"30px",position:"absolute",right:"0",top:"0"},alt:"info icon"},null,8,Ce)],8,Le),a.value[t]?((0,n.uX)(),(0,n.CE)("div",Re,[(0,n.Lk)("div",Se,[(0,n.Lk)("span",_e,[l[9]||(l[9]=(0,n.eW)("Views: ",-1)),(0,n.Lk)("span",Te,(0,S.v_)(e.views),1)]),(0,n.Lk)("span",je,[l[10]||(l[10]=(0,n.eW)("Last Modified: ",-1)),(0,n.Lk)("span",Oe,(0,S.v_)(e.modified),1)]),(0,n.Lk)("span",Ee,[l[11]||(l[11]=(0,n.eW)("Visibility: ",-1)),(0,n.Lk)("span",Ke,(0,S.v_)(e.visibility),1)])])])):((0,n.uX)(),(0,n.CE)("div",ze,[(0,n.Lk)("h5",Fe,(0,S.v_)(e.title),1),(0,n.Lk)("p",Ne,(0,S.v_)(e.description),1)]))])],8,ke))),128))])]),t.value?((0,n.uX)(),(0,n.CE)("div",Xe,[(0,n.bF)((0,r.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("div",Pe,[l[16]||(l[16]=(0,n.Lk)("div",{class:"text-center mb-4"},[(0,n.Lk)("h2",{class:"fw-bold mt-4"},"Browse Public Projects"),(0,n.Lk)("p",{class:"text-muted"},"Find boards and ideas shared by the community")],-1)),(0,n.Lk)("div",Je,[(0,n.Lk)("div",Ie,[(0,n.Lk)("div",$e,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control border-0 p-3",placeholder:"Search public boards...","aria-label":"Search public boards","onUpdate:modelValue":l[3]||(l[3]=e=>u.value=e),onKeyup:l[4]||(l[4]=(0,o.jR)(e=>f(u.value),["enter"]))},null,544),[[o.Jo,u.value]]),(0,n.Lk)("button",{class:"btn btn-primary",type:"button",onClick:l[5]||(l[5]=e=>f(u.value))},[...l[13]||(l[13]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 \r\n                          1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242 \r\n                          1.656a5.5 5.5 0 1 1 0-11 5.5 \r\n                          5.5 0 0 1 0 11z"})],-1)])])])])]),(0,n.Lk)("section",Ue,[(0,n.Lk)("div",Ve,[(0,n.Lk)("div",De,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,S.C4)(d.value.length<3?"col-12 col-md-6 col-xl-4":"col-12 col-lg-4 col-xl-3")},[(0,n.Lk)("div",{class:"card create-project-card text-center bg-dark",onClick:t=>g(e.room),style:{"min-height":"12rem","min-width":"10rem",cursor:"pointer",position:"relative"}},[(0,n.Lk)("div",Ae,[(0,n.Lk)("h5",Be,(0,S.v_)(e.title),1),(0,n.Lk)("p",Me,(0,S.v_)(e.description),1),(0,n.Lk)("footer",Qe,[(0,n.Lk)("div",qe,[l[14]||(l[14]=(0,n.Lk)("span",{class:"fw-semibold text-warning"},"Owner:",-1)),(0,n.Lk)("a",{href:`/codraw/user/${e.owner}`,style:{color:"#ff4f4f !important"}},(0,S.v_)(e.owner),9,He)]),(0,n.Lk)("div",Ye,[(0,n.Lk)("input",{class:"form-control form-control-sm",readonly:"",disabled:"",value:"Views: "+e.views,style:{width:"150px"}},null,8,Ge),(0,n.Lk)("input",{class:"form-control form-control-sm",readonly:"",disabled:"",value:e.modified,style:{width:"150px"}},null,8,Ze)])])])],8,We)],2))),128)),0===d.value.length?((0,n.uX)(),(0,n.CE)("div",et,[...l[15]||(l[15]=[(0,n.Lk)("text",null,"No results found :(",-1)])])):(0,n.Q3)("",!0)])])])])])])}}});const ot=(0,b.A)(at,[["__scopeId","data-v-7853d0bf"]]);var nt=ot;const lt={name:"SeTtings"};var rt=Object.assign(lt,{setup(e){const t=T("csrftoken");return console.log(t),(e,t)=>" settings "}});const it=rt;var st=it;const ct={key:0,class:"spinner-overlay"},dt={class:"flex-grow-1 bg-dark text-white py-5"},ut={class:"container"},pt={class:"row g-4 justify-content-center"},ft=["onClick"],vt={class:"card-body d-flex flex-column"},ht={class:"card-title fw-bold mt-2"},gt={class:"card-text small flex-grow-1"};var mt={__name:"AccOunt",setup(e){const t=T("csrftoken"),a=(0,r.KR)([]),o=(0,r.KR)(!0),l=async()=>{try{const e=await fetch(`${_}/codraw/get_boards`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),o=await e.json();a.value=o.boards}catch(e){console.error(e)}};async function i(e){try{const a=await fetch(`${_}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},credentials:"include",body:JSON.stringify({room:e})}),o=await a.json();200===o.status&&(window.location.href=`${o.url}`)}catch(a){console.error(a)}}return(0,n.sV)(async()=>{o.value=!0,await l(),o.value=!1}),(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[o.value?((0,n.uX)(),(0,n.CE)("div",ct,[(0,n.bF)((0,r.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("main",dt,[(0,n.Lk)("div",ut,[t[0]||(t[0]=(0,n.Lk)("h2",{class:"fw-bold mb-4 text-center"},"Your Boards",-1)),(0,n.Lk)("div",pt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[(0,n.Lk)("div",{class:"project-card h-100 text-center",onClick:t=>i(e.room)},[(0,n.Lk)("div",vt,[(0,n.Lk)("h5",ht,(0,S.v_)(e.title),1),(0,n.Lk)("p",gt,(0,S.v_)(e.description),1)])],8,ft)]))),128))])])])],64))}};const bt=(0,b.A)(mt,[["__scopeId","data-v-edaf58c6"]]);var wt=bt,yt=(a(7588),a(4603),a(7566),a(8721),a.p+"img/email.54f0aca4.webp"),kt=a.p+"img/zoom.91d1cc83.webp",xt=a(2611),Lt=a(5778),Ct=a.n(Lt);const Rt={style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden"}},St={key:0,class:"spinner-overlay"},_t={key:0,style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)","z-index":"100",display:"flex","align-items":"center","justify-content":"center"}},Tt={style:{background:"#23272f",color:"#fff",padding:"32px 40px","border-radius":"16px","min-width":"320px","box-shadow":"0 8px 32px rgba(0,0,0,0.25)",position:"relative"}},jt={id:"toolbar",style:{position:"absolute",top:"32px",left:"5%",background:"rgba(30, 30, 30, 0.85)","border-radius":"16px","box-shadow":"0 4px 24px rgba(0,0,0,0.18)",padding:"20px 32px",display:"flex","align-items":"center",gap:"20px","z-index":"10"}},Ot={style:{color:"#fff","min-width":"32px","text-align":"center"}},Et={id:"inv_div",style:{position:"absolute",top:"32px",right:"1rem","z-index":"10"}},Kt=["src"],zt={key:0},Ft={key:0,style:{position:"absolute",top:"150px",left:"35%","backdrop-filter":"blur(16px)",background:"rgba(30, 30, 30, 0.75)",border:"1px solid rgba(255, 255, 255, 0.1)","border-radius":"20px","box-shadow":"0 8px 32px rgba(0, 0, 0, 0.25)",padding:"32px",display:"flex","flex-direction":"column",gap:"20px","z-index":"20","min-width":"30vw","max-width":"90vw","font-family":"'Segoe UI', Roboto, sans-serif",transition:"ease-in-out 0.6s",color:"#fff"}},Nt={style:{display:"flex","flex-direction":"column",gap:"6px"}},Xt={style:{position:"relative"}},Pt={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},Jt={style:{display:"flex","flex-direction":"column",gap:"6px"}},It={style:{position:"relative"}},$t={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},Ut={style:{display:"flex","align-items":"center",gap:"10px"}},Vt={class:"switch"},Dt={id:"zoom"},Wt=["src"];var At={__name:"BoArd",setup(e){const t=(0,r.KR)(!1),a=T("csrftoken"),l=(0,r.KR)(null),i=(0,r.KR)(null),s=(0,r.KR)(window.innerWidth),c=(0,r.KR)(!1),d=(0,r.KR)(!1),u=(0,r.KR)(!1),p=(0,r.KR)("#ffffff"),f=(0,r.KR)("#000000"),v=(0,r.KR)(null),h=(0,r.KR)(null),g=(0,r.KR)(null),m=(0,r.KR)("Public"),b=(0,r.KR)("brush"),w=(0,r.KR)(!1),y=(0,r.KR)(5),k=(0,r.KR)([]),x=(0,n.EW)(()=>`${(100*L.value).toFixed(0)}%`),L=(0,r.KR)(1),C=(0,r.KR)(null),R=(0,r.KR)(null),j=(0,r.KR)(null),O=(0,r.KR)(!1),E=(0,r.KR)(!1),K=(0,n.EW)(()=>s.value>1330),z={width:4*document.documentElement.clientWidth,height:4*document.documentElement.clientHeight,draggable:!1},F=(0,r.KR)(null),N=(0,r.KR)(new URL(window.location.href).pathname.split("/")[3]);F.value=new WebSocket(`ws://localhost:8000/ws/socket/${N.value}/`),F.value.onmessage=e=>{const t=JSON.parse(e.data);if(!t||!t.type)return;const a=j.value.getNode();if("start"===t.type){const e=new(Ct().Line)({stroke:t.stroke,strokeWidth:t.width,globalCompositeOperation:t.operation,points:t.points,lineCap:"round",lineJoin:"round"});e._remote=!0,a.add(e),l.value=e}else if("draw"===t.type&&l.value?._remote){const e=l.value.points().concat(t.points);l.value.points(e),a.batchDraw()}else"bg"===t.type&&t.bg&&(f.value=t.bg,E.value="#ffffff"===t.bg)};const X=e=>{e.evt.preventDefault()},P=document.createElement("canvas");P.width=z.width,P.height=z.height;const J=P.getContext("2d");function I(e){const t=i.value.getNode(),a=1.25,o=t.scaleX(),n="up"===e?1:-1;if(1===o&&-1===n)return;const l=n>0?o*a:o/a;L.value=l,t.scale({x:l,y:l}),t.batchDraw()}J.strokeStyle=p.value,J.fillStyle=f.value,J.lineJoin="round",J.lineWidth=y.value,J.lineCap="round",J.lineJoin="round",(0,n.wB)(p,e=>{J.strokeStyle=e});const $=async()=>{try{const e=new URL(window.location.href).pathname.split("/"),t=e[2],o=await fetch(`${_}/codraw/check_owner`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},credentials:"include",body:JSON.stringify({owner:t})}),n=await o.json();200===n.status&&(c.value=!0)}catch(e){console.error(e)}},U=async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),u.value=!0,h.value="Invitation link copied to clipboard!"}catch(e){console.error("Failed to copy: ",e),u.value=!0,h.value="Failed to copy the link."}},V=()=>{const e=localStorage.getItem("storage");if(e&&(k.value=JSON.parse(e),k.value.length>0)){const e=new window.Image;e.src=k.value[k.value.length-1].image,e.onload=()=>{J.clearRect(0,0,P.width,P.height),J.drawImage(e,0,0),j.value.getNode().batchDraw()}}},D=async()=>{try{t.value=!0;const e=new URL(window.location.href).pathname.split("/"),o=e[3];v.value||(u.value=!0,h.value="Please provide a title for your board."),v.value.length>66&&(u.value=!0,h.value="The title length is to large, must be at most 60 characters."),g.value&&g.value.length>170&&(u.value=!0,h.value="The description length is to large, must be at most 100 characters.");const n=await fetch(`${_}/codraw/save_new`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({project:o,payload:JSON.stringify(i.value.getStage().toJSON()),title:v.value,description:g.value,type:m.value,bg:f.value}),credentials:"include"}),l=await n.json();let r=!0;d.value=!1,200===l.status&&(r=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),r?(u.value=!0,h.value="There was an error saving your board."):(u.value=!0,h.value="Board saved successfully.",Y())}catch(e){console.error(e)}};function W(e,t){const a=t.width,o=t.height,n=a/o;let l,r;const i=e.width/e.height;n>=i?(l=e.width,r=e.width/n):(l=e.height*n,r=e.height);let s=0,c=0;return s=(e.width-l)/2,c=(e.height-r)/2,{cropX:s,cropY:c,cropWidth:l,cropHeight:r}}function A(e){const t=W(e.image(),{width:e.width(),height:e.height()});e.setAttrs(t)}const B=e=>{e.preventDefault();const t=i.value?.getNode?.();if(!t)return;const a=t.getPointerPosition()||{x:t.width()/2,y:t.height()/2},o=H(t,a),n=e.clipboardData;if(!n||0===n.files.length)return;const l=n.files[0];if(!l.type.startsWith("image/"))return;const r=new FileReader;r.onload=e=>{const t=new window.Image;t.src=e.target.result,t.onload=()=>{const a=new(Ct().Image)({id:(0,xt.A)(),image:t,x:o.x,y:o.y,width:t.width,height:t.height,draggable:!1});A(a);const n=j.value.getNode();a.setAttr("src",e.target.result),n.add(a);const l=new(Ct().Transformer)({nodes:[a],keepRatio:!1,flipEnabled:!1,boundBoxFunc:(e,t)=>Math.abs(t.width)<10||Math.abs(t.height)<10?e:t});n.add(l),n.draw()},r.onloadstart=function(){console.error("Starting")},r.onerror=function(e){console.error("FileReader error:",e.target.error)}},r.readAsDataURL(l)},M=async e=>{try{t.value=!0;const o=new URL(window.location.href).pathname.split("/"),n=o[3];if("save"===e){const e=await fetch(`${_}/codraw/save_project`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({project:n,payload:JSON.stringify(i.value.getStage().toJSON()),bg:f.value}),credentials:"include"}),o=await e.json();let l=!0;200===o.status&&(l=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),l?d.value=!0:(Y(),u.value=!0,h.value="Board was successfully quick saved.")}else if("load"===e){const e=await fetch(`${_}/codraw/save_project`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:n})}),t=await e.json();return 200===t.status}}catch(o){console.error(o)}};function Q(){localStorage.removeItem("storage"),c.value?window.location.href="http://localhost:8081/codraw":window.location.href="http://localhost:8081/"}function q(){c.value?(localStorage.removeItem("storage"),J.clearRect(0,0,P.width,P.height),j.value.getNode().clear(),j.value.getNode().batchDraw()):(u.value=!0,h.value="You don't have neccessary permissions to clear the board.")}const H=e=>{const t=e.getAbsoluteTransform().copy();t.invert();const a=e.getPointerPosition();return t.point(a)},Y=()=>{const e=i.value?.getNode?.();if(!e)return;const t=e.toDataURL();k.value=[{id:Date.now(),image:t}],localStorage.setItem("storage",JSON.stringify(k.value))},G={image:P,x:0,y:0,width:P.width,height:P.height},Z=e=>{const t=e.target.getStage();if(2===e.evt.button)return O.value=!0,t.draggable(!0),t.startDrag(),void(C.value=t.getPointerPosition());w.value=!0;const a=H(t),o=new(Ct().Line)({stroke:p.value,strokeWidth:y.value,globalCompositeOperation:"eraser"===b.value?"destination-out":"source-over",points:[a.x,a.y],lineCap:"round",lineJoin:"round"});F.value.send(JSON.stringify({type:"start",stroke:p.value,width:y.value,operation:"eraser"===b.value?"destination-out":"source-over",points:[a.x,a.y]})),j.value.getNode().add(o),l.value=o},ee=e=>{if(w.value=!1,l.value=null,O.value){const t=e.target.getStage();t.draggable(!1),O.value=!1}},te=e=>{if(!w.value||!l.value)return;const t=e.target.getStage(),a=H(t),o=l.value.points().concat([a.x,a.y]);l.value.points(o),j.value.getNode().batchDraw(),F.value.send(JSON.stringify({type:"draw",points:[a.x,a.y]}))},ae=async()=>{try{const e=new URL(window.location.href).pathname.split("/"),t=e[3],a=await fetch(`${_}/codraw/get_details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:t})}),o=await a.json(),n=o.canva,l=o.bg;if(l&&(f.value=l,E.value="#ffffff"===l),n){const e=JSON.parse(n),t=j.value.getNode();t.destroyChildren(),e.children[0].children.forEach(e=>{if("Image"===e.className&&e.attrs.src){const t=new window.Image;t.src=e.attrs.src,e.attrs.image=t}const a=Ct().Node.create(e);t.add(a)}),t.draw()}}catch(e){console.error(e)}};return(0,n.sV)(async()=>{t.value=!0,await(0,n.dY)(),V(),await M("load")&&setTimeout(()=>ae(),100),await $();const e=i.value.getNode(),a=1.1;e.on("wheel",t=>{t.evt.preventDefault();const o=e.scaleX(),n=e.getPointerPosition(),l={x:(n.x-e.x())/o,y:(n.y-e.y())/o},r=t.evt.deltaY>0?1:-1;if(1===o&&-1===r)return;const i=r>0?o*a:o/a;L.value=i,e.scale({x:i,y:i});const s={x:n.x-l.x*i,y:n.y-l.y*i};e.position(s),e.batchDraw()});let o=null;window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(()=>{const e=i.value?.getNode(),t=R.value?.getNode();if(!e||!t)return;const a=window.innerWidth,o=window.innerHeight;P.width=4*a,P.height=4*o,e.width(P.width),e.height(P.height),t.width(P.width),t.height(P.height);const n=t.getLayer();n&&n.batchDraw()},100)});const l=()=>{s.value=window.innerWidth};window.addEventListener("resize",l),window.addEventListener("paste",B);const r=document.createElement("div");r.id="preview",r.style.position="absolute",r.style.bottom="15px",r.style.left="15px",r.style.border="5px solid #ffc107",r.style.borderRadius="5%",r.style.backgroundColor="lightgrey",document.body.appendChild(r);const c=new(Ct().Stage)({container:"preview",width:window.innerWidth/8,height:window.innerHeight/8,scaleX:1/32,scaleY:1/32});let d=j.value.getNode(),u=new(Ct().Layer);const v=new(Ct().Rect)({x:0,y:0,width:32*c.width(),height:32*c.height(),fill:f.value,listening:!1});function h(){const e=JSON.parse(i.value.getStage().toJSON());u.destroyChildren(),u.add(v),e.children[0].children.forEach(e=>{const t=Ct().Node.create(e);u.add(t)}),u.draw()}c.add(u),u.add(v),(0,n.wB)(E,()=>{f.value=E.value?"#ffffff":"#000000",p.value=E.value?"#000000":"#ffffff",v.fill(f.value),u.batchDraw(),F.value.send(JSON.stringify({type:"bg",bg:f.value}))},{immediate:!0}),t.value=!1,d.on("add destroy change",h),h()}),setInterval(()=>Y(),6e4),(0,n.xo)(()=>{F.value&&F.value.close(),t.value=!0}),(0,n.hi)(()=>{window.removeEventListener("paste",B)}),(e,a)=>{const l=(0,n.g2)("v-image"),s=(0,n.g2)("v-layer"),f=(0,n.g2)("v-stage");return(0,n.uX)(),(0,n.CE)("div",Rt,[t.value?((0,n.uX)(),(0,n.CE)("div",St,[(0,n.bF)((0,r.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[u.value?((0,n.uX)(),(0,n.CE)("div",_t,[(0,n.Lk)("div",Tt,[(0,n.Lk)("button",{onClick:a[0]||(a[0]=e=>u.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}}," ✕ "),(0,n.Lk)("p",null,(0,S.v_)(h.value),1),(0,n.Lk)("button",{onClick:a[1]||(a[1]=e=>u.value=!1),id:"close_form",style:{"margin-top":"20px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer"}}," Close ")])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",jt,[(0,n.Lk)("button",{onClick:a[2]||(a[2]=e=>E.value=!E.value),style:(0,S.Tr)([{"border-radius":"50%",padding:"1rem","border-color":"#f68608","border-width":"5px"},{backgroundColor:E.value?"#ffffff":"#000000"}])},null,4),a[18]||(a[18]=(0,n.Lk)("text",{style:{color:"white"}},"Brush Color",-1)),(0,n.bo)((0,n.Lk)("input",{type:"color","onUpdate:modelValue":a[3]||(a[3]=e=>p.value=e)},null,512),[[o.Jo,p.value]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>b.value=e),style:{background:"#23272f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 16px","font-size":"1rem",outline:"none",cursor:"pointer"}},[...a[17]||(a[17]=[(0,n.Lk)("option",{value:"brush"},"Brush",-1),(0,n.Lk)("option",{value:"eraser"},"Eraser",-1)])],512),[[o.u1,b.value]]),a[19]||(a[19]=(0,n.Lk)("label",{style:{color:"#fff","font-size":"1rem","margin-right":"8px"}}," Line Width ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"range","onUpdate:modelValue":a[5]||(a[5]=e=>y.value=e),min:"1",max:"20",style:{"accent-color":"#4f8cff",width:"60px","margin-right":"8px"}},null,512),[[o.Jo,y.value]]),(0,n.Lk)("span",Ot,(0,S.v_)(y.value),1),(0,n.Lk)("button",{id:"save_btn",onClick:a[6]||(a[6]=e=>M("save")),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Save"),(0,n.Lk)("button",{onClick:a[7]||(a[7]=e=>Q()),id:"exit",style:{background:"#ff4f4f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Exit"),c.value?((0,n.uX)(),(0,n.CE)("button",{key:0,id:"clearall",style:{background:"#f68608",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"},onClick:a[8]||(a[8]=e=>q())}," Clear all ")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Et,[(0,n.Lk)("button",{id:"inv",onClick:U,style:{display:"flex","align-items":"center",gap:"8px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"10px",padding:"10px 18px","font-size":"0.95rem","font-weight":"500",cursor:"pointer",transition:"ease-in-out 0.6s"}},[(0,n.Lk)("img",{src:(0,r.R1)(yt),alt:"Copy",style:{width:"18px",height:"18px"}},null,8,Kt),K.value?((0,n.uX)(),(0,n.CE)("span",zt,"Copy invitation link")):(0,n.Q3)("",!0)])]),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[d.value?((0,n.uX)(),(0,n.CE)("div",Ft,[(0,n.Lk)("button",{onClick:a[9]||(a[9]=e=>d.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer",transition:"color 0.2s"}}," ✕ "),(0,n.Lk)("div",Nt,[a[20]||(a[20]=(0,n.Lk)("label",{class:"align-self-start"},"Title",-1)),(0,n.Lk)("div",Xt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>v.value=e),type:"text",placeholder:"Enter title",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[o.Jo,v.value]]),(0,n.Lk)("span",Pt,(0,S.v_)(v.value&&v.value.length||0),1)])]),(0,n.Lk)("div",Jt,[a[21]||(a[21]=(0,n.Lk)("label",{class:"align-self-start"},"Description",-1)),(0,n.Lk)("div",It,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[11]||(a[11]=e=>g.value=e),rows:"3",placeholder:"Enter description",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",resize:"none",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[o.Jo,g.value]]),(0,n.Lk)("span",$t,(0,S.v_)(g.value&&g.value.length||0),1)])]),(0,n.Lk)("div",Ut,[a[23]||(a[23]=(0,n.Lk)("label",{style:{"flex-shrink":"0"}},"Private",-1)),(0,n.Lk)("label",Vt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>m.value=e),type:"checkbox","true-value":"private","false-value":"public"},null,512),[[o.lH,m.value]]),a[22]||(a[22]=(0,n.Lk)("span",{class:"slider"},null,-1))])]),(0,n.Lk)("button",{id:"save_def",onClick:a[13]||(a[13]=e=>D()),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"12px",padding:"12px","font-size":"1rem","font-weight":"500",cursor:"pointer",transition:"0.5s ease-out"},class:"save"}," Save Details ")])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",Dt,[(0,n.Lk)("label",{style:{"font-size":"larger",cursor:"pointer",width:"2rem"},onClick:a[14]||(a[14]=e=>I("up"))},"+"),(0,n.Lk)("img",{src:(0,r.R1)(kt),class:"img-fluid",style:{width:"1.2rem",height:"1.2rem"}},null,8,Wt),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>x.value=e),style:{width:"60px","text-align":"center","border-style":"none"},disabled:""},null,512),[[o.Jo,x.value]]),(0,n.Lk)("label",{style:{"font-size":"larger",cursor:"pointer",width:"2rem"},onClick:a[16]||(a[16]=e=>I("down"))},"-")]),(0,n.Lk)("div",{class:"board-wrapper",style:(0,S.Tr)({backgroundColor:E.value?"#ffffff":"#000000"})},[(0,n.bF)(f,{ref_key:"stageRef",ref:i,config:z,onMousedown:Z,onMousemove:te,onMouseup:ee,onTouchstart:Z,onTouchmove:te,onTouchend:ee,onContextmenu:X,style:{"overflow-x":"hidden","overflow-y":"hidden",border:"none !important"}},{default:(0,n.k6)(()=>[(0,n.bF)(s,{ref_key:"layerRef",ref:j},{default:(0,n.k6)(()=>[(0,n.bF)(l,{ref_key:"imageRef",ref:R,config:G},null,512)]),_:1},512)]),_:1},512)],4)])}}};const Bt=(0,b.A)(At,[["__scopeId","data-v-26dd9eb2"]]);var Mt=Bt;const Qt=[{path:"/",component:ce},{path:"/signup",component:le},{path:"/signin",component:V},{path:"/codraw",component:nt},{path:"/codraw/settings",component:st},{path:"/codraw/account",component:wt},{path:"/board/:id/:room",component:Mt}],qt=(0,R.aE)({history:(0,R.LA)(),routes:Qt});(0,o.Ef)(L).use(qt).use(C.A).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,l){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],l=e[d][2];for(var i=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(a.O).every(function(e){return a.O[e](o[s])})?o.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,n,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,r=o[0],i=o[1],s=o[2],c=0;if(r.some(function(t){return 0!==e[t]})){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var d=s(a)}for(t&&t(o);c<r.length;c++)l=r[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(5275)});o=a.O(o)})();
//# sourceMappingURL=app.71f6bcc7.js.map