{"version":3,"file":"js/app.889a14f8.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/components/Navbar.vue","webpack://frontend/./src/components/Navbar.vue?436b","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/common.js","webpack://frontend/./src/components/Footer.vue","webpack://frontend/./src/components/Footer.vue?7cca","webpack://frontend/./src/components/SignIn.vue","webpack://frontend/./src/components/SignIn.vue?faab","webpack://frontend/./src/components/SignUp.vue","webpack://frontend/./src/components/SignUp.vue?b466","webpack://frontend/./src/components/Hero.vue","webpack://frontend/./src/components/Hero.vue?ee45","webpack://frontend/./src/components/SiDebar.vue","webpack://frontend/./src/components/SiDebar.vue?ed1f","webpack://frontend/./src/components/Main.vue","webpack://frontend/./src/components/Main.vue?4fee","webpack://frontend/./src/components/AccOunt.vue","webpack://frontend/./src/components/AccOunt.vue?d20b","webpack://frontend/./src/components/BoArd.vue","webpack://frontend/./src/components/BoArd.vue?01d0","webpack://frontend/./src/components/RestorePassword.vue","webpack://frontend/./src/components/RestorePassword.vue?5582","webpack://frontend/./src/components/LearnMore.vue","webpack://frontend/./src/components/LearnMore.vue?df84","webpack://frontend/./src/components/NotFound.vue","webpack://frontend/./src/components/NotFound.vue?13e4","webpack://frontend/./src/components/SeArch.vue","webpack://frontend/./src/components/SeArch.vue?be99","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/harmony module decorator","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n\t<NavBar v-if=\"$route.meta.showNav\"/>\n  <router-view/>\n</template>\n\n<script>\nimport NavBar from './components/Navbar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    NavBar,\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n\n#app {\n  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: 1.2rem;\n}\nhtml, body, #app {\n  height: 100%;\n  min-height: 100vh;\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  overflow-y: auto !important;\n  scrollbar-width: thin !important;\n}\n</style>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark hero-background shadow p-3\" style=\"background-color: black !important;\">\n    <div class=\"container-fluid\">\n      <RouterLink class=\"navbar-brand d-flex align-items-center\" to=\"/\">\n        <img :src=\"imageUrl\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" height=\"60\" class=\"me-2\" />\n        <span>CoDraw</span>\n      </RouterLink>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\" aria-controls=\"offcanvasNavbar\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"offcanvas offcanvas-end\" tabindex=\"-1\" id=\"offcanvasNavbar\" style=\"background-color: black; max-width: 80vw;\">\n        <div class=\"offcanvas-header border-bottom border-secondary\">\n          <h5 class=\"offcanvas-title text-white\" id=\"offcanvasNavbarLabel\">Menu</h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"offcanvas-body\">\n          <ul class=\"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-column flex-lg-row align-items-center\">\n            <li class=\"nav-item my-2 my-lg-0 mx-2\">\n              <RouterLink class=\"btn btn-signup w-100\" to=\"/signup\" @click=\"navigateAndClose\">Sign up</RouterLink>\n            </li>\n            <li class=\"nav-item my-2 my-lg-0 mx-2\">\n              <RouterLink class=\"btn btn-signin w-100\" to=\"/signin\" @click=\"navigateAndClose\">Sign in</RouterLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n<script setup>\nimport imageUrl from '@/assets/logo.webp'\n\nconst navigateAndClose = () => {\n  const offcanvas = document.getElementById('offcanvasNavbar')\n  // eslint-disable-next-line no-undef\n  const bsOffcanvas = bootstrap.Offcanvas.getInstance(offcanvas)\n  if (bsOffcanvas) {\n    bsOffcanvas.hide()\n  }\n}\n</script>\n<script>\nexport default {\n  name: 'NavBar',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<style scoped>\n  .hero-background {\n    background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%) !important;\n    text-align: center;\n    position: relative;\n    overflow: hidden;\n  }\n  .hero-background::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1px;\n    background: linear-gradient(90deg, rgba(255, 215, 0, 0.3));\n  }\n  .btn-signup, .btn-signin {\n    padding: 0.6rem 1.5rem;\n    font-weight: 600;\n    font-size: 0.95rem;\n    letter-spacing: 0.02em;\n    border-radius: 8px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    text-transform: uppercase;\n    border: 2px solid transparent;\n  }\n\n  .btn-signup {\n    background: linear-gradient(135deg, #facc15 0%, #eab308 100%);\n    color: #000;\n    border-color: #facc15;\n    box-shadow: 0 4px 14px rgba(250, 204, 21, 0.4);\n  }\n\n  .btn-signup:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(250, 204, 21, 0.6);\n    background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);\n    border-color: #eab308;\n    color: #000;\n  }\n\n  .btn-signup:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.3);\n  }\n\n  .btn-signin {\n    background: transparent;\n    color: #fff;\n    border: 2px solid rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n  }\n\n  .btn-signin:hover {\n    transform: translateY(-2px);\n    background: rgba(255, 255, 255, 0.1);\n    border-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0 4px 14px rgba(255, 255, 255, 0.15);\n    color: #fff;\n  }\n\n  .btn-signin:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  .btn-signup:active, .btn-signin:active {\n    transform: translateY(0);\n  }\n</style>\n","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=e6cab236&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e6cab236\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45b95b92\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45b95b92&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const BASE_URL = process.env.VUE_APP_BASE_URL;\nexport const WS_URL = process.env.VUE_APP_WS_URL;\nexport const GTAG = process.env.VUE_APP_GTAG;\nexport const GOOGLE_ID = process.env.VUE_APP_GOOGLE_ID;\nfunction get_cookie(name) {\n\tlet cookieValue = null;\n\tif (document.cookie && document.cookie !== '') {\n\t\tconst cookies = document.cookie.split(';');\n\t\tfor (let i = 0; i < cookies.length; i++) {\n\t\t\tconst cookie = cookies[i].trim();\n\t\t\tif (cookie.substring(0, name.length + 1) === (name + '=')) {\n\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn cookieValue;\n}\nexport { get_cookie };\n","<template>\n<footer class=\"footer-section\">\n    <div class=\"container text-center\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4 mb-3 footer-brand\">\n          <h3 class=\"footer-title\">CoDraw</h3>\n          <p class=\"footer-desc\">\n            Collaborative drawing made simple, fast, and fun. Create together from anywhere.\n          </p>\n        </div>\n        <div class=\"col-md-2 mb-3 footer-links\">\n          <h5>Explore</h5>\n          <ul>\n            <li><router-link to=\"/\">Home</router-link></li>\n            <li><router-link to=\"/signup\">Get Started</router-link></li>\n          </ul>\n        </div>\n        <div class=\"col-md-3 mb-3 footer-social\">\n          <h5>Follow Us</h5>\n          <div class=\"social-icons\">\n            <a href=\"https://github.com/Damian0563/CoDraw\"><font-awesome-icon :icon=\"['fab', 'github']\" /></a>\n          </div>\n        </div>\n      </div>\n      <hr class=\"footer-divider\" />\n      <p class=\"footer-copy\">\n         {{ new Date().getFullYear() }} CoDraw. All rights reserved.\n      </p>\n    </div>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: \"FoOter\",\n};\n</script>\n<style scoped>\n.footer-section {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  color: #d9d9d9;\n  padding: 4rem 1rem 2rem 1rem;\n  border-top: 2px solid rgba(255, 255, 0, 0.2);\n  text-align: center;\n}\n\n.footer-title {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 0.8rem;\n}\n\n.footer-desc {\n  font-size: 1rem;\n  color: #bfbfbf;\n  line-height: 1.6;\n}\n\n.footer-links h5 {\n  color: yellow;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n}\n\n.footer-links ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.footer-links li {\n  margin: 0.4rem 0;\n}\n\n.footer-links a {\n  color: #d9d9d9;\n  text-decoration: none;\n  transition: color 0.3s ease;\n}\n\n.footer-links a:hover {\n  color: yellow;\n}\n\n.footer-social h5 {\n  color: yellow;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n}\n\n.social-icons a {\n  color: #d9d9d9;\n  font-size: 3rem;\n  margin: 0 0.5rem;\n  transition: all 0.3s ease;\n}\n\n.social-icons a:hover {\n  color: yellow;\n  transform: scale(1.2);\n}\n\n.footer-divider {\n  border-color: rgba(255, 255, 0, 0.2);\n  margin: 2rem 0 1rem;\n}\n\n.footer-copy {\n  color: #a8a8a8;\n  font-size: 0.95rem;\n}\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=0c2a4688&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=0c2a4688&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c2a4688\"]])\n\nexport default __exports__","<template>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n       role=\"alert\"\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n    <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n      <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n    </div>\n    </div>\n  </Transition>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"recoverySuccess\" class=\"alert alert-success text-center custom-alert p-2\"\n       role=\"alert\"\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(40,167,69,0.10); background: #222; border: 1.5px solid #28a745;\">\n    <button @click=\"recoverySuccess=false\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n      <strong style=\"color: #28a745; font-size: 1rem;\">{{ message }}</strong>\n    </div>\n    </div>\n  </Transition>\n  <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"recovery\" class=\"recovery-container\" role=\"alert\">\n      <button @click=\"recovery=false\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n      <h2 class=\"recovery-title\">Input your email, recovery link will be sent to you!</h2>\n      <form\n        class=\"mb-3 needs-validation\"\n        :class=\"{ 'was-validated': validated }\"\n        novalidate\n        @submit.prevent=\"sendReset\"\n      >\n        <label for=\"emailInput\" class=\"form-label recovery-label\">Email Address</label>\n        <input\n          type=\"email\"\n          class=\"form-control form-control-lg mb-3 recovery-input\"\n          placeholder=\"e.g. name@example.com\"\n          required\n          v-model=\"name_or_mail\"\n        />\n        <div class=\"invalid-feedback mb-2 recovery-invalid-feedback\">\n          Please specify a valid email address.\n        </div>\n        <button type=\"submit\" class=\"btn recovery-btn btn-lg w-100 shadow-sm mt-3\">\n          Send Recovery Link\n        </button>\n      </form>\n    </div>\n  </Transition>\n  <div class=\"d-flex justify-content-center pt-5 mb-5 hero-background\">\n    <div class=\"card p-3 shadow-lg w-60 mx-5\" style=\"max-width: 1000px; width: 100%; background: white; border: none; min-height: unset;\">\n      <h2 class=\"text-center mb-3 text-black\">Sign In</h2>\n      <form ref=\"formRef\" @submit=\"SignIn\" class=\"needs-validation\" novalidate>\n        <div class=\"mb-2\">\n          <label for=\"email\" class=\"form-label text-black text-start w-100\" autocomplete=\"on\">Email address</label>\n          <input type=\"email\" v-model=\"name_or_mail\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\n          <div class=\"invalid-feedback\">\n            Please specify email.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"password\" class=\"form-label text-black text-start w-100\" autocomplete=\"on\">Password</label>\n          <input type=\"password\" v-model=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\n          <div class=\"invalid-feedback\">\n            Please specify password.\n          </div>\n        </div>\n        <div class=\"form-check d-flex align-items-center mb-3 w-100 flex-wrap\" style=\"padding: 0 !important;gap: 1.2rem;\">\n          <label class=\"form-check-label text-black fw-medium mb-0\" for=\"rememberMe\">\n            Remember me\n          </label>\n          <input type=\"checkbox\" ref=\"ticked\" @click=\"ticked=!ticked\" id=\"rememberMe\" style=\"accent-color:#ffc107;margin: 0 !important;width:1.25rem;height:1.25rem;\">\n        </div>\n        <button id=\"sign\" type=\"submit\" class=\"btn btn-success w-50 mt-2\" style=\"background-color: yellow;color: black;\">Sign In</button>\n\t\t\t\t<div class=\"d-flex justify-content-center mt-2\">\n\t\t\t\t\t<div id=\"google-signin-button\" class=\"g-signin2\"></div>\n\t\t\t\t</div>\n      </form>\n      <div class=\"text-center mt-2\">\n        <span class=\"text-secondary\">Do not have an account?</span>\n        <RouterLink to=\"/signup\" class=\"ms-2 text-info\">Sign up</RouterLink>\n      </div>\n      <div class=\"text-center mt-2\">\n        <text @click=\"recovery=true\" class=\"ms-2 text-info\" style=\"cursor: pointer;\">Forgot your password?</text>\n      </div>\n    </div>\n  </div>\n  <FoOter />\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { get_cookie } from '@/common'\nimport {BASE_URL} from '../common.js'\nimport {GOOGLE_ID} from '../common.js'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport FoOter from './Footer.vue'\n\nlet message = ref('')\nlet invalid = ref(false)\nlet ticked= ref(false)\nconst loading=ref(false);\nconst name_or_mail = ref('')\nconst password = ref('')\nconst validated = ref(false);\nconst recovery=ref(false);\nconst recoverySuccess=ref(false);\nconst formRef = ref(null);\n\n\nasync function sendReset(event){\n  try{\n    const form = event.currentTarget;\n    validated.value = true;\n    if (!form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    recovery.value=false;\n    loading.value=true;\n    invalid.value = false;\n    recoverySuccess.value = false;\n    const data=await fetch(`${BASE_URL}/restore_password/${name_or_mail.value}`, {\n        method: 'GET',\n        headers: {\n          'X-CSRFToken': get_cookie('csrftoken')\n        },\n        credentials: 'include'\n    })\n    const response=await data.json()\n    loading.value=false;\n    if(response.status===200){\n      message.value=\"Recovery link sent, its validity is 5 minutes! Please check your email.\";\n      recoverySuccess.value = true;\n    } else {\n      message.value = 'This email is not registered. Please check your email address.';\n      invalid.value = true;\n    }\n  }catch(e){\n    console.error(e)\n    loading.value=false;\n    message.value = 'An error occurred while sending reset email. Please try again later.';\n    invalid.value = true;\n  }\n}\n\nasync function SignIn(e){\n  e.preventDefault()\n  const form = formRef.value;\n  form.classList.add('was-validated')\n  if (!form.checkValidity()) {\n    e.stopPropagation()\n    return;\n  }\n  loading.value=true;\n  try{\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"mail\": name_or_mail.value,\n        \"password\": password.value,\n        \"remember\": ticked.value\n      })\n    });\n    const response = await data.json();\n    if(response.status===200){\n      window.location.href = '/codraw';\n    }else{\n      invalid.value = true;\n      message.value ='Invalid credentials. Please try again.';\n    }\n    loading.value=false;\n  }catch(e){\n    console.error(e)\n    invalid.value = true\n    message.value = 'An error occurred while signing in.'\n    loading.value=false;\n  }\n}\nasync function status(){\n  try {\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signin`, {\n      method: 'GET',\n      headers:{'X-CSRFToken':csrf},\n      credentials: 'include'\n    });\n    const response = await data.json();\n    if (response.status === 300) {\n      window.location.href = '/codraw';\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nasync function handleCredentialResponse(response) {\n  try {\n    loading.value = true;\n    const csrf = get_cookie('csrftoken');\n    // Decode the JWT token to get user info\n    const payload = JSON.parse(atob(response.credential.split('.')[1]));\n    const data = await fetch(`${BASE_URL}/google-signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"token\": payload.sub,\n        \"email\": payload.email,\n        \"name\": payload.name,\n      })\n    });\n    const result = await data.json();\n\t\tconsole.log(result.status);\n    if (result.status === 200) {\n      window.location.href = '/codraw';\n    } else if (result.status === 401) {\n      invalid.value = true;\n      message.value = 'Google sign-in failed, the following email is already registered. Did you forget your password?';\n    } else {\n      invalid.value = true;\n      message.value = 'Google sign-in failed. Please sign up first.';\n    }\n  } catch (e) {\n    invalid.value = true;\n    message.value = 'An error occurred during Google sign-in.';\n  } finally {\n    loading.value = false;\n  }\n}\n\nonMounted(() => {\n  window.google.accounts.id.initialize({\n    client_id: `${GOOGLE_ID}.apps.googleusercontent.com`,\n    callback: handleCredentialResponse\n  });\n  window.google.accounts.id.renderButton(\n    document.getElementById(\"google-signin-button\"),\n    { theme: \"outline\", size: \"large\" }\n  );\n\tstatus();\n});\n</script>\n<style scoped>\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.card {\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  border-radius: 1.5rem;\n  border: 2px solid #ffc107;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\n  padding: 2rem 1.5rem;\n  margin-top: 1.5rem;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.card:hover {\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\n}\n.card h2 {\n  color: #ffc107;\n  font-weight: 700;\n  letter-spacing: 1px;\n  margin-bottom: 1.2rem;\n}\n.card label {\n  color: #ffc107;\n  font-weight: 500;\n}\n.card input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  margin-bottom: 0.7rem;\n}\n.card input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n#sign {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n}\n#sign:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\ninput::placeholder {\n  color: #ccc !important;\n  opacity: 1;\n}\n\n.recovery-container {\n  max-width: 80vw;\n  width: 500px;\n\tmin-width: 400px;\n  position: fixed;\n  top: 8rem;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5000;\n  font-size: 0.95rem;\n  border-radius: 1.5rem;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.18);\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  border: 2px solid #ffc107;\n  padding: 2rem 1.5rem;\n  text-align: center;\n}\n\n.recovery-container .close-btn {\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  width: 1.8rem;\n  height: 1.8rem;\n  font-size: 1.2rem;\n  line-height: 1.2rem;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n}\n\n.recovery-container .close-btn:hover {\n  background-color: #c82333;\n  transform: scale(1.1);\n}\n\n.recovery-title {\n  color: #ffc107;\n  font-weight: 700;\n  font-size: 1.5rem;\n  margin-bottom: 1.5rem;\n  margin-top: 1.5rem;\n  line-height: 1.3;\n}\n\n.recovery-label {\n  color: #ffc107;\n  font-weight: 500;\n  font-size: 0.95rem;\n  display: block;\n  text-align: left;\n  margin-bottom: 0.5rem;\n}\n\n.recovery-input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  padding: 0.75rem 1rem;\n  font-size: 1rem;\n}\n\n.recovery-input::placeholder {\n  color: #ccc;\n  opacity: 1;\n}\n\n.recovery-input:focus {\n  border-color: #007bff;\n  background: #333;\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);\n  color: #fff;\n}\n\n.recovery-btn {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  padding: 0.75rem;\n}\n\n.recovery-btn:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.recovery-invalid-feedback {\n  color: #dc3545;\n  font-size: 0.875rem;\n  text-align: left;\n}\n\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  min-height: 50vh;\n  width: 100%;\n}\n</style>\n","import script from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=1f6b470a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1f6b470a\"]])\n\nexport default __exports__","<template>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n        role=\"alert\"\n        style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n      <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n      <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n        <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n        <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\n      </div>\n    </div>\n  </Transition>\n  <div v-if=\"visible\" class=\"overlay\">\n    <div class=\"popup-card\">\n      <button @click=\"visible=false\" aria-label=\"Close\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n      <h4 class=\"mb-3\">Enter Verification Code</h4>\n      <div class=\"d-flex justify-content-center mb-3\">\n        <input maxlength=\"1\" id=\"1\" @keyup=\"handleInput($event,2)\" ref=\"ZeroInput\" v-model=\"zero\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"2\" @keyup=\"handleInput($event,3)\" v-model=\"one\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\" ref=\"OneInput\"/>\n        <input maxlength=\"1\" id=\"3\" @keyup=\"handleInput($event,4)\" v-model=\"two\" ref=\"TwoInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"4\" @keyup=\"handleInput($event,5)\" v-model=\"three\" ref=\"ThreeInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"5\" @keyup=\"handleInput($event,6)\" class=\"code-input\" v-model=\"four\" ref=\"FourInput\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n      </div>\n      <button class=\"btn btn-primary w-100\" @click=\"verifyCode\">Verify</button>\n    </div>\n  </div>\n\t<div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <div class=\"d-flex justify-content-center pt-5 mb-5 hero-background\">\n    <div class=\"card p-3 shadow-lg w-60 mx-5\" style=\"max-width: 1000px; width: 100%; background: white; border: none; min-height: unset;\">\n      <h2 class=\"text-center mb-3 text-black\">Sign Up</h2>\n      <form ref=\"formRef\" @submit=\"SignUp\" class=\"needs-validation\" novalidate>\n        <div class=\"mb-2\">\n          <label for=\"username\" class=\"form-label text-black text-start w-100\">Username</label>\n          <input v-model=\"username\" type=\"text\" class=\"form-control bg-dark text-white border-secondary\" id=\"username\" placeholder=\"Enter username\" style=\"color: white;\" required>\n          <div class=\"invalid-feedback\">\n            Please specify username.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\n          <input v-model=\"mail\" type=\"email\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\n          <div class=\"invalid-feedback\">\n            Please specify email.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\n          <input v-model=\"password\" type=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\n          <div class=\"invalid-feedback\">\n            Please specify password.\n          </div>\n        </div>\n        <button id=\"sign\" class=\"btn btn-success w-50 mt-2\" type=\"submit\" style=\"background-color: yellow;color: black;\">Sign Up</button>\n      </form>\n\t\t\t<div class=\"d-flex justify-content-center mt-2\">\n\t\t\t\t<div id=\"google-signup-button\" class=\"g-signup2\"></div>\n\t\t\t</div>\n      <div class=\"text-center mt-2\">\n        <span class=\"text-secondary\">Already have an account?</span>\n        <RouterLink to=\"/signin\" class=\"ms-2 text-info\">Sign In</RouterLink>\n      </div>\n    </div>\n  </div>\n  <FoOter/>\n</template>\n<script setup>\nimport { ref,nextTick,onMounted } from 'vue'\nimport { get_cookie } from '@/common'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport {BASE_URL} from '../common.js'\nimport {GOOGLE_ID} from '../common.js'\nimport FoOter from './Footer.vue'\nlet visible=ref(false)\nlet formRef=ref(null)\nlet invalid=ref(false)\nlet message=ref('')\nconst loading=ref(false);\nconst username = ref('')\nconst password = ref('')\nconst mail = ref('')\nconst ZeroInput = ref(null)\nconst OneInput = ref(null)\nconst TwoInput = ref(null)\nconst ThreeInput = ref(null)\nconst FourInput = ref(null)\nconst zero = ref('')\nconst one = ref('')\nconst two = ref('')\nconst three = ref('')\nconst four = ref('')\nasync function status(){\n  try {\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signup`, {\n      method: 'GET',\n      headers:{'X-CSRFToken':csrf},\n      credentials: 'include'\n    });\n    const response = await data.json();\n    if (response.status === 300 && window.location.pathname !== '/codraw') {\n      window.location.href = '/codraw';\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\nstatus();\nasync function SignUp(e) {\n  e.preventDefault()\n  const form = formRef.value;\n  form.classList.add('was-validated')\n  if (!form.checkValidity()) {\n    e.stopPropagation()\n    return;\n  }\n  const csrf=get_cookie('csrftoken')\n  const username_input=username.value\n  const password_input= password.value\n  const mail_input=mail.value\n  try{\n    const data = await fetch(`${BASE_URL}/signup`,{\n      method:\"POST\",\n      headers:{\"Content-Type\":'application/json','X-CSRFToken':csrf},\n      body:JSON.stringify({\n        \"username\":username_input,\n        \"mail\":mail_input,\n        \"password\":password_input\n      }),\n      credentials: 'include'\n    })\n    const response=await data.json()\n    if(response.status===200){\n      visible.value=true\n\t\t\tawait nextTick()\n      ZeroInput.value.focus()\n    }else{\n      invalid.value=true\n      message.value=\"Account already registered under this email. Did you forget your password?\"\n    }\n  } catch (e) {\n    console.error(e)\n  }\n}\nfunction handleInput(event,index){\n\tif(event.key.startsWith(\"Arrow\") || !(\"0123456789\".includes(event.key))) return;\n\tif(event.key===\"Backspace\" || event.key==\"Del\"){\n\t\tif(index===3 && !one.value) ZeroInput.value.focus()\n\t\telse if(index===5 && !three.value) TwoInput.value.focus()\n\t\telse if(index===4 && !two.value) OneInput.value.focus()\n\t\telse if(index===6 && !four.value) ThreeInput.value.focus()\n\t}else{\n\t\tif(index === 2 && OneInput.value) OneInput.value.focus()\n\t\telse if(index === 3 && TwoInput.value) TwoInput.value.focus()\n\t\telse if(index === 4 && ThreeInput.value) ThreeInput.value.focus()\n\t\telse if(index === 5 && FourInput.value) FourInput.value.focus()\n\t}\n}\n\nfunction getCode() {\n  return `${zero.value}${one.value}${two.value}${three.value}${four.value}`;\n}\n\nasync function verifyCode(){\n  const csrf=get_cookie('csrftoken')\n  const username_input=username.value\n  const mail_input=mail.value\n  const data=await fetch(`${BASE_URL}/verify`,{\n    method:\"POST\",\n    headers:{\n      'Content-Type':'application/json',\n      'X-CSRFToken':csrf\n    },\n    body:JSON.stringify({\n      \"username\":username_input,\n      \"mail\":mail_input,\n      \"code\":getCode(),\n    })\n  })\n  const response=await data.json()\n  if(response.status===200){\n    window.location.href = '/codraw'\n  } else {\n    visible.value=false\n    invalid.value=true\n    zero.value = ''\n    one.value = ''\n    two.value = ''\n    three.value = ''\n    four.value = ''\n    message.value = \"Invalid verification code. Please try again- new verification code has been sent.\";\n  }\n}\nasync function handleCredentialResponse(response) {\n  try {\n    loading.value = true;\n    const csrf = get_cookie('csrftoken');\n    // Decode the JWT token to get user info\n    const payload = JSON.parse(atob(response.credential.split('.')[1]));\n    const data = await fetch(`${BASE_URL}/google-signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"token\": payload.sub,\n        \"email\": payload.email,\n        \"name\": payload.name,\n      })\n    });\n    const result = await data.json();\n    if ( result.status === 300) {\n      window.location.href = '/codraw';\n    } else {\n      invalid.value = true;\n      message.value = 'Google sign-up failed. An account with this email already exists. Did you forget your password?';\n    }\n  } catch (e) {\n    invalid.value = true;\n    message.value = 'An error occurred during Google sign-up.';\n  } finally {\n    loading.value = false;\n  }\n}\nonMounted(() => {\n\tloading.value=true;\n  window.google.accounts.id.initialize({\n\t\tclient_id: `${GOOGLE_ID}.apps.googleusercontent.com`,\n    callback: handleCredentialResponse\n  });\n  window.google.accounts.id.renderButton(\n    document.getElementById(\"google-signup-button\"),\n    {\n      theme: \"outline\",\n      size: \"large\",\n      text: \"signup\"\n    }\n  );\n\tloading.value=false;\n});\n</script>\n\n<style scoped>\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.card {\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  border-radius: 1.5rem;\n  border: 2px solid #ffc107;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\n  padding: 2rem 1.5rem;\n  margin-top: 1.5rem;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.card:hover {\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\n}\n.card h2 {\n  color: #ffc107;\n  font-weight: 700;\n  letter-spacing: 1px;\n  margin-bottom: 1.2rem;\n}\n.card label {\n  color: #ffc107;\n  font-weight: 500;\n}\n.card input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  margin-bottom: 0.7rem;\n}\n.card input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n#sign {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n}\n#sign:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\ninput::placeholder {\n  color: #ccc !important;\n  opacity: 1;\n}\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0,0,0,0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n}\n.popup-card {\n  position: relative;\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  padding: 2.5rem 2rem 2rem 2rem;\n  border-radius: 1.5rem;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.45), 0 2px 8px rgba(255,255,0,0.10);\n  min-width: 400px;\n  max-width: 90vw;\n  text-align: center;\n  border: 2px solid #ffc107;\n}\n.popup-card h4 {\n  color: #ffc107;\n  font-weight: 700;\n  margin-bottom: 1.5rem;\n}\n.code-input {\n  width: 2.5rem;\n  height: 2.5rem;\n  margin: 0 0.3rem;\n  font-size: 2rem;\n  text-align: center;\n  border: 2px solid #ffc107;\n  border-radius: 8px;\n  background: #222;\n  color: #fff;\n  outline: none;\n  transition: border 0.2s, background 0.2s;\n}\n.code-input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n.popup-card .btn-primary {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  margin-top: 1.2rem;\n}\n.popup-card .btn-primary:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  min-height: 50vh;\n  width: 100%;\n}\n</style>\n","import script from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=47f7bfd5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47f7bfd5\"]])\n\nexport default __exports__","<template>\n  <div class=\"hero-background\">\n    <h1 class=\"hero-title\">CoDraw</h1>\n    <div class=\"d-flex align-items-center justify-content-center gap-5 flex-wrap\">\n      <font-awesome-icon :icon=\"['fa','paintbrush']\" class=\"feature-icon secondary-floating-icon\"/>\n      <font-awesome-icon :icon=\"['fa','feather-pointed']\" class=\"feature-icon hero-floating-icon\"/>\n      <p class=\"hero-subtitle mb-0 mx-2\">\n        <span ref=\"typewriterText\" class=\"typewriter-text\"></span>\n        <span class=\"cursor\">|</span>\n      </p>\n      <font-awesome-icon :icon=\"['fa','pencil']\" class=\"feature-icon hero-floating-icon\"/>\n      <font-awesome-icon :icon=\"['fa','paint-roller']\" class=\"feature-icon secondary-floating-icon\"/>\n    </div>\n    <router-link :to=\"getDemoPath()\" aria-label=\"Go to full demo\">\n\t\t\t<button class=\"demo-btn mt-4\" aria-label=\"Try Full Demo\">Start drawing now</button>\n\t\t</router-link>\n  </div>\n  <div class=\"features-section\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-3 mb-3\" v-for=\"(feature, i) in features\" :key=\"i\">\n          <div class=\"card feature-card h-100 bg-dark text-white shadow-lg scroll-reveal\" :style=\"{ transitionDelay: i * 250 + 'ms' }\">\n            <div class=\"card-body text-center\">\n              <font-awesome-icon :icon=\"feature.icon\" class=\"feature-icon\" />\n              <h5 class=\"card-title mt-3\">{{ feature.title }}</h5>\n              <p class=\"card-text\">{{ feature.text }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <section class=\"about-sec container text-center my-5 scroll-reveal\" aria-label=\"Our mission\">\n    <text class=\"about-title\">No subscriptions, no hidden fees</text><text class=\"about-text\" style=\"font-size: 2.5rem;\">- just free for everyone, forever with at most respect to privacy.</text>\n  </section>\n  <section id=\"about\" href=\"#about\" class=\"about-sec\" aria-label=\"About codraw\">\n    <div class=\"container\">\n      <div class=\"row align-items-center\">\n        <div class=\"col-md-6 about-text scroll-reveal\">\n          <h2 class=\"about-title\">About CoDraw</h2>\n          <p>\n            CoDraw was built for creators who believe in collaboration. Whether you're sketching concepts,\n            storyboarding, or designing together, CoDraw makes teamwork feel effortless and fun.\n            <br /><br />\n            With our real-time synchronization engine and a beautifully minimal interface, you can see every brushstroke\n            from your teammates the moment it happens  no refreshes, no lag, just instant creativity.\n            <br /><br />\n            Our mission is simple: empower creativity by connecting people through shared imagination.\n          </p>\n          <router-link to=\"/learn-more#learn-more\" aria-label=\"Learn More\">\n            <button class=\"about-btn mt-3\" aria-label=\"Learn More\">Learn More</button>\n          </router-link>\n        </div>\n        <div class=\"col-md-6 text-center about-visual scroll-reveal\" style=\"transition-delay: 200ms;\">\n          <img\n            :src=\"logo\"\n            alt=\"Collaborative Drawing\"\n            class=\"about-image\"\n\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\tdecoding=\"async\"\n          />\n        </div>\n      </div>\n    </div>\n  </section>\n  <section class=\"faq-section\" aria-label=\"Frequently Asked Questions\">\n    <div class=\"container\">\n      <h2 class=\"faq-title text-center mb-5 scroll-reveal\">Frequently Asked Questions</h2>\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-8\">\n          <div class=\"accordion\" id=\"faqAccordion\">\n            <div class=\"accordion-item faq-item scroll-reveal\" v-for=\"(faq, index) in faqs\" :key=\"index\" :style=\"{ transitionDelay: index * 100 + 'ms' }\">\n              <h2 class=\"accordion-header\" :id=\"'heading' + index\">\n                <button class=\"accordion-button faq-button\" type=\"button\" data-bs-toggle=\"collapse\"\n                        :data-bs-target=\"'#collapse' + index\" :aria-expanded=\"index === 0 ? 'true' : 'false'\"\n                        :aria-controls=\"'collapse' + index\">\n                  {{ faq.question }}\n                </button>\n              </h2>\n              <div :id=\"'collapse' + index\" class=\"accordion-collapse collapse\"\n                   :class=\"{ 'show': index === 0 }\" :aria-labelledby=\"'heading' + index\"\n                   data-bs-parent=\"#faqAccordion\">\n                <div class=\"accordion-body faq-body\">\n                  {{ faq.answer }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <FoOter />\n</template>\n\n<script>\nimport { get_cookie } from '@/common';\nimport { v4 as uuidv4 } from 'uuid'\nimport { BASE_URL } from '../common.js';\nimport logo from '@/assets/logo.webp';\nimport FoOter from './Footer.vue';\n\nexport default {\n  name: \"HeRo\",\n  components: {\n    FoOter\n  },\n  data() {\n    return {\n      logo,\n      fullText: \"Tired of emailing screenshots back and forth? Stop struggling with clunky tools and endless feedback loops. CoDraw lets you create together in real-timeno downloads, no subscriptions, just instant collaboration. Draw, brainstorm, and bring ideas to life with your team right now.\",\n      typewriterIndex: 0,\n      typewriterTimeout: null,\n      features: [\n        {\n          title: \"Modern and Slick\",\n          text: \"A visually appealing interface designed for a seamless and enjoyable drawing experience.\",\n          icon:['fas', 'palette']\n        },\n        {\n          title: \"Performance Oriented\",\n          text: \"Optimized for speed and responsiveness, ensuring smooth collaboration in real time.\",\n          icon: ['fas', 'bolt']\n        },\n        {\n          title: \"Intuitive Design\",\n          text: \"Easy-to-use tools and layout, making creativity accessible for everyone.\",\n          icon: ['fas', 'lightbulb']\n        }\n      ],\n      faqs: [\n        {\n          question: \"Is CoDraw really free forever?\",\n          answer: \"Yes! CoDraw is completely free with no subscriptions, hidden fees, or premium features. We believe creativity should be accessible to everyone.\"\n        },\n        {\n          question: \"How many people can collaborate on a single drawing?\",\n          answer: \"CoDraw supports real-time collaboration for multiple users. There's no strict limit - you can invite as many friends as you'd like to join your drawing session.\"\n        },\n        {\n          question: \"Do I need to create an account to use CoDraw?\",\n          answer: \"While you can try our demo without an account, creating one allows you to save your drawings, create private rooms, and collaborate with others.\"\n        },\n        {\n          question: \"What browsers does CoDraw support?\",\n          answer: \"CoDraw works on all modern browsers including Chrome, Firefox, Safari, and Edge. We recommend using the latest version for the best experience.\"\n        },\n        {\n          question: \"Can I use CoDraw on mobile devices?\",\n          answer: \"Yes! CoDraw is fully responsive and works great on tablets and mobile devices. Touch controls are optimized for drawing on smaller screens.\"\n        }\n      ]\n    };\n  },\n  mounted() {\n    this.check();\n    this.startTypewriter();\n    this.initScrollReveal();\n  },\n  beforeUnmount() {\n    if (this.typewriterTimeout) {\n      clearTimeout(this.typewriterTimeout);\n    }\n  },\n  methods: {\n    async check() {\n      try {\n        const csrf = get_cookie('csrftoken');\n        const data = await fetch(`${BASE_URL}/home`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrf\n          },\n          credentials: 'include',\n        });\n        const response = await data.json();\n        if (response.status === 300 && window.location.pathname !== '/codraw') {\n          window.location.href = '/codraw';\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\t\tgetDemoPath(){\n\t\t\treturn `/demo/${uuidv4()}?origin=home`\n\t\t},\n    startTypewriter() {\n      const typeNextChar = () => {\n        if (this.typewriterIndex < this.fullText.length && this.$refs.typewriterText) {\n          this.$refs.typewriterText.textContent += this.fullText.charAt(this.typewriterIndex);\n          this.typewriterIndex++;\n          this.typewriterTimeout = setTimeout(typeNextChar, 30);\n        }\n      };\n      this.typewriterTimeout = setTimeout(typeNextChar, 800);\n    },\n    initScrollReveal() {\n      const observerOptions = {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1\n      };\n      const observer = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            entry.target.classList.add('revealed');\n            observer.unobserve(entry.target);\n          }\n        });\n      }, observerOptions);\n\n      const elements = document.querySelectorAll('.scroll-reveal');\n      elements.forEach(el => observer.observe(el));\n    },\n  }\n};\n</script>\n\n<style scoped>\n.accordion-button:focus {\n\toutline: none;\n\tbox-shadow: none;\n}\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%) !important;\n  width: 100%;\n  min-height: 50vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem 2rem;\n  color: white;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.hero-title {\n  font-size: 4rem;\n  font-weight: 700;\n  letter-spacing: 2px;\n  margin-bottom: 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.hero-subtitle {\n  font-size: 1.3rem;\n  max-width: 700px;\n  line-height: 1.6;\n  color: #e0e0e0;\n  margin-bottom: 2rem;\n  min-height: 100px;\n}\n\n.typewriter-text {\n  display: inline;\n}\n\n.cursor {\n  display: inline-block;\n  color: yellow;\n  font-weight: 100;\n  animation: blink 0.7s infinite;\n}\n\n@keyframes blink {\n  0%, 50% { opacity: 1; }\n  51%, 100% { opacity: 0; }\n}\n\n@keyframes float {\n  0% { transform: translateY(0px); }\n  50% { transform: translateY(-20px); }\n  100% { transform: translateY(0px); }\n}\n\n.hero-floating-icon {\n  font-size: 4rem;\n  color: yellow;\n  filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));\n  animation: float 3s ease-in-out infinite;\n}\n\n.secondary-floating-icon {\n  font-size: 3rem;\n  color: gold;\n  filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));\n  animation: float 4s ease-in-out infinite;\n  animation-delay: 1.5s;\n}\n\n@media (max-width: 768px) {\n  .hero-floating-icon {\n    font-size: 3rem;\n    margin-top: 1rem;\n  }\n  .hero-subtitle {\n    text-align: center;\n  }\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.scroll-reveal {\n  opacity: 0;\n  transform: translateY(40px);\n  transition: opacity 0.8s ease, transform 0.8s ease;\n}\n\n.scroll-reveal.revealed {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.cta-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n}\n.cta-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n.features-section {\n  padding: 4rem 1rem;\n  overflow-x: hidden;\n  position: relative;\n}\n.features-section::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 60%;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);\n}\n.feature-card {\n  border: 1px solid rgba(255, 215, 0, 0.15);\n  border-radius: 1rem;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  background: linear-gradient(145deg, rgba(20, 20, 25, 0.9), rgba(10, 10, 15, 0.95));\n  backdrop-filter: blur(10px);\n  position: relative;\n  overflow: hidden;\n}\n.feature-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 200, 0, 0.02));\n  opacity: 0;\n  transition: opacity 0.4s ease;\n  pointer-events: none;\n}\n.feature-card:hover {\n  box-shadow: 0 0 30px rgba(255, 215, 0, 0.25), 0 0 60px rgba(255, 215, 0, 0.1);\n  transform: translateY(-8px) scale(1.02);\n  border-color: rgba(255, 215, 0, 0.5);\n}\n.feature-card:hover::before {\n  opacity: 1;\n}\n.feature-icon {\n  font-size: 2.5rem;\n  background: linear-gradient(135deg, #ffd700, #ffaa00);\n\tcolor: yellow;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  transition: transform 0.3s ease;\n}\n.feature-card:hover .feature-icon {\n  transform: scale(1.15) rotate(3deg);\n}\n.card-title {\n  color: yellow;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n}\n.card-text {\n  color: linear-gradient(90deg, yellow, gold);\n  font-size: 0.95rem;\n  line-height: 1.6;\n}\n\n.about-sec {\n  color: white;\n  padding: 6rem 1.5rem;\n  overflow: hidden;\n  position: relative;\n}\n\n.about-title {\n  font-size: 2.6rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 1.5rem;\n}\n.about-text p {\n  color: #d9d9d9;\n  font-size: 1.1rem;\n  line-height: 1.7;\n}\n.about-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.8rem 2rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 12px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n}\n.about-btn:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 0 20px rgba(255, 255, 0, 0.6);\n}\n.about-image {\n  width: 90%;\n  max-width: 480px;\n  border-radius: 1rem;\n  box-shadow: 0 0 30px rgba(255, 255, 0, 0.2);\n  transition: transform 0.5s ease;\n}\n.about-visual:hover .about-image {\n  transform: scale(1.05) rotate(1deg);\n}\n\n.demo-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n  margin-top: 2rem;\n}\n.demo-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n.faq-section {\n  padding: 6rem 1.5rem;\n  color: white;\n}\n\n.faq-title {\n  font-size: 2.6rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 3rem;\n}\n\n.faq-item {\n  background: rgba(0, 0, 0, 0.8);\n  border: 2px solid rgba(255, 255, 0, 0.3);\n  border-radius: 1rem;\n  margin-bottom: 1rem;\n  transition: all 0.3s ease;\n}\n\n.faq-item:hover {\n  border-color: yellow;\n  box-shadow: 0 0 15px rgba(255, 255, 0, 0.2);\n}\n\n.faq-button {\n  background: transparent;\n  color: yellow;\n  font-weight: 600;\n  font-size: 1.1rem;\n  border: none;\n  padding: 1.2rem 1.5rem;\n  transition: all 0.3s ease;\n}\n\n.faq-button:not(.collapsed) {\n  color: gold;\n  background: rgba(255, 255, 0, 0.1);\n}\n\n.faq-button:hover {\n  background: rgba(255, 255, 0, 0.05);\n}\n\n.faq-button::after {\n  filter: brightness(0) invert(1) sepia(1) saturate(100) hue-rotate(45deg);\n}\n\n.faq-body {\n  color: #e0e0e0;\n  font-size: 1rem;\n  line-height: 1.6;\n  padding: 1rem 1.5rem;\n}\n\n.accordion-collapse {\n  border-radius: 0 0 1rem 1rem;\n}\n\n@media (max-width: 768px) {\n  .about-image {\n    margin-top: 2rem;\n  }\n  .faq-title {\n    font-size: 2rem;\n  }\n  .faq-button {\n    font-size: 1rem;\n    padding: 1rem;\n  }\n}\n</style>\n","import { render } from \"./Hero.vue?vue&type=template&id=665f1577&scoped=true\"\nimport script from \"./Hero.vue?vue&type=script&lang=js\"\nexport * from \"./Hero.vue?vue&type=script&lang=js\"\n\nimport \"./Hero.vue?vue&type=style&index=0&id=665f1577&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-665f1577\"]])\n\nexport default __exports__","<template>\n\t<aside\n\t\tclass=\"sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark\"\n\t\t:class=\"{ 'sidebar-collapsed': !sidebarOpen, 'sidebar-overlay': isMobile && sidebarOpen }\"\n\t>\n\t\t<div class=\"sidebar-header d-flex flex-column align-items-center mb-4\">\n\t\t\t<img loading=\"lazy\" alt=\"sidebar\" decoding=\"async\" class=\"toggle mb-3 align-self-end\" @click=\"isMobile ? sidebarOpen = !sidebarOpen : sidebarOpen = !sidebarOpen\" :class=\"{'align-self-center':!sidebarOpen}\" :src=\"toggle\" style=\"cursor: pointer; width: 2rem; height: 2rem;\"/>\n\t\t\t<img :src=\"url\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" class=\"logo mb-4 img-fluid rounded rounded-circle\" style=\"max-height: 20vh;\"/>\n\t\t\t<RouterLink :to=\"`/codraw`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','home']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">Start Page</span>\n\t\t\t</RouterLink>\n\t\t\t<RouterLink :to=\"`/codraw/account/${username}`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw/account']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','user']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">My Account</span>\n\t\t\t</RouterLink>\n\t\t\t<RouterLink :to=\"`/codraw/search`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw/search']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','search']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">Search</span>\n\t\t\t</RouterLink>\n\t\t\t<button class=\"btn btn-danger\" @click=\"log_out()\" id=\"out\">Log out</button>\n\t\t</div>\n\t</aside>\n</template>\n\n<script setup>\nimport {BASE_URL} from '@/common'\nimport toggle from '@/assets/sidebar.webp'\nconst loading = ref(false)\n\nimport url from '@/assets/logo.webp'\nimport { get_cookie } from '@/common';\nimport {ref, onMounted} from 'vue'\nconst csrf=get_cookie('csrftoken')\nconst sidebarOpen = ref(false)\nconst isMobile = ref(false)\nconst username = ref(\"\")\nconst onPage={\n\t'/codraw':false,\n\t'/codraw/search':false,\n\t'/codraw/account':false,\n}\n\nfunction checkCurrentPage(){\n\tconst path=window.location.pathname\n\tif(path===\"/codraw\") onPage['/codraw']=true\n\telse if(path===\"/codraw/search\") onPage['/codraw/search']=true\n\telse if(path.startsWith(\"/codraw/account\")) onPage['/codraw/account']=true\n}\n\nasync function log_out(){\n  try{\n    const data=await fetch(`${BASE_URL}/log_out`,{\n      method:\"POST\",\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href='/'\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\nasync function get_username(){\n  try{\n    const data=await fetch(`${BASE_URL}/username`,{\n      method:\"GET\",\n      headers:{\n        \"X-CSRFToken\":csrf\n      },\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status==200) username.value=response.username\n    else username.value=\"ERROR 404 NOT FOUND\"\n  }catch(e){\n    console.error(e)\n  }\n}\nfunction checkMobile() {\n\tisMobile.value = window.innerWidth <= 500\n}\n\nfunction closeSidebarOnOverlayClick(event) {\n\tif (isMobile.value && sidebarOpen.value) {\n\t\tconst sidebar = event.target.closest('.sidebar')\n\t\tif (!sidebar) {\n\t\t\tsidebarOpen.value = false\n\t\t}\n\t}\n}\n\nonMounted(async() => {\n\tloading.value=true\n\tcheckCurrentPage()\n\tcheckMobile()\n  await get_username()\n\t\n\t// Listen for window resize\n\twindow.addEventListener('resize', checkMobile)\n\t// Close sidebar when clicking outside on mobile\n\twindow.addEventListener('click', closeSidebarOnOverlayClick)\n\tloading.value=false\n})\n\n\n</script>\n\n<style scoped>\n.sidebar {\n  height: auto;\n  min-width: 240px;\n  max-width: 20vw;\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  border-right: 2px solid #ffc107;\n  transition: width 0.3s, padding 0.3s, min-width 0.3s, max-width 0.3s;\n  z-index: 10;\n}\n\n.sidebar-collapsed {\n  min-width: 60px !important;\n  max-width: 60px !important;\n  padding-left: 0.5rem !important;\n  padding-right: 0.5rem !important;\n}\n.logo {\n  transition: max-width 0.3s, opacity 0.3s;\n}\n.sidebar-collapsed .logo {\n  max-width: 40px;\n  opacity: 0.7;\n}\n.modern-tile {\n  width: 100%;\n  background: linear-gradient(145deg, #2a2a2a, #1a1a1a);\n  border: 1px solid rgba(255, 193, 7, 0.2);\n  color: #ffffff;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n  font-size: 0.95rem;\n  letter-spacing: 0.3px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  position: relative;\n  overflow: hidden;\n}\n\n.modern-tile::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 193, 7, 0.1), transparent);\n  transition: left 0.5s ease;\n}\n\n.modern-tile:hover::before {\n  left: 100%;\n}\n\n.modern-tile:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(255, 193, 7, 0.25);\n  border-color: rgba(255, 193, 7, 0.5);\n  background: linear-gradient(145deg, #3a3a3a, #2a2a2a);\n}\n\n.modern-tile:active {\n  transform: translateY(0);\n  box-shadow: 0 2px 12px rgba(255, 193, 7, 0.2);\n}\n\n.active-tile {\n  background: linear-gradient(145deg, #ffc107, #ffb300) !important;\n  color: #1a1a1a !important;\n  border-color: #ffc107 !important;\n  box-shadow: 0 4px 16px rgba(255, 193, 7, 0.4);\n}\n\n.active-tile .tile-icon {\n  color: #1a1a1a;\n}\n\n.tile-icon {\n  font-size: 1.1rem;\n  width: 20px;\n  text-align: center;\n}\n\n.tile-text {\n  transition: all 0.3s ease;\n}\n\n.modern-tile:hover .tile-text {\n  font-weight: 600;\n}\n\n/* Mobile overlay mode */\n.sidebar-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 1000;\n  transition: none !important;\n}\n\n.sidebar-overlay .sidebar-header {\n  width: 100%;\n  max-width: 280px;\n  margin: 0 auto;\n}\n\n/* Add overlay backdrop */\n.sidebar-overlay::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: -1;\n}\n\n.sidebar-collapsed .nav-link,\n.sidebar-collapsed .btn,\n.sidebar-collapsed .settings-link,\n.sidebar-collapsed .account-link {\n  display: none !important;\n}\n\n/* Close sidebar when clicking overlay on mobile */\n.sidebar-overlay::after {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 280px;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n}\n\n#out{\n  transition: 0.6s ease-in-out;\n  background: linear-gradient(145deg, #dc3545, #c82333);\n  border: none;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);\n}\n#out:hover{\n  background: linear-gradient(145deg, #ffffff, #f8f9fa);\n  color: #dc3545;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);\n}\n\n</style>\n","import script from \"./SiDebar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SiDebar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SiDebar.vue?vue&type=style&index=0&id=9b234cf8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9b234cf8\"]])\n\nexport default __exports__","<template>\n\t<div class=\"main-layout\">\n\t\t<SiDebar />\n\t\t<main class=\"main-content flex-grow-1\">\n\t\t\t<RouterView />\n\t\t\t<h1 style=\"color:#ffc107\" class=\"mb-4\">Welcome to CoDraw!</h1>\n\t\t\t<div class=\"mb-4\">\n\t\t\t\t<div id=\"projects\" class=\"container\">\n\t\t\t\t\t<div class=\"card create-project-card my text-center\" @click=\"create()\">\n\t\t\t\t\t\t<div class=\"card-body d-flex flex-column align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<span class=\"create-icon\">+</span>\n\t\t\t\t\t\t\t<h5 class=\"card-title mt-2 mb-0\">Create Project</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-for=\"(board, index) in boards\" :key=\"index\" class=\"card project-card text-center\"\n\t\t\t\t\t\t@click=\"join(board.room)\">\n\t\t\t\t\t\t<div class=\"card-body d-flex flex-column card-with-preview\">\n\t\t\t\t\t\t\t<div class=\"preview-section\" v-if=\"images[board.room] && !previewing[board.room]\">\n\t\t\t\t\t\t\t\t<div class=\"preview-image-container\">\n\t\t\t\t\t\t\t\t\t<img :src=\"images[board.room]\" class=\"preview-image\" alt=\"Preview of board\" loading=\"lazy\"\n\t\t\t\t\t\t\t\t\t\tdecoding=\"async\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<!-- <font-awesome-icon :icon=\"['fas', 'eye-slash']\" class=\"preview-toggle text-start\" -->\n\t\t\t\t\t\t\t\t<!-- \t@click=\"togglePreview($event, board.room)\" title=\"Hide preview\" /> -->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content-section\">\n\t\t\t\t\t\t\t\t<h5 class=\"card-title fw-bold mb-2\">{{ board.title }}</h5>\n\t\t\t\t\t\t\t\t<p class=\"card-text small\">{{ board.description }}</p>\n\t\t\t\t\t\t\t\t<footer class=\"card-footer\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t<span>Visibility: <span>{{ board.visibility }}</span></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between small \">\n\t\t\t\t\t\t\t\t\t\t<span>Views: <span>{{ board.views }}</span></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t<span>{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t\t\t</div>\n\t\t</main>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { get_cookie } from '@/common';\nimport { BASE_URL } from '../common.js'\nimport SiDebar from './SiDebar.vue'\nimport { VueSpinnerTail } from 'vue3-spinners'\nimport { DateTime } from 'luxon'\n\nconst loading = ref(false)\nconst csrf = get_cookie('csrftoken')\nconst boards = ref([])\nconst username = ref(\"\")\nconst images = ref({})\nconst previewing = ref({})\nasync function get_username() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/username`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status == 200) username.value = response.username\n\t\telse username.value = \"ERROR 404 NOT FOUND\"\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\nasync function status() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: { 'X-CSRFToken': csrf },\n\t\t\tcredentials: 'include'\n\t\t});\n\t\tconst response = await data.json();\n\t\tif (response.status !== 200 && window.location.pathname !== '/') {\n\t\t\twindow.location.href = '/';\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e);\n\t}\n}\n\nconst get_boards = async () => {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/get_boards`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"timezone\": DateTime.local().zoneName\n\t\t\t}),\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tboards.value = response.boards\n\t\timages.value = response.images\n\t\tpreviewing.value = response.boards.reduce((acc, board) => {\n\t\t\tacc[board.room] = false\n\t\t\treturn acc\n\t\t}, {})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n//\n// const togglePreview = (event, room) => {\n// \tevent.stopPropagation()\n// \tpreviewing.value[room] = !previewing.value[room]\n// }\n\nasync function join(room) {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/load`, {\n\t\t\t\"method\": \"POST\",\n\t\t\t\"headers\": {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"room\": room\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\twindow.location.href = `${response.url}?origin=default`\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nasync function create() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/get_project_url`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": 'application/json',\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\twindow.location.href = `${response.url}?origin=default`\n\t\t}\n\t\telse {\n\t\t\tconsole.log('error')\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nonMounted(async () => {\n\tloading.value = true\n\tawait Promise.all([\n\t\tstatus(),\n\t\tget_boards(),\n\t\tget_username()\n\t])\n\tloading.value = false\n})\n</script>\n\n<script>\nexport default {\n\tname: 'MaIn',\n}\n</script>\n\n<style scoped>\n#projects {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\n\tgap: 1.25rem;\n\twidth: 100%;\n\tmin-width: 0;\n\tpadding: 0;\n\tjustify-items: stretch;\n\talign-items: stretch;\n}\n\n@media (max-width: 479px) {\n\t#projects {\n\t\tpadding: 0 0.25rem;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n\t}\n}\n\n@media (min-width: 480px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.4rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(22rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.4rem;\n\t}\n}\n\n@media (min-width: 768px) and (max-width: 991px) {\n\t#projects {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.9rem;\n\t\tmax-width: 28rem;\n\t\tmargin: 0 auto;\n\t}\n}\n\n@media (min-width: 992px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(22rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.9rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 24rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1280px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 24rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1600px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 26rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1920px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 28rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n\n.project-card,\n.create-project-card {\n\theight: 22rem;\n\tmin-height: 22rem;\n\tmin-width: 0;\n\tmax-width: 100%;\n\tcursor: pointer;\n\ttransition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;\n\tborder: 1px solid #374151;\n\tborder-radius: 0.75rem;\n\tbackground: #1f2937;\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n\twidth: 100%;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n\tposition: relative;\n\tcontain: layout style paint;\n}\n\n@media (min-width: 480px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 23rem;\n\t\tmin-height: 23rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 24rem;\n\t\tmin-height: 24rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 25rem;\n\t\tmin-height: 25rem;\n\t}\n}\n\n.project-card:hover,\n.create-project-card:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);\n\tborder-color: #ffc107;\n}\n\n.card-footer {\n\tmargin-top: auto;\n\tpadding-top: 0.75rem;\n\tborder-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n\t.card-footer {\n\t\tpadding-top: 1rem;\n\t}\n}\n\n.card-footer span {\n\tcolor: #9ca3af;\n\tfont-size: 0.7rem;\n}\n\n@media (min-width: 480px) {\n\t.card-footer span {\n\t\tfont-size: 0.725rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t.card-footer span {\n\t\tfont-size: 0.8125rem;\n\t}\n}\n\n.card-footer span span {\n\tcolor: #d1d5db;\n\tfont-weight: 500;\n}\n\n.create-project-card .card-body {\n\theight: 100%;\n}\n\n.create-icon {\n\tfont-size: 3rem;\n\tcolor: #ffc107;\n\tfont-weight: 300;\n\tline-height: 1;\n}\n\n@media (min-width: 480px) {\n\t.create-icon {\n\t\tfont-size: 3.25rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t.create-icon {\n\t\tfont-size: 3.5rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\t.create-icon {\n\t\tfont-size: 3.75rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t.create-icon {\n\t\tfont-size: 4rem;\n\t}\n}\n\n.create-project-card .card-title {\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tcolor: #9ca3af;\n\tmargin-top: 0.5rem;\n}\n\n@media (min-width: 640px) {\n\t.create-project-card .card-title {\n\t\tfont-size: 0.9375rem;\n\t\tmargin-top: 0.75rem;\n\t}\n}\n\n.create-project-card:hover .card-title {\n\tcolor: #ffc107;\n}\n\n.spinner-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n}\n\n.main-layout {\n\tdisplay: flex;\n\tmin-height: 100vh;\n\twidth: 100%;\n\tbackground: #111827;\n}\n\n.main-content {\n\tflex: 1;\n\tbackground: #111827;\n\tpadding: 1.5rem 1rem;\n\toverflow-y: auto;\n}\n\n\n\n.preview-toggle.preview-active {\n\tcolor: white;\n}\n\n.preview-image {\n\tmax-width: 100%;\n\tmax-height: calc(100% - 3rem);\n\twidth: 100%;\n\theight: auto;\n\tobject-fit: contain;\n\tflex-shrink: 1;\n}\n\n.card-with-preview {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tpadding: 0;\n}\n\n.preview-section {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 0;\n\tpadding: 0.25rem 0.5rem;\n\tposition: relative;\n}\n\n.preview-section .preview-image-container {\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow: hidden;\n\tmin-height: 0;\n\twidth: 100%;\n}\n\n.preview-section .preview-image {\n\tmax-width: 100%;\n\tmax-height: 100%;\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: contain;\n}\n\n.preview-section .preview-toggle {\n\tposition: absolute;\n\ttop: 0.25rem;\n\tright: 0.25rem;\n\tfont-size: 0.75rem;\n\tpadding: 0.35rem;\n\tcolor: #ffc107;\n\tcursor: pointer;\n\tz-index: 10;\n\tbackground: rgba(31, 41, 55, 0.8);\n\tborder-radius: 0.25rem;\n}\n\n.content-section {\n\tflex-shrink: 0;\n\tpadding: 0.75rem;\n\tbackground: #1f2937;\n\tborder-top: 1px solid #374151;\n}\n\n.content-section .card-title {\n\tfont-size: 1rem;\n\tfont-weight: 600;\n\tmargin-bottom: 0.25rem;\n\tcolor: #f9fafb;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.content-section .card-text {\n\tfont-size: 0.875rem;\n\tcolor: #9ca3af;\n\tline-height: 1.3;\n\tmargin-bottom: 0.5rem;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 1;\n\t-webkit-box-orient: vertical;\n\toverflow: hidden;\n}\n\n.content-section .card-footer {\n\tmargin-top: 0;\n\tpadding-top: 0.5rem;\n\tborder-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n\t.main-content {\n\t\tpadding: 2rem 1.5rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\t.main-content {\n\t\tpadding: 2.25rem 1.75rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t.main-content {\n\t\tpadding: 2.5rem 2rem;\n\t}\n}\n</style>\n","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=7b8f8203&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b8f8203\"]])\n\nexport default __exports__","<template class=\"bg-dark\">\n  <div v-if=\"loading\" class=\"spinner-overlay\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"showPopup\"\n      style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n      <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n      <button @click=\"showPopup = false\"\n          style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\n        \n      </button>\n      <p>{{message}}</p>\n      <button @click=\"showPopup = false\" id=\"close_form\"\n          style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n        Close\n      </button>\n      </div>\n    </div>\n  </Transition>\n  <main class=\"main-layout\">\n\t\t<SiDebar/>\n    <div class=\"container flex-grow-1 d-flex flex-column mt-4 mt-md-5 align-items-start\">\n      <h2 class=\"fw-bold mb-4 mb-md-5 text-start\" style=\"color:#ffc107\">{{ username }}'s Boards</h2>\n      <div class=\"boards-wrapper mt-2 justify-content-start\">\n        <div\n          v-for=\"(board, index) in boards\"\n          :key=\"index\"\n          class=\"project-card\"\n        >\n          <div class=\"d-flex justify-content-end align-items-center gap-2\">\n            <div v-if=\"admin\" class=\"w-100\">\n              <div class=\"d-flex justify-content-end align-items-center gap-2\">\n\t\t\t\t\t\t\t\t<button class=\"text-start btn btn-primary\" @click=\"exportImg(previewing[board.room],board.title)\">Export</button>\n                <button class=\"btn btn-success success\" @click=\"join(board.room)\">\n                  Join room\n                </button>\n                <img\n                  v-if=\"!edits[index]\"\n                  :src=\"edit\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                  alt=\"edit\"\n                  @click=\"edits[index] = !edits[index]\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n                <img\n                  v-else\n                  :src=\"save\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                  alt=\"save\"\n                  @click=\"edits[index] = !edits[index];resave(boards[index]);boards[index].modified='Just now'\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n                <img\n                  :src=\"bin\"\n                  loading=\"lazy\"\n                  alt=\"delete\"\n                  decoding=\"async\"\n                  @click=\"delete_board(boards[index].room);boards.splice(index,1)\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n              </div>\n              <div v-if=\"!edits[index]\">\n                <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled />\n                <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\n              </div>\n              <div v-else>\n                <input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" />\n                <input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" />\n              </div>\n            </div>\n            <div v-else class=\"w-100\">\n              <button class=\"btn btn-success success\" @click=\"join(board.room)\">\n                Join room\n              </button>\n              <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\n              <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\n            </div>\n          </div>\n          <div class=\"card-body text-white position-relative flex-grow-1\">\n            <div class=\"d-flex flex-column align-items-start gap-1\"\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Views: <span class=\"text-white\">{{ board.views }}</span>\n              </span>\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Last Modified: <span class=\"text-white\">{{ board.modified }}</span>\n              </span>\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Visibility: <span class=\"text-white\">{{ board.visibility }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\t\t\t<div class=\"container mt-4 mt-md-5\" v-if=\"admin\">\n\t\t\t\t<h1 class=\"text-start\" style=\"color:#ffc107\">Bookmarks</h1>\n\t\t\t\t<div class=\"boards-wrapper mt-5 justify-content-start\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"(board, index) in bookmarks\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"project-card\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"d-flex justify-content-end\">\n\t\t\t\t\t\t\t<button class=\"btn btn-success success\" @click=\"join(board.room)\">\n\t\t\t\t\t\t\t\tJoin room\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t:src=\"bin\"\n\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\talt=\"delete\"\n\t\t\t\t\t\t\t\tdecoding=\"async\"\n\t\t\t\t\t\t\t\t@click=\"delete_bookmark(bookmarks[index].room);bookmarks.splice(index,1)\"\n\t\t\t\t\t\t\t\tstyle=\"width:20px;height:20px;cursor:pointer;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\n\t\t\t\t\t\t<input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled/>\n\t\t\t\t\t\t<div class=\"card-body text-white position-relative flex-grow-1\">\n\t\t\t\t\t\t\t<div class=\"d-flex flex-column align-items-start gap-1\"\n\t\t\t\t\t\t\t\tstyle=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tViews: <span class=\"text-white\">{{ board.views }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tLast Modified: <span class=\"text-white\">{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tVisibility: <span class=\"text-white\">{{ board.visibility }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"bookmarks.length===0\" class=\"text-center mb-3 fw-semibold\" style=\"color:#ffc107;font-size: 1.2rem;\">\n            No bookmarks yet.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</main>\n</template>\n\n<script setup>\nimport { get_cookie } from '@/common';\nimport { DateTime } from 'luxon';\nimport { onMounted, ref } from 'vue';\nimport { BASE_URL } from '../common.js';\nimport { VueSpinnerTail } from 'vue3-spinners';\nimport SiDebar from './SiDebar.vue'\nimport bin from '@/assets/bin.webp'\nimport save from '@/assets/save.webp'\nimport edit from '@/assets/edit.webp'\n\nconst showPopup=ref(false)\nconst message=ref(null)\nconst username=ref(null)\nconst admin = ref(false)\nconst csrf = get_cookie('csrftoken')\nconst boards = ref([])\nconst loading = ref(true)\nconst edits=ref({})\nconst bookmarks=ref([])\nconst deletes=ref({})\nconst previewing=ref({})\n\nconst delete_board=async(room)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/delete/${room}`,{\n      method:\"GET\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      showPopup.value=true\n      message.value=\"Board was successfully modified.\"\n    }\n    else console.log(\"Board not deleted successfully\")\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst delete_bookmark=async(room)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/delete/bookmark/${room}`,{\n      method:\"GET\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      showPopup.value=true\n      message.value=\"Bookmark successfuly deleted.\"\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst get_bookmarks=async(username)=>{\n  try{\n\t\tif(!admin.value){\n\t\t\treturn\n\t\t}\n    const data=await fetch(`${BASE_URL}/get_bookmarks/${username}`,{\n      method:\"POST\",\n      headers:{\n        \"X-CSRFToken\":csrf,\n\t\t\t\t\"Content-Type\":\"application/json\"\n      },\n      body:JSON.stringify({\n        \"timezone\":DateTime.local().zoneName\n      }),\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      bookmarks.value=response.bookmarks\n      deletes.value=response.bookmarks.map(()=>false)\n    }\n    else bookmarks.value=[]\n\n  }catch(e){\n    console.error(e)\n    bookmarks.value=[]\n  }\n}\n\nconst resave=async(board)=>{\n  loading.value=true;\n\tif(board.title.length===0 || board.description.length===0){\n\t\tshowPopup.value=true\n\t\tmessage.value=\"Board title or description cannot be empty\"\n\t}\n  if(board.original_description!==board.description || board.original_title!==board.title){\n    try{\n      const data=await fetch(`${BASE_URL}/codraw/update/${board.room}`,{\n        method:\"POST\",\n        headers:{\n          \"Content-Type\":\"application/json\",\n          \"X-CSRFToken\":csrf\n        },\n        credentials:\"include\",\n        body:JSON.stringify({\n          \"title\":board.title,\n          \"description\":board.description,\n          \"timezone\":DateTime.local().zoneName\n        })\n      })\n      const response=await data.json()\n      if(response.status===200){\n        showPopup.value=true\n        message.value=\"Board was successfully modified.\"\n      }\n    }catch(e){\n      console.error(e)\n    }\n  }\n  loading.value=false;\n}\n\nconst get_status=async(curr_user)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/username`,{\n      method:\"GET\",\n      headers:{\n\t\t\t\t\"Content-Type\":\"application/json\",\n        \"X-CSRFToken\":csrf\n      },\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    let user2=\"\"\n    if(response.status==200) user2=response.username\n    else user2=\"ERROR 404 NOT FOUND\"\n    return user2===curr_user\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst get_boards = async (username) => {\n  try {\n    const data = await fetch(`${BASE_URL}/codraw/boards/${username}`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      body: JSON.stringify({\n        \"timezone\": DateTime.local().zoneName,\n\t\t\t\t\"mode\":admin.value?\"admin\":\"user\"\n      }),\n      credentials: \"include\"\n    })\n    const response = await data.json()\n    boards.value = response.boards.map(b => ({\n      ...b,\n      original_title: b.title,\n      original_description: b.description\n    }))\n\t\tpreviewing.value=response.images\n    edits.value=response.boards.map(()=>false)\n  } catch (e) {\n    console.error(e)\n  }\n}\n\nconst exportImg=(url,title)=>{\n\tconst link = document.createElement('a');\n\tlink.download = `${title}.png`;\n\tlink.href = url;\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n}\n\nasync function join(room){\n  try{\n    const data=await fetch(`${BASE_URL}/load`,{\n      \"method\":\"POST\",\n      \"headers\":{\n        'Content-Type':'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"room\":room\n      })\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href=`${response.url}?origin=account/${username.value}`\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nonMounted(async () => {\n  loading.value = true;\n  const pathParts = window.location.pathname.split('/');\n  username.value = pathParts[pathParts.length - 1];\n  admin.value=await get_status(username.value);\n\tawait Promise.all[get_boards(username.value),get_bookmarks(username.value)]\n  loading.value = false;\n})\n</script>\n\n<style scoped>\n\n.success{\n  transition: 0.5s ease-in-out;\n}\n\n.success:hover{\n  color:green;\n  background:white;\n}\n\n.boards-wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n  width: 100%;\n  padding: 0 1rem;\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n.main-layout {\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  background: #181818;\n  overflow-y: auto;\n}\n\n/* Small screens - account for sidebar overlay */\n@media (max-width: 500px) {\n  .main-layout {\n    position: relative;\n  }\n\n  /* Add padding to prevent content from being hidden when sidebar is open */\n  .main-layout.sidebar-open {\n    overflow: hidden;\n  }\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.bookmarks{\n  position: absolute;\n  right:5%;\n  top:50px;\n  transition: 0.5s ease-in;\n}\n\n.back{\n  position: absolute;\n  left:5%;\n  top:50px;\n  transition: 0.5s ease-in;\n}\n\n.back:hover{\n  transform: translateX(-15px);\n}\n\n.project-card {\n  background: #1f1f1f;\n  border: 1px solid #333;\n  border-radius: 1rem;\n  width: 100%;\n  min-height: 320px;\n  max-height: 400px;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n.project-card:hover {\n  box-shadow: 0 6px 16px rgba(0,0,0,0.4);\n  transform: translateY(-2px);\n}\n\n/* Mobile responsiveness */\n@media (max-width: 768px) {\n  .project-card {\n    min-height: 280px;\n    max-height: 350px;\n    padding: 0.75rem;\n  }\n\n  .boards-wrapper {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n    padding: 0 0.5rem;\n  }\n\n  .container {\n    padding: 0 0.5rem !important;\n  }\n\n  h2 {\n    font-size: 1.5rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  h1 {\n    font-size: 1.25rem !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .project-card {\n    min-height: 260px;\n    padding: 0.5rem;\n  }\n\n  .boards-wrapper {\n    gap: 0.75rem;\n  }\n\n  .form-control {\n    font-size: 0.875rem !important;\n  }\n\n  .btn {\n    font-size: 0.875rem !important;\n    padding: 0.375rem 0.75rem !important;\n  }\n}\n\n.spinner-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000; background-color: rgba(0, 0, 0, 0.7); }\n\n</style>\n","import script from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccOunt.vue?vue&type=style&index=0&id=527da298&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-527da298\"]])\n\nexport default __exports__","<template>\n\t<div style=\"\n      position: relative;\n      width: 100vw;\n      height: 100vh;\n      overflow: hidden;\n    \">\n\t\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"showPopup\"\n\t\t\t\tstyle=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n\t\t\t\t\t<button @click=\"showPopup = false\"\n\t\t\t\t\t\tstyle=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<p>{{ message }}</p>\n\t\t\t\t\t<button v-if=\"message !== 'Are you sure you would like to clear the board? This action is irreversible.'\"\n\t\t\t\t\t\t@click=\"showPopup = false\" id=\"close_form\"\n\t\t\t\t\t\tstyle=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n\t\t\t\t\t\tClose\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"message === 'Are you sure you would like to clear the board? This action is irreversible.'\"\n\t\t\t\t\t\t@click=\"clearDefinetely(true)\" id=\"confirm_clear\"\n\t\t\t\t\t\tstyle=\"margin-top: 20px;background: green; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n\t\t\t\t\t\tConfirm\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"toolbar\" :class=\"{ 'vertical-toolbar': windowWidth < 800 }\" style=\"\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 12px;\n\t\t\t\tleft: 3%;\n\t\t\t\tbackground: rgba(30, 30, 30, 0.85);\n\t\t\t\tborder-radius: 16px;\n\t\t\t\tbox-shadow: 0 4px 24px rgba(0,0,0,0.18);\n\t\t\t\tpadding: 20px 32px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 10px;\n\t\t\t\tz-index: 10;\n      \">\n\t\t\t<font-awesome-icon :icon=\"['fas', 'undo']\" class=\"feature-icon\" @click=\"undoWithBroadcast()\"></font-awesome-icon>\n\t\t\t<font-awesome-icon :icon=\"['fas', 'redo']\" class=\"feature-icon\" @click=\"redoWithBroadcast()\"></font-awesome-icon>\n\t\t\t<button @click=\"motiv = !motiv\" style=\"border-radius: 50%;padding: 1rem;border-color: #f68608;border-width: 5px;\"\n\t\t\t\t:style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"></button>\n\t\t\t<text style=\"color: white;\">Brush Color</text>\n\t\t\t<input type=\"color\" v-model=\"color\">\n\t\t\t<font-awesome-icon :icon=\"['fas', 'hand']\" @click=\"togglePane('$event')\" class=\"feature-icon\"\n\t\t\t\t:style=\"{ color: paneToggler ? '#0d6efd' : 'orange' }\"></font-awesome-icon>\n\t\t\t<select v-model=\"tool\" style=\"\n          background: #23272f;\n          color: #fff;\n          border: none;\n          border-radius: 8px;\n          padding: 8px 16px;\n          font-size: 1rem;\n          outline: none;\n          cursor: pointer;\n        \">\n\t\t\t\t<option value=\"brush\">Brush</option>\n\t\t\t\t<option value=\"eraser\">Eraser</option>\n\t\t\t</select>\n\t\t\t<input type=\"range\" v-model=\"width_slider\" min=\"1\" max=\"10\" style=\"\n          accent-color: #4f8cff;\n          width: 60px;\n      \">\n\t\t\t<span style=\"color: #fff; min-width: 32px; text-align: center;\">{{ width_slider }}</span>\n\t\t\t<label aria-label=\"upload\" title=\"upload image\" @click=\"uploadImage\" style=\"cursor: pointer;\">\n\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"16\" fill=\"#ffc107\" class=\"bi bi-upload\"\n\t\t\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5\" />\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z\" />\n\t\t\t\t</svg>\n\t\t\t\t<input type=\"file\" id=\"upload\" style=\"display:none\">\n\t\t\t</label>\n\t\t\t<div style=\"display: flex; align-items: center;cursor: pointer;\">\n\t\t\t\t<img width=\"24\" height=\"24\" loading=\"async\" decoding=\"lazy\" @click=\"toggleShapeSelector\"\n\t\t\t\t\tsrc=\"https://img.icons8.com/external-tal-revivo-filled-tal-revivo/24/external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo.png\"\n\t\t\t\t\talt=\"external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo\" />\n\t\t\t</div>\n\t\t\t<button id=\"save_btn\" v-if=\"(admin || visitor) && MODE === 'default'\" @click=\"check_save('save')\" style=\"\n          background: #4f8cff;\n          color: #fff;\n          border: none;\n          border-radius: 8px;\n          padding: 8px 20px;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: ease-in-out 0.6s;\n        \">Save</button>\n\t\t\t<button @click=\"leave()\" id=\"exit\" style=\"\n        background: #ff4f4f;\n        color: #fff;\n        border: none;\n        border-radius: 8px;\n        padding: 8px 20px;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n      \">Exit</button>\n\t\t\t<button id=\"clearall\" v-if=\"admin || MODE === 'demo'\" style=\"\n        background: #f68608;\n        color: #fff;\n        border: none;\n        border-radius: 8px;\n        padding: 8px 20px;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n      \" @click=\"clear_all()\">\n\t\t\t\tClear all\n\t\t\t</button>\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"showShapeSelector\"\n\t\t\t\tstyle=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n\t\t\t\t\t<button @click=\"showShapeSelector = false\"\n\t\t\t\t\t\tstyle=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: white; font-size: 20px; cursor: pointer;\">\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<p>Select a Shape</p>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'text-height']\" class=\"feature-icon\" alt=\"text\" ara-label=\"text\"\n\t\t\t\t\t\t\t\t@click=\"createShape('text')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'arrow-up-long']\" class=\"feature-icon\" alt=\"arrow\" ara-label=\"arrow\"\n\t\t\t\t\t\t\t\t@click=\"createShape('arrow')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'circle']\" class=\"feature-icon\" alt=\"circle\" ara-label=\"circle\"\n\t\t\t\t\t\t\t\t@click=\"createShape('circle')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'square']\" class=\"feature-icon\" alt=\"square\" ara-label=\"square\"\n\t\t\t\t\t\t\t\t@click=\"createShape('square')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"inv_div\" style=\"position: absolute; top: 12px; right: 1rem; z-index: 10;\">\n\t\t\t<button v-if=\"visitor && MODE !== 'demo'\" id=\"bookmark-btn\" @click=\"toggleBookmark\" class=\"mb-2\" style=\"\n        background: #4f8cff;\n        color:#fff ;\n        border: none;\n        border-radius: 10px;\n        padding: 10px 18px;\n        font-size: 0.95rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n        height: 40px;\n        \" :style=\"{ width: show_text ? '200px' : 'unset' }\">\n\t\t\t\t<img :src=\"bookmarkIcon\" decoding=\"async\" loading=\"lazy\" alt=\"Bookmark\" style=\"width: 18px; height: 18px;\" />\n\t\t\t\t<span v-if=\"show_text\">{{ isBookmarked ? \"Bookmarked\" : \"Bookmark\" }}</span>\n\t\t\t</button>\n\t\t\t<button id=\"inv\" @click=\"copyInvitationLink\" style=\"\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: #4f8cff;\n          color: #fff;\n          border: none;\n          border-radius: 10px;\n          padding: 10px 18px;\n          font-size: 0.95rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: ease-in-out 0.6s;\n          height: 40px;\n        \" :style=\"{ width: show_text ? '200px' : 'unset' }\">\n\t\t\t\t<img :src=\"url\" alt=\"Copy\" style=\"width: 18px; height: 18px;\" />\n\t\t\t\t<span v-if=\"show_text\">Copy invitation link</span>\n\t\t\t</button>\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"isVisible\" style=\"\n          position: absolute;\n          top: 150px;\n          left: 35%;\n          backdrop-filter: blur(16px);\n          background: rgba(30, 30, 30, 0.75);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 20px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);\n          padding: 32px;\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          z-index: 20;\n          min-width: 30vw;\n          max-width: 90vw;\n          font-family: 'Segoe UI', Roboto, sans-serif;\n          transition: ease-in-out 0.6s;\n          color: #fff;\n        \">\n\t\t\t\t<button @click=\"isVisible = false\" style=\"\n            position: absolute;\n            top: 12px;\n            right: 12px;\n            background: transparent;\n            border: none;\n            color: #ccc;\n            font-size: 20px;\n            cursor: pointer;\n            transition: color 0.2s;\n          \">\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t\t<div style=\"display: flex; flex-direction: column; gap: 6px;\">\n\t\t\t\t\t<label class=\"align-self-start\">Title</label>\n\t\t\t\t\t<div style=\"position: relative;\">\n\t\t\t\t\t\t<input v-model=\"title\" type=\"text\" placeholder=\"Enter title\" style=\"\n                padding: 10px 14px;\n                border-radius: 12px;\n                border: 1px solid rgba(255, 255, 255, 0.1);\n                background: rgba(255, 255, 255, 0.05);\n                color: #fff;\n                font-size: 1rem;\n                outline: none;\n                transition: border 0.2s;\n                width: 100%;\n                box-sizing: border-box;\n              \" />\n\t\t\t\t\t\t<span style=\"\n                position: absolute;\n                right: 10px;\n                bottom: 6px;\n                font-size: 0.75rem;\n                color: #aaa;\n                pointer-events: none;\n              \">{{ (title && title.length) || 0 }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\"display: flex; flex-direction: column; gap: 6px;\">\n\t\t\t\t\t<label class=\"align-self-start\">Description</label>\n\t\t\t\t\t<div style=\"position: relative;\">\n\t\t\t\t\t\t<textarea v-model=\"description\" rows=\"3\" placeholder=\"Enter description\" style=\"\n              padding: 10px 14px;\n              border-radius: 12px;\n              border: 1px solid rgba(255, 255, 255, 0.1);\n              background: rgba(255, 255, 255, 0.05);\n              color: #fff;\n              font-size: 1rem;\n              resize: none;\n              outline: none;\n              transition: border 0.2s;\n              width: 100%;\n              box-sizing: border-box;\n              \"></textarea>\n\t\t\t\t\t\t<span style=\"\n              position: absolute;\n              right: 10px;\n              bottom: 6px;\n              font-size: 0.75rem;\n              color: #aaa;\n              pointer-events: none;\n              \">{{ (description && description.length) || 0 }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\"display: flex; align-items: center; gap: 10px;\">\n\t\t\t\t\t<label style=\"flex-shrink: 0;\">Private</label>\n\t\t\t\t\t<label class=\"switch\">\n\t\t\t\t\t\t<input v-model=\"type\" type=\"checkbox\" :true-value=\"'Private'\" :false-value=\"'Public'\" />\n\t\t\t\t\t\t<span class=\"slider\"></span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<button id=\"save_def\" @click=\"save_definetely()\" style=\"\n            background: #4f8cff;\n            color: #fff;\n            border: none;\n            border-radius: 12px;\n            padding: 12px;\n            font-size: 1rem;\n            font-weight: 500;\n            cursor: pointer;\n            transition: 0.5s ease-out;\n          \" class=\"save\">\n\t\t\t\t\tSave Details\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"zoom\">\n\t\t\t<label style=\"font-size: small; cursor: pointer;width:1.5rem\" @click=\"changeZoom('up')\">+</label>\n\t\t\t<img :src=\"zoom_ico\" decoding=\"async\" loading=\"lazy\" alt=\"zoom\" class=\"img-fluid\"\n\t\t\t\tstyle=\"width:1rem;height: 1rem;\">\n\t\t\t<input v-model=\"zoom\" style=\"width: 60px; text-align: center;border-style: none;font-size: 0.7rem;\" disabled>\n\t\t\t<label style=\"font-size:small; cursor: pointer;width:1.5rem\" @click=\"changeZoom('down')\">-</label>\n\t\t</div>\n\t\t<div class=\"board-wrapper\" :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\">\n\t\t\t<v-stage ref=\"stageRef\" :config=\"stageConfig\" @mousedown=\"handleMouseDown\" @mousemove=\"handleMouseMove\"\n\t\t\t\t@mouseup=\"handleMouseUp\" @wheel=\"handleMouseWheel\" @touchstart=\"handleMouseDown\" @touchmove=\"handleMouseMove\"\n\t\t\t\t@touchend=\"handleMouseUp\" @contextmenu=\"handleContextMenu\" @click=\"(e) => handleStageClick(e)\"\n\t\t\t\tstyle=\"overflow-x: hidden;overflow-y: hidden;border: none !important;\">\n\t\t\t\t<v-layer ref=\"layerRef\">\n\t\t\t\t\t<v-image ref=\"imageRef\" :config=\"imageConfig\" />\n\t\t\t\t</v-layer>\n\t\t\t</v-stage>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport url from '@/assets/email.webp'\nimport zoom_ico from '@/assets/zoom.webp'\nimport { v4 as uuidv4 } from 'uuid'\nimport { get_cookie } from '@/common';\nimport { BASE_URL } from '../common.js'\nimport { WS_URL } from '../common.js'\nimport { VueSpinnerTail } from 'vue3-spinners'\nimport bookmarkIcon from '@/assets/star.webp'\nconst loading = ref(false)\nconst csrf = get_cookie('csrftoken');\nimport { onMounted, ref, onBeforeUnmount, computed, onUnmounted } from 'vue';\nconst currentLine = ref(null)\nconst MODE = new URL(window.location.href).pathname.split('/')[1] == 'demo' ? 'demo' : 'default'\nlet drawFrameId = null\nlet lastWsSendTime = 0\nimport Konva from 'konva';\nimport { watch } from 'vue';\nimport { nextTick } from 'vue';\nconst stageRef = ref(null);\nconst windowWidth = ref(window.innerWidth);\nconst admin = ref(false)\nconst isVisible = ref(false)\nconst showPopup = ref(false)\nconst color = ref(\"#ffffff\")\nconst background = ref(\"#000000\")\nconst title = ref(null)\nconst message = ref(null)\nconst description = ref(null)\nconst type = ref('Public')\nconst tool = ref('brush');\nconst isDrawing = ref(false);\nconst width_slider = ref(5);\nconst list = ref([])\nconst zoom = computed(() => { return `${(zooming.value * 100).toFixed(0)}%` })\nconst zooming = ref(1)\nconst lastPos = ref(null);\nconst imageRef = ref(null);\nconst layerRef = ref(null);\nconst isPanning = ref(false);\nconst motiv = ref(false)\nconst visitor = ref(true)\nconst stroke_history = ref([])\nconst history_index = ref(0)\nconst isBookmarked = ref(false);\nconst paneToggler = ref(false)\nconst showShapeSelector = ref(false)\nconst texts = []\nconst room = ref(new URL(window.location.href).pathname.split('/')[3])\nif (MODE === 'demo') {\n\troom.value = new URL(window.location.href).pathname.split('/')[2]\n}\nconst responded = ref(false)\nconst origin = new URL(window.location.href).searchParams.get('origin')\nconst transformers = []\nconst deleteButtons = []\n\nconst createShape = (shapeName) => {\n\tconst fill = color.value\n\tswitch (shapeName) {\n\t\tcase 'text': {\n\t\t\tconst maintext = new Konva.Text({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\twidth: 220,\n\t\t\t\theight: 80,\n\t\t\t\tfill: fill,\n\t\t\t\tfontSize: 32,\n\t\t\t\tfontFamily: 'System UI',\n\t\t\t\ttext: 'Write text here',\n\t\t\t\talign: 'center',\n\t\t\t\tverticalAlign: 'middle',\n\t\t\t\tdraggable: true,\n\t\t\t\tname: 'mainText',\n\t\t\t});\n\t\t\ttexts.push(maintext.id())\n\t\t\tmaintext.setAttr('originalFontSize', 32);\n\t\t\tmaintext.setAttr('originalWidth', 220);\n\t\t\tmaintext.setAttr('originalHeight', 80);\n\t\t\tconst previewtext = new Konva.Text({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: maintext.id(),\n\t\t\t\twidth: 220,\n\t\t\t\theight: 80,\n\t\t\t\tfill: fill,\n\t\t\t\tfontSize: 32,\n\t\t\t\tfontFamily: 'System UI',\n\t\t\t\ttext: 'Write text here',\n\t\t\t\talign: 'center',\n\t\t\t\tverticalAlign: 'middle',\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tpreviewtext.setAttr('originalFontSize', 32);\n\t\t\tpreviewtext.setAttr('originalWidth', 220);\n\t\t\tpreviewtext.setAttr('originalHeight', 80);\n\t\t\tmaintext.on('dragmove', () => {\n\t\t\t\tpreviewtext.position(maintext.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: maintext.position(),\n\t\t\t\t\t\tid: maintext.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tmaintext.on('dragstart', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'grabbing';\n\t\t\t});\n\t\t\tmaintext.on('dragend', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\t\t});\n\t\t\tmaintext.on('mouseenter', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'grab';\n\t\t\t});\n\t\t\tmaintext.on('mouseleave', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\t\t});\n\t\t\tmaintext.on(\"dblclick\", (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(e.target);\n\t\t\t})\n\t\t\tpreviewtext.on('dragmove', () => {\n\t\t\t\tmaintext.position(previewtext.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: previewtext.position(),\n\t\t\t\t\t\tid: previewtext.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewtext.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(maintext);\n\t\t\t\tdocument.getElementById(\"textarea\").remove()\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(maintext);\n\t\t\tpreviewLayer.add(previewtext);\n\t\t\tpreviewtext.moveToTop();\n\t\t\tmaintext.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\tid: maintext.id(),\n\t\t\t\t\tx: maintext.x(),\n\t\t\t\t\ty: maintext.y(),\n\t\t\t\t\twidth: maintext.width(),\n\t\t\t\t\theight: maintext.height(),\n\t\t\t\t\tfill: maintext.fill(),\n\t\t\t\t\ttext: maintext.text(),\n\t\t\t\t\tfontSize: maintext.fontSize(),\n\t\t\t\t\tfontFamily: maintext.fontFamily(),\n\t\t\t\t\talign: maintext.align(),\n\t\t\t\t\tverticalAlign: maintext.verticalAlign()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'arrow': {\n\t\t\tconst arrow = new Konva.Arrow({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\tpoints: [200, 200, 0, 0],\n\t\t\t\tstroke: fill,\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tpointerLength: 20,\n\t\t\t\tpointerWidth: 20,\n\t\t\t\tfill: fill,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewArrow = new Konva.Arrow({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: arrow.id(),\n\t\t\t\tpoints: [200, 200, 0, 0],\n\t\t\t\tstroke: fill,\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tpointerLength: 20,\n\t\t\t\tpointerWidth: 20,\n\t\t\t\tfill: fill,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tarrow.on('dragmove', () => {\n\t\t\t\tpreviewArrow.position(arrow.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: arrow.position(),\n\t\t\t\t\t\tid: arrow.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewArrow.on('dragmove', () => {\n\t\t\t\tarrow.position(previewArrow.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: previewArrow.position(),\n\t\t\t\t\t\tid: previewArrow.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(arrow);\n\t\t\tpreviewLayer.add(previewArrow);\n\t\t\tarrow.moveToTop();\n\t\t\tpreviewArrow.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\tid: arrow.id(),\n\t\t\t\t\tx: arrow.x(),\n\t\t\t\t\ty: arrow.y(),\n\t\t\t\t\tpoints: arrow.points(),\n\t\t\t\t\tstroke: arrow.stroke(),\n\t\t\t\t\tstrokeWidth: arrow.strokeWidth(),\n\t\t\t\t\tpointerLength: arrow.pointerLength(),\n\t\t\t\t\tpointerWidth: arrow.pointerWidth(),\n\t\t\t\t\tfill: arrow.fill()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'circle': {\n\t\t\tconst circle = new Konva.Circle({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\tradius: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewCircle = new Konva.Circle({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: circle.id(),\n\t\t\t\tradius: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tcircle.on('dragmove', () => {\n\t\t\t\tpreviewCircle.position(circle.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: circle.position(),\n\t\t\t\t\t\tid: circle.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewCircle.on('dragmove', () => {\n\t\t\t\tcircle.position(previewCircle.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: previewCircle.position(),\n\t\t\t\t\t\tid: previewCircle.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(circle);\n\t\t\tpreviewLayer.add(previewCircle);\n\t\t\tcircle.moveToTop();\n\t\t\tpreviewCircle.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\tid: circle.id(),\n\t\t\t\t\tx: circle.x(),\n\t\t\t\t\ty: circle.y(),\n\t\t\t\t\tradius: circle.radius(),\n\t\t\t\t\tfill: circle.fill(),\n\t\t\t\t\tstroke: circle.stroke(),\n\t\t\t\t\tstrokeWidth: circle.strokeWidth()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'square': {\n\t\t\tconst square = new Konva.Rect({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewSquare = new Konva.Rect({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: square.id(),\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tsquare.on('dragmove', () => {\n\t\t\t\tpreviewSquare.position(square.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: square.position(),\n\t\t\t\t\t\tid: square.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewSquare.on('dragmove', () => {\n\t\t\t\tsquare.position(previewSquare.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(square);\n\t\t\tpreviewLayer.add(previewSquare);\n\t\t\tsquare.moveToTop();\n\t\t\tpreviewSquare.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\tid: square.id(),\n\t\t\t\t\tx: square.x(),\n\t\t\t\t\ty: square.y(),\n\t\t\t\t\twidth: square.width(),\n\t\t\t\t\theight: square.height(),\n\t\t\t\t\tfill: square.fill(),\n\t\t\t\t\tstroke: square.stroke(),\n\t\t\t\t\tstrokeWidth: square.strokeWidth()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tshowShapeSelector.value = false\n}\n\nconst handleTextClick = (konvaText) => {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer || !konvaText) return;\n\tkonvaText.draggable(false);\n\tconst tr = new Konva.Transformer({\n\t\tnodes: [konvaText],\n\t\tborderStroke: \"#ffc107\",\n\t\tborderDash: [5, 5],\n\t\tborderStrokeWidth: 1,\n\t\tborderDashOffset: 0,\n\t\tborderJoinStyle: \"round\",\n\t\tscalingEnabled: true,\n\t\tenabledAnchors: [\"top-left\", \"top-center\", \"top-right\", \"middle-left\", \"middle-right\", \"bottom-left\", \"bottom-center\", \"bottom-right\"],\n\t\tkeepRatio: true,\n\t\tkeepRatioByExpanding: true,\n\t\trotateEnabled: false,\n\t\tboundBoxFunc: (oldBox, newBox) => {\n\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\treturn oldBox;\n\t\t\t}\n\t\t\treturn newBox;\n\t\t},\n\t});\n\tlayer.add(tr);\n\tlayer.batchDraw();\n\ttransformers.push(tr);\n\tkonvaText.hide();\n\tconst stage = stageRef.value.getNode();\n\tconst textPosition = konvaText.getAbsolutePosition();\n\tconst stageBox = stage.container().getBoundingClientRect();\n\tconst scale = stage.scaleX();\n\tconst textarea = document.createElement(\"textarea\");\n\ttextarea.id = \"textarea\"\n\tdocument.body.appendChild(textarea);\n\ttextarea.value = konvaText.text();\n\ttextarea.style.position = 'absolute';\n\ttextarea.style.top = (stageBox.top + textPosition.y * scale + 20) + 'px';\n\ttextarea.style.left = (stageBox.left + textPosition.x * scale) + 'px';\n\ttextarea.style.width = (konvaText.width() * scale) + 'px';\n\ttextarea.style.height = (konvaText.height() * scale) + 'px';\n\ttextarea.style.fontSize = (konvaText.fontSize() * scale) + 'px';\n\ttextarea.style.fontFamily = konvaText.fontFamily();\n\ttextarea.style.color = konvaText.fill();\n\ttextarea.style.backgroundColor = 'transparent';\n\ttextarea.style.border = 'none';\n\ttextarea.style.outline = 'none';\n\ttextarea.style.resize = 'none';\n\ttextarea.style.textAlign = konvaText.align();\n\ttextarea.style.lineHeight = '1';\n\ttextarea.style.padding = '0';\n\ttextarea.style.margin = '0';\n\ttextarea.style.verticalAlign = 'middle';\n\ttextarea.style.display = 'flex';\n\ttextarea.style.alignItems = 'center';\n\ttextarea.style.justifyContent = 'center';\n\ttextarea.style.whiteSpace = 'pre-wrap';\n\ttextarea.style.overflow = 'hidden';\n\ttextarea.style.transform = 'translate(0, 0)';\n\ttextarea.style.boxSizing = 'border-box';\n\ttextarea.focus();\n\ttextarea.addEventListener('keydown', (e) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tkonvaText.text(textarea.value);\n\t\t\tlayer.draw();\n\t\t\tdocument.body.removeChild(textarea);\n\t\t\tkonvaText.show();\n\t\t}\n\t});\n\tconst getDeleteButtonPos = () => {\n\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\treturn { x: konvaText.x() + konvaText.width() * scaleX - 15, y: konvaText.y() - 15 };\n\t};\n\tconst initialPos = getDeleteButtonPos();\n\tconst deleteGroup = new Konva.Group({\n\t\tx: initialPos.x,\n\t\ty: initialPos.y,\n\t\topacity: 0,\n\t\tlistening: true\n\t});\n\tconst deleteCircle = new Konva.Circle({\n\t\tradius: 12,\n\t\tfill: '#ff4f4f',\n\t\tstroke: '#fff',\n\t\tstrokeWidth: 2\n\t});\n\tconst deleteText = new Konva.Text({\n\t\ttext: '',\n\t\tfontSize: 12,\n\t\tfontFamily: 'Arial',\n\t\tfill: '#fff',\n\t\tx: -5,\n\t\ty: -8\n\t});\n\tdeleteGroup.add(deleteCircle);\n\tdeleteGroup.add(deleteText);\n\tdeleteGroup.on('click', (e) => {\n\t\te.evt.stopPropagation();\n\t\tdeleteImage(konvaText, tr, deleteGroup);\n\t});\n\tdeleteGroup.on('mouseenter', () => {\n\t\tdeleteCircle.fill('#ff3333');\n\t\tlayer.batchDraw();\n\t});\n\tdeleteGroup.on('mouseleave', () => {\n\t\tdeleteCircle.fill('#ff4f4f');\n\t\tlayer.batchDraw();\n\t});\n\tdeleteButtons.push(deleteGroup);\n\tlayer.add(deleteGroup);\n\tdeleteGroup.to({\n\t\topacity: 1,\n\t\tduration: 0.2\n\t});\n\tconst updateDeleteButtonPosition = () => {\n\t\tconst pos = getDeleteButtonPos();\n\t\tdeleteGroup.x(pos.x);\n\t\tdeleteGroup.y(pos.y);\n\t};\n\n\tkonvaText.on('dragmove', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tconst stage = stageRef.value.getNode();\n\t\tstage.container().style.cursor = 'grab';\n\t\tconst previewTextToDrag = previewLayer.findOne(`#${konvaText.id()}`);\n\t\tif (previewTextToDrag) {\n\t\t\tpreviewTextToDrag.position(konvaText.position());\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t});\n\n\ttr.on('transform', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tconst previewTextToResize = previewLayer.findOne(`#${konvaText.id()}`);\n\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\tconst scaleY = konvaText.scaleY() || 1;\n\t\tconst origFontSize = konvaText.getAttr('originalFontSize') || 32;\n\t\tconst origWidth = konvaText.getAttr('originalWidth') || 220;\n\t\tconst origHeight = konvaText.getAttr('originalHeight') || 80;\n\t\tif (previewTextToResize) {\n\t\t\tpreviewTextToResize.x(konvaText.x());\n\t\t\tpreviewTextToResize.y(konvaText.y());\n\t\t\tpreviewTextToResize.fontSize(origFontSize * scaleX);\n\t\t\tpreviewTextToResize.width(origWidth * scaleX);\n\t\t\tpreviewTextToResize.height(origHeight * scaleY);\n\t\t\tpreviewTextToResize.scaleX(1);\n\t\t\tpreviewTextToResize.scaleY(1);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"resize-shape\",\n\t\t\t\tid: konvaText.id(),\n\t\t\t\tx: konvaText.x(),\n\t\t\t\ty: konvaText.y(),\n\t\t\t\twidth: origWidth * scaleX,\n\t\t\t\theight: origHeight * scaleY,\n\t\t\t\tfontSize: origFontSize * scaleX,\n\t\t\t}));\n\t\t}\n\t})\n\tlayer.draw();\n};\n\n\nconst handleDblClick = (e) => {\n\tconst konvaImg = e.target;\n\tconst layer = layerRef.value.getNode();\n\tif (!layer || !konvaImg) return;\n\tconst tr = new Konva.Transformer({\n\t\tnodes: [konvaImg],\n\t\tborderStroke: \"#ffc107\",\n\t\tborderDash: [5, 5],\n\t\tborderStrokeWidth: 1,\n\t\tborderDashOffset: 0,\n\t\tborderJoinStyle: \"round\",\n\t\tscalingEnabled: true,\n\t\tenabledAnchors: [\"top-left\", \"middle-left\", \"top-right\", \"middle-right\", \"bottom-left\", \"bottom-right\"],\n\t\tkeepRatio: true,\n\t\tkeepRatioByExpanding: true,\n\t\trotateEnabled: false,\n\t\tboundBoxFunc: (oldBox, newBox) => {\n\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\treturn oldBox;\n\t\t\t}\n\t\t\treturn newBox;\n\t\t},\n\t});\n\tdisableTransformers();\n\ttransformers.push(tr);\n\tlayer.add(tr);\n\tconst getDeleteButtonPos = () => {\n\t\tconst scaleX = konvaImg.scaleX() || 1;\n\t\treturn { x: konvaImg.x() + konvaImg.width() * scaleX - 15, y: konvaImg.y() - 15 };\n\t};\n\tconst initialPos = getDeleteButtonPos();\n\tconst deleteGroup = new Konva.Group({\n\t\tx: initialPos.x,\n\t\ty: initialPos.y,\n\t\topacity: 0,\n\t\tlistening: true\n\t});\n\tconst deleteCircle = new Konva.Circle({\n\t\tradius: 12,\n\t\tfill: '#ff4f4f',\n\t\tstroke: '#fff',\n\t\tstrokeWidth: 2\n\t});\n\tconst deleteText = new Konva.Text({\n\t\ttext: '',\n\t\tfontSize: 12,\n\t\tfontFamily: 'Arial',\n\t\tfill: '#fff',\n\t\tx: -5,\n\t\ty: -8\n\t});\n\tdeleteGroup.add(deleteCircle);\n\tdeleteGroup.add(deleteText);\n\tdeleteGroup.on('click', (e) => {\n\t\te.evt.stopPropagation();\n\t\tdeleteImage(konvaImg, tr, deleteGroup);\n\t});\n\tdeleteGroup.on('mouseenter', () => {\n\t\tdeleteCircle.fill('#ff3333');\n\t\tlayer.batchDraw();\n\t});\n\tdeleteGroup.on('mouseleave', () => {\n\t\tdeleteCircle.fill('#ff4f4f');\n\t\tlayer.batchDraw();\n\t});\n\tdeleteButtons.push(deleteGroup);\n\tlayer.add(deleteGroup);\n\tdeleteGroup.to({\n\t\topacity: 1,\n\t\tduration: 0.2\n\t});\n\tconst updateDeleteButtonPosition = () => {\n\t\tconst pos = getDeleteButtonPos();\n\t\tdeleteGroup.x(pos.x);\n\t\tdeleteGroup.y(pos.y);\n\t};\n\n\ttr.on('transform', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tlayer.batchDraw();\n\t\tconst previewImageToResize = previewLayer.findOne(`#${konvaImg.id()}`);\n\t\tif (previewImageToResize) {\n\t\t\tpreviewImageToResize.x(konvaImg.x());\n\t\t\tpreviewImageToResize.y(konvaImg.y());\n\t\t\tpreviewImageToResize.width(konvaImg.width() * konvaImg.scaleX());\n\t\t\tpreviewImageToResize.height(konvaImg.height() * konvaImg.scaleY());\n\t\t\tpreviewImageToResize.scaleX(1);\n\t\t\tpreviewImageToResize.scaleY(1);\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"img_resize\",\n\t\t\t\tid: konvaImg.id(),\n\t\t\t\tx: konvaImg.x(),\n\t\t\t\ty: konvaImg.y(),\n\t\t\t\twidth: konvaImg.width() * konvaImg.scaleX(),\n\t\t\t\theight: konvaImg.height() * konvaImg.scaleY()\n\t\t\t}));\n\t\t}\n\t});\n\tlayer.draw();\n}\n\nconst deleteImage = (imageNode, transformer, deleteBtn) => {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer) return;\n\tconst imageId = imageNode.id();\n\tif (texts.contains(imageId)) texts.splice(texts.indexOf(imageId), 1)\n\timageNode.destroy();\n\tif (transformer) {\n\t\ttransformer.destroy();\n\t}\n\tif (deleteBtn) {\n\t\tdeleteBtn.destroy();\n\t}\n\tconst trIndex = transformers.indexOf(transformer);\n\tif (trIndex > -1) {\n\t\ttransformers.splice(trIndex, 1);\n\t}\n\tconst btnIndex = deleteButtons.indexOf(deleteBtn);\n\tif (btnIndex > -1) {\n\t\tdeleteButtons.splice(btnIndex, 1);\n\t}\n\tlayer.batchDraw();\n\tconst previewImage = previewLayer.findOne(`#${imageId}`);\n\tif (previewImage) {\n\t\tpreviewImage.destroy();\n\t\tpreviewLayer.batchDraw();\n\t}\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"img_delete\",\n\t\t\tid: imageId\n\t\t}));\n\t}\n\taddToHistory();\n}\n\nconst disableTransformers = () => {\n\tfor (const transformer of transformers) {\n\t\ttransformer.destroy();\n\t}\n\tfor (const btn of deleteButtons) {\n\t\tbtn.destroy();\n\t}\n\ttransformers.length = 0;\n\tdeleteButtons.length = 0;\n}\n\nconst handleStageClick = (e) => {\n\tconst target = e.target;\n\tif (target && (target.className === 'Transformer' || target.getParent()?.className === 'Transformer')) {\n\t\treturn;\n\t}\n\tif (document.getElementById(\"textarea\")) document.getElementById(\"textarea\").remove()\n\tconst layer = layerRef.value.getNode()\n\ttexts.forEach(konvaTextId => {\n\t\tconst found = layer.findOne(`#${konvaTextId}`);\n\t\tif (found) {\n\t\t\tfound.draggable(true);\n\t\t\tfound.show()\n\t\t}\n\t})\n\tdisableTransformers();\n}\n\nconst check_visitor = async () => {\n\tif (MODE === 'demo') {\n\t\tvisitor.value = true;\n\t\treturn;\n\t}\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/status`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: { \"X-CSRFToken\": csrf },\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tlet response = await data.json()\n\t\tif (response.status === 200 && response.user) visitor.value = true;\n\t\telse visitor.value = false;\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nconst togglePane = () => {\n\tpaneToggler.value = !paneToggler.value;\n\tconst stage = stageRef.value.getNode();\n\tif (paneToggler.value) {\n\t\tisPanning.value = true;\n\t\tisDrawing.value = false;\n\t\tstage.draggable(true);\n\t\tstage.container().style.cursor = 'grab';\n\t} else {\n\t\tisPanning.value = false;\n\t\tstage.draggable(false);\n\t\tstage.container().style.cursor = 'default';\n\t}\n}\n\nconst toggleShapeSelector = () => {\n\tshowShapeSelector.value = !showShapeSelector.value;\n}\n\nconst toggleBookmark = async () => {\n\tconst me = new URL(window.location.href).pathname.split(\"/\")[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/bookmark/${room.value}`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"user\": me,\n\t\t\t\t\"status\": isBookmarked.value\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200 && response.bookmarked) {\n\t\t\tisBookmarked.value = true;\n\t\t} else {\n\t\t\tisBookmarked.value = false;\n\t\t}\n\t} catch (e) {\n\t\tisBookmarked.value = false;\n\t}\n}\n\nconst check_book_mark = async () => {\n\tconst me = new URL(window.location.href).pathname.split(\"/\")[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/is_bookmarked/${room.value}`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"user\": me\n\t\t\t}),\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json();\n\t\tif (response.status === 200 && response.bookmarked) isBookmarked.value = true;\n\t\telse isBookmarked.value = false;\n\t} catch (e) {\n\t\tisBookmarked.value = false;\n\t}\n}\nconst show_text = computed(() => windowWidth.value > 1300);\nconst stageConfig = {\n\twidth: 2 * document.documentElement.clientWidth,\n\theight: 2 * document.documentElement.clientHeight,\n\tdraggable: false\n};\n\nconst ws = ref(null)\nconst rawUrl = WS_URL\nconst cleanBase = rawUrl.endsWith('/') ? rawUrl.slice(0, -1) : rawUrl;\nconst finalUrl = `${cleanBase}/${room.value}/`;\nws.value = new WebSocket(finalUrl)\nws.value.onopen = function () {\n\tws.value.send(JSON.stringify({\n\t\ttype: \"sync-request\",\n\t\troom: room.value\n\t}))\n}\nws.value.onmessage = async (event) => {\n\tconst data = JSON.parse(event.data);\n\tif (!data || !data.type) return;\n\tconst layer = layerRef.value.getNode();\n\tif (data.type === \"start\") {\n\t\tconst isEraserRemote = data.operation === 'destination-out';\n\t\tconst mainLineConfig = {\n\t\t\tstroke: data.stroke,\n\t\t\tstrokeWidth: data.width,\n\t\t\tglobalCompositeOperation: data.operation,\n\t\t\tpoints: data.points,\n\t\t\tlineCap: \"round\",\n\t\t\tlineJoin: \"round\",\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst previewLineConfig = {\n\t\t\tstroke: isEraserRemote ? background.value : data.stroke,\n\t\t\tstrokeWidth: data.width,\n\t\t\tglobalCompositeOperation: data.operation,\n\t\t\tpoints: data.points,\n\t\t\tlineCap: \"round\",\n\t\t\tlineJoin: \"round\",\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst mainLine = new Konva.Line(mainLineConfig);\n\t\tconst previewLine = new Konva.Line(previewLineConfig);\n\t\tmainLine._remote = true;\n\t\tpreviewLine._remote = true;\n\t\tlayer.add(mainLine);\n\t\tmainLine.moveToTop();\n\t\tpreviewLayer.add(previewLine);\n\t\tpreviewLine.moveToTop();\n\t\tcurrentLine.value = { main: mainLine, preview: previewLine, _remote: true };\n\t} else if (data.type === \"draw\" && currentLine.value?._remote) {\n\t\tconst mainPoints = currentLine.value.main.points();\n\t\tmainPoints.push(...data.points);\n\t\tcurrentLine.value.main.points(mainPoints);\n\t\tconst previewPoints = currentLine.value.preview.points();\n\t\tpreviewPoints.push(...data.points);\n\t\tcurrentLine.value.preview.points(previewPoints);\n\t\tlayer.batchDraw();\n\t\tpreviewLayer.batchDraw();\n\t} else if (data.type === \"bg\" && data.bg) {\n\t\tbackground.value = data.bg\n\t\tmotiv.value = data.bg === \"#ffffff\"\n\t} else if (data.type == \"img\") {\n\t\tconst img = new window.Image();\n\t\timg.src = data.src;\n\t\timg.onload = () => {\n\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\tid: data.id,\n\t\t\t\timage: img,\n\t\t\t\tx: data.x,\n\t\t\t\ty: data.y,\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tdraggable: false,\n\t\t\t});\n\t\t\tapplyCrop(konvaImg);\n\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\tlayer.add(konvaImg);\n\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\tid: data.id,\n\t\t\t\timage: img,\n\t\t\t\tx: data.x,\n\t\t\t\ty: data.y,\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t});\n\t\t\tpreviewLayer.add(previewImg);\n\t\t\tpreviewLayer.batchDraw();\n\t\t\tlayer.batchDraw();\n\t\t};\n\t\timg.onerror = () => console.error(\"Remote image failed to load\", data.id);\n\t} else if (data.type === \"img_delete\" && data.id) {\n\t\tconst imageToDelete = layer.findOne(`#${data.id}`);\n\t\tif (imageToDelete) {\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(imageToDelete));\n\t\t\tconst btn = deleteButtons.find(b => {\n\t\t\t\tconst btnX = b.x();\n\t\t\t\tconst btnY = b.y();\n\t\t\t\tconst imgX = imageToDelete.x();\n\t\t\t\tconst imgY = imageToDelete.y();\n\t\t\t\tconst imgWidth = imageToDelete.width();\n\t\t\t\treturn Math.abs(btnX - (imgX + imgWidth - 15)) < 5 && Math.abs(btnY - (imgY - 15)) < 5;\n\t\t\t});\n\t\t\tconst previewImage = previewLayer.findOne(`#${data.id}`);\n\t\t\tif (previewImage) {\n\t\t\t\tpreviewImage.destroy();\n\t\t\t}\n\t\t\timageToDelete.destroy();\n\t\t\tif (tr) {\n\t\t\t\ttr.destroy();\n\t\t\t\tconst trIndex = transformers.indexOf(tr);\n\t\t\t\tif (trIndex > -1) transformers.splice(trIndex, 1);\n\t\t\t}\n\t\t\tif (btn) {\n\t\t\t\tbtn.destroy();\n\t\t\t\tconst btnIndex = deleteButtons.indexOf(btn);\n\t\t\t\tif (btnIndex > -1) deleteButtons.splice(btnIndex, 1);\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t} else if (data.type === \"img_resize\" && data.id) {\n\t\tconst imageToResize = layer.findOne(`#${data.id}`);\n\t\tconst previewImageToResize = previewLayer.findOne(`#${data.id}`);\n\t\tif (imageToResize) {\n\t\t\timageToResize.x(data.x);\n\t\t\timageToResize.y(data.y);\n\t\t\timageToResize.width(data.width);\n\t\t\timageToResize.height(data.height);\n\t\t\timageToResize.scaleX(1);\n\t\t\timageToResize.scaleY(1);\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(imageToResize));\n\t\t\tif (tr) {\n\t\t\t\ttr.forceUpdate();\n\t\t\t}\n\t\t\tconst btn = deleteButtons.find(b => {\n\t\t\t\tconst btnX = b.x();\n\t\t\t\tconst btnY = b.y();\n\t\t\t\tconst imgX = imageToResize.x();\n\t\t\t\tconst imgY = imageToResize.y();\n\t\t\t\tconst imgWidth = imageToResize.width();\n\t\t\t\treturn Math.abs(btnX - (imgX + imgWidth - 15)) < 5 && Math.abs(btnY - (imgY - 15)) < 5;\n\t\t\t});\n\t\t\tif (btn) {\n\t\t\t\tbtn.x(data.x + data.width - 15);\n\t\t\t\tbtn.y(data.y - 15);\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewImageToResize) {\n\t\t\tpreviewImageToResize.x(data.x);\n\t\t\tpreviewImageToResize.y(data.y);\n\t\t\tpreviewImageToResize.width(data.width);\n\t\t\tpreviewImageToResize.height(data.height);\n\t\t\tpreviewImageToResize.scaleX(1);\n\t\t\tpreviewImageToResize.scaleY(1);\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t} else if (data.type === \"history_update\" && data.history) {\n\t\tstroke_history.value = data.history\n\t\thistory_index.value = data.index\n\t} else if (data.type === \"undo\") {\n\t\tawait undo();\n\t} else if (data.type === \"redo\") redo();\n\telse if (data.type === \"sync-request\") {\n\t\tautosave()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tconst storageKey = MODE === 'demo' ? 'demo' : room.value;\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"sync-response\",\n\t\t\t\tcontext: localStorage.getItem(storageKey)\n\t\t\t}))\n\t\t}\n\t} else if (data.type === \"sync-response\") {\n\t\tresponded.value = true\n\t\tif (!layerRef.value) {\n\t\t\tawait nextTick();\n\t\t}\n\t\tif (data.context && layerRef.value) {\n\t\t\tawait applyStateToLayer(data.context);\n\t\t}\n\t} else if (data.type === \"clearall\") {\n\t\tclearDefinetely(false) //prevent recursive ws calls\n\t} else if (data.type === \"shape\" && data.shapeType) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tlet shape;\n\t\tlet previewShape;\n\t\tconst shapeConfig = {\n\t\t\tid: data.id,\n\t\t\tx: data.x,\n\t\t\ty: data.y,\n\t\t\tdraggable: true,\n\t\t};\n\t\tif (data.shapeType === 'text') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tfill: data.fill,\n\t\t\t\tfontSize: data.fontSize,\n\t\t\t\tfontFamily: data.fontFamily,\n\t\t\t\ttext: data.text,\n\t\t\t\talign: data.align,\n\t\t\t\tverticalAlign: data.verticalAlign,\n\t\t\t});\n\t\t\tshape = new Konva.Text(shapeConfig);\n\t\t\tshape.setAttr('originalFontSize', data.fontSize);\n\t\t\tshape.setAttr('originalWidth', data.width);\n\t\t\tshape.setAttr('originalHeight', data.height);\n\t\t\tpreviewShape = new Konva.Text({ ...shapeConfig });\n\t\t\tpreviewShape.setAttr('originalFontSize', data.fontSize);\n\t\t\tpreviewShape.setAttr('originalWidth', data.width);\n\t\t\tpreviewShape.setAttr('originalHeight', data.height);\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tshape.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(shape);\n\t\t\t});\n\t\t\tpreviewShape.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(shape);\n\t\t\t});\n\t\t} else if (data.shapeType === 'arrow') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\tpoints: data.points,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t\tpointerLength: data.pointerLength,\n\t\t\t\tpointerWidth: data.pointerWidth,\n\t\t\t\tfill: data.fill,\n\t\t\t});\n\t\t\tshape = new Konva.Arrow(shapeConfig);\n\t\t\tpreviewShape = new Konva.Arrow({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (data.shapeType === 'circle') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\tradius: data.radius,\n\t\t\t\tfill: data.fill,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t});\n\t\t\tshape = new Konva.Circle(shapeConfig);\n\t\t\tpreviewShape = new Konva.Circle({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (data.shapeType === 'square') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tfill: data.fill,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t});\n\t\t\tshape = new Konva.Rect(shapeConfig);\n\t\t\tpreviewShape = new Konva.Rect({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (shape && previewShape) {\n\t\t\tlayer.add(shape);\n\t\t\tpreviewLayer.add(previewShape);\n\t\t\tshape.moveToTop();\n\t\t\tpreviewShape.moveToTop();\n\t\t\tlayer.batchDraw();\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t} else if (data.type === \"shape-drag\" && data.shapeType && data.id) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tconst shape = layer.findOne(`#${data.id}`);\n\t\tconst previewShape = previewLayer.findOne(`#${data.id}`);\n\t\tif (shape) {\n\t\t\tshape.position(data.newpos);\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewShape) {\n\t\t\tpreviewShape.position(data.newpos);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t} else if (data.type === \"resize-shape\" && data.id) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tconst shape = layer.findOne(`#${data.id}`);\n\t\tconst previewShape = previewLayer.findOne(`#${data.id}`);\n\t\tif (shape) {\n\t\t\tshape.x(data.x);\n\t\t\tshape.y(data.y);\n\t\t\tif (data.fontSize) {\n\t\t\t\tshape.setAttr('originalFontSize', data.fontSize);\n\t\t\t\tshape.fontSize(data.fontSize);\n\t\t\t}\n\t\t\tif (data.width) {\n\t\t\t\tshape.setAttr('originalWidth', data.width);\n\t\t\t\tshape.width(data.width);\n\t\t\t}\n\t\t\tif (data.height) {\n\t\t\t\tshape.setAttr('originalHeight', data.height);\n\t\t\t\tshape.height(data.height);\n\t\t\t}\n\t\t\tshape.scaleX(1);\n\t\t\tshape.scaleY(1);\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(shape));\n\t\t\tif (tr) {\n\t\t\t\ttr.forceUpdate();\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewShape) {\n\t\t\tpreviewShape.x(data.x);\n\t\t\tpreviewShape.y(data.y);\n\t\t\tif (data.fontSize) {\n\t\t\t\tpreviewShape.fontSize(data.fontSize);\n\t\t\t}\n\t\t\tif (data.width) {\n\t\t\t\tpreviewShape.width(data.width);\n\t\t\t}\n\t\t\tif (data.height) {\n\t\t\t\tpreviewShape.height(data.height);\n\t\t\t}\n\t\t\tpreviewShape.scaleX(1);\n\t\t\tpreviewShape.scaleY(1);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t}\n};\nconst handleContextMenu = (e) => {\n\te.evt.preventDefault();\n};\nconst canvas = document.createElement('canvas');\ncanvas.width = stageConfig.width;\ncanvas.height = stageConfig.height;\nconst isSaved = ref(false)\n\nconst context = canvas.getContext('2d');\ncontext.strokeStyle = color.value;\ncontext.fillStyle = background.value\ncontext.lineJoin = 'round';\ncontext.lineWidth = Number(width_slider.value);\ncontext.lineCap = 'round';\ncontext.lineJoin = 'round';\nconst preview = document.createElement('div');\npreview.id = 'preview';\npreview.style.position = 'absolute';\npreview.style.bottom = '5px';\npreview.style.left = '5px';\npreview.style.border = '5px solid #ffc107';\npreview.style.borderRadius = \"5%\"\npreview.style.backgroundColor = background.value;\ndocument.body.appendChild(preview);\nconst previewStage = new Konva.Stage({\n\tcontainer: 'preview',\n\twidth: window.innerWidth / 8,\n\theight: window.innerHeight / 8,\n\tscaleX: 1 / 32,\n\tscaleY: 1 / 32,\n});\n\nlet previewLayer = new Konva.Layer();\nconst previewBg = new Konva.Rect({\n\tx: 0,\n\ty: 0,\n\twidth: previewStage.width() * 32,\n\theight: previewStage.height() * 32,\n\tfill: background.value,\n\tlistening: false,\n});\npreviewStage.add(previewLayer);\npreviewLayer.add(previewBg)\n\nwatch(color, (newColor) => {\n\tcontext.strokeStyle = newColor;\n});\nwatch(motiv, () => {\n\tbackground.value = motiv.value ? \"#ffffff\" : \"#000000\"\n\tcolor.value = motiv.value ? \"#000000\" : \"#ffffff\"\n\tpreviewBg.fill(background.value);\n\tpreview.style.backgroundColor = background.value;\n\tpreviewLayer.batchDraw();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"bg\",\n\t\t\tbg: background.value\n\t\t}))\n\t}\n}, { immediate: true })\n\nfunction changeZoom(mode) {\n\tconst scrolles = [50, 75, 100, 125, 150, 175, 200]\n\tconst stage = stageRef.value.getNode();\n\tconst oldScale = stage.scaleX() * 100;\n\tconst direction = mode === \"up\" ? 1 : -1;\n\tif ((oldScale === 50 && direction === -1) || (oldScale === 200 && direction === 1)) return;\n\tconst newScale = scrolles[scrolles.indexOf(oldScale) + direction] / 100;\n\tzooming.value = newScale\n\tstage.scale({ x: newScale, y: newScale });\n\tstage.batchDraw();\n}\n\nconst handleMouseWheel = (e) => {\n\te.evt.preventDefault();\n\tchangeZoom(e.evt.deltaY > 0 ? \"up\" : \"down\")\n}\n\nconst check_owner = async () => {\n\ttry {\n\t\tconst parts = new URL(window.location.href).pathname.split('/');\n\t\tconst owner = parts[2];\n\t\tconst data = await fetch(`${BASE_URL}/codraw/check_owner`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"owner\": owner,\n\t\t\t\t\"room\": room.value\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\tadmin.value = true\n\t\t}\n\t} catch (e) {\n\t\tadmin.value = false\n\t\tconsole.error(e)\n\t}\n}\n\nconst copyInvitationLink = async () => {\n\ttry {\n\t\tconst link = window.location.href;\n\t\tawait navigator.clipboard.writeText(link);\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Invitation link copied to clipboard!\";\n\t} catch (err) {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Failed to copy the link.\";\n\t}\n};\n\nconst load = async () => {\n\tlet data = null;\n\tif (MODE === 'demo') {\n\t\tdata = localStorage.getItem(\"demo\");\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tdata = localStorage.getItem(parts);\n\t}\n\tif (data) {\n\t\tawait applyStateToLayer(data);\n\t}\n};\nconst save_definetely = async () => {\n\ttry {\n\t\tloading.value = true\n\t\tif (!title.value) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"Please provide a title for your board.\"\n\t\t}\n\t\tif (title.value.length > 66) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"The title length is to large, must be at most 60 characters.\"\n\t\t}\n\t\tif (description.value && description.value.length > 170) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"The description length is to large, must be at most 100 characters.\"\n\t\t}\n\t\tconst formData = new FormData();\n\t\tformData.append(\"project\", room.value);\n\t\tformData.append(\"title\", title.value);\n\t\tformData.append(\"description\", description.value);\n\t\tformData.append(\n\t\t\t\"payload\",\n\t\t\tJSON.stringify([{\n\t\t\t\tid: Date.now(),\n\t\t\t\timage: stageRef.value.getStage().toJSON()\n\t\t\t}])\n\t\t);\n\t\tformData.append(\"bg\", background.value);\n\t\tformData.append(\"preview\", getPreviewPicture());\n\t\tformData.append(\"type\", type.value);\n\t\tconst data = await fetch(`${BASE_URL}/codraw/save_new`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tbody: formData,\n\t\t\tcredentials: \"include\"\n\t\t});\n\t\tconst response = await data.json()\n\t\tlet flag = true\n\t\tisVisible.value = false\n\t\tif (response.status === 200) {\n\t\t\tflag = false\n\t\t}\n\t\tawait new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\n\t\tif (!flag) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"Board saved successfully.\"\n\t\t\tisSaved.value = true\n\t\t\tautosave()\n\t\t} else {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"There was an error saving your board.\"\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nfunction getCrop(image, size) {\n\tconst width = size.width;\n\tconst height = size.height;\n\tconst aspectRatio = width / height;\n\tlet newWidth;\n\tlet newHeight;\n\tconst imageRatio = image.width / image.height;\n\tif (aspectRatio >= imageRatio) {\n\t\tnewWidth = image.width;\n\t\tnewHeight = image.width / aspectRatio;\n\t} else {\n\t\tnewWidth = image.height * aspectRatio;\n\t\tnewHeight = image.height;\n\t}\n\tlet x = 0;\n\tlet y = 0;\n\tx = (image.width - newWidth) / 2;\n\ty = (image.height - newHeight) / 2\n\treturn {\n\t\tcropX: x,\n\t\tcropY: y,\n\t\tcropWidth: newWidth,\n\t\tcropHeight: newHeight,\n\t};\n}\n\nfunction applyCrop(imgNode) {\n\tconst image = imgNode.image();\n\tif (!image) return;\n\tconst crop = getCrop(image, {\n\t\twidth: imgNode.width(),\n\t\theight: imgNode.height()\n\t});\n\timgNode.setAttrs(crop);\n}\n\n\nconst MAX_HISTORY = 30;\nfunction addToHistory() {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer) return;\n\tconst children = layer.children || [];\n\tconst lastChild = children[children.length - 1];\n\tif (!lastChild) return;\n\tconst childConfig = lastChild.toJSON();\n\tif (history_index.value < stroke_history.value.length - 1) {\n\t\tstroke_history.value = stroke_history.value.slice(0, history_index.value + 1);\n\t}\n\tstroke_history.value.push(childConfig);\n\thistory_index.value = stroke_history.value.length - 1;\n\tif (stroke_history.value.length > MAX_HISTORY) {\n\t\tstroke_history.value.shift();\n\t\thistory_index.value = Math.max(0, history_index.value - 1);\n\t}\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"history_update\",\n\t\t\thistory: stroke_history.value,\n\t\t\tindex: history_index.value\n\t\t}));\n\t}\n}\n\nconst undo = async () => {\n\tif (history_index.value < 0) return;\n\tconst layer = layerRef.value.getNode();\n\tconst children = layer.children || [];\n\tconst lastChild = children[children.length - 1];\n\tif (lastChild) lastChild.destroy();\n\tconst previewChildren = previewLayer.children || [];\n\tconst lastPreviewChild = previewChildren[previewChildren.length - 1];\n\tif (lastPreviewChild) lastPreviewChild.destroy();\n\tdisableTransformers();\n\thistory_index.value--;\n\tpreviewLayer.batchDraw();\n\tlayer.batchDraw();\n}\n\nconst redo = () => {\n\tif (history_index.value >= stroke_history.value.length - 1) return;\n\telse {\n\t\thistory_index.value++;\n\t\tconst layer = layerRef.value.getNode()\n\t\tif (!stroke_history.value[history_index.value]) return;\n\t\tconst history = JSON.parse(stroke_history.value[history_index.value])\n\t\tif (history) {\n\t\t\tif (history.className === \"Image\") {\n\t\t\t\tconst image = new window.Image()\n\t\t\t\timage.src = history.attrs.src\n\t\t\t\timage.onload = () => {\n\t\t\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\t\t\tid: history.attrs.id || uuidv4(),\n\t\t\t\t\t\timage: image,\n\t\t\t\t\t\tx: history.attrs.x,\n\t\t\t\t\t\ty: history.attrs.y,\n\t\t\t\t\t\twidth: history.attrs.width || image.width,\n\t\t\t\t\t\theight: history.attrs.height || image.height,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tsrc: history.attrs.src\n\t\t\t\t\t});\n\t\t\t\t\tapplyCrop(konvaImg)\n\t\t\t\t\tkonvaImg.setAttr(\"src\", history.attrs.src);\n\t\t\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\t\t\tlayer.add(konvaImg);\n\t\t\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\t\t\tid: konvaImg.id(),\n\t\t\t\t\t\timage: image,\n\t\t\t\t\t\tx: history.attrs.x,\n\t\t\t\t\t\ty: history.attrs.y,\n\t\t\t\t\t\twidth: history.attrs.width || image.width,\n\t\t\t\t\t\theight: history.attrs.height || image.height,\n\t\t\t\t\t});\n\t\t\t\t\tpreviewLayer.add(previewImg);\n\t\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\t\tlayer.draw();\n\t\t\t\t}\n\t\t\t\timage.onerror = () => {\n\t\t\t\t\tconsole.error(\"Failed to load image for redo\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst KonvaNodeMain = Konva.Node.create(history)\n\t\t\t\tconst KonvaNodePreview = Konva.Node.create(history)\n\t\t\t\tlayer.add(KonvaNodeMain)\n\t\t\t\tpreviewLayer.add(KonvaNodePreview)\n\t\t\t\tpreviewLayer.draw()\n\t\t\t\tlayer.draw()\n\t\t\t}\n\n\t\t}\n\t}\n\tdisableTransformers();\n}\n\nconst undoWithBroadcast = async () => {\n\tawait undo();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"undo\"\n\t\t}));\n\t}\n}\n\nconst redoWithBroadcast = () => {\n\tredo();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"redo\"\n\t\t}));\n\t}\n}\n\nconst checkSaveStatus = async () => {\n\tconst owner = new URL(window.location.href).pathname.split('/')[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/check_saved`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"project\": room.value,\n\t\t\t\t\"owner\": owner\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tisSaved.value = response.saved\n\t} catch (e) {\n\t\tconsole.error(e)\n\t\tisSaved.value = false\n\t}\n}\n\nconst dataURLtoBlob = (dataURL) => {\n\tconst byteString = atob(dataURL.split(',')[1]);\n\tconst mimeString = dataURL.split(',')[0].split(':')[1].split(';')[0];\n\tconst ab = new ArrayBuffer(byteString.length);\n\tconst ia = new Uint8Array(ab);\n\tfor (let i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\treturn new Blob([ab], { type: mimeString });\n};\n\nconst getPreviewPicture = () => {\n\tconst stage = stageRef.value.getStage();\n\tconst layer = layerRef.value.getNode();\n\tconst bgRect = new Konva.Rect({\n\t\tx: -stage.x() / stage.scaleX(),\n\t\ty: -stage.y() / stage.scaleY(),\n\t\twidth: stage.width() / stage.scaleX(),\n\t\theight: stage.height() / stage.scaleY(),\n\t\tfill: background.value,\n\t\tlistening: false,\n\t});\n\tlayer.add(bgRect);\n\tbgRect.moveToBottom();\n\tconst dataURL = stage.toDataURL({ pixelRatio: 2 });\n\tbgRect.destroy();\n\tlayer.batchDraw();\n\treturn dataURL;\n}\n\n\nconst processImageFile = (file, x, y) => {\n\tif (!file.type.startsWith('image/')) {\n\t\treturn;\n\t}\n\tconst reader = new FileReader();\n\treader.onload = (e) => {\n\t\tconst img = new window.Image();\n\t\timg.src = e.target.result;\n\t\timg.onload = () => {\n\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\tid: uuidv4(),\n\t\t\t\timage: img,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: img.width,\n\t\t\t\theight: img.height,\n\t\t\t\tdraggable: false,\n\t\t\t\tsrc: e.target.result\n\t\t\t});\n\t\t\tapplyCrop(konvaImg);\n\t\t\tconst layer = layerRef.value.getNode();\n\t\t\tkonvaImg.setAttr(\"src\", e.target.result);\n\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\tlayer.add(konvaImg);\n\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\tid: konvaImg.id(),\n\t\t\t\timage: img,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: img.width,\n\t\t\t\theight: img.height,\n\t\t\t});\n\t\t\tpreviewLayer.add(previewImg);\n\t\t\tpreviewLayer.batchDraw();\n\t\t\tlayer.draw();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"img\",\n\t\t\t\t\tid: konvaImg.id(),\n\t\t\t\t\tsrc: e.target.result,\n\t\t\t\t\tx: konvaImg.x(),\n\t\t\t\t\ty: konvaImg.y(),\n\t\t\t\t\twidth: konvaImg.width(),\n\t\t\t\t\theight: konvaImg.height(),\n\t\t\t\t}));\n\t\t\t}\n\t\t\taddToHistory();\n\t\t};\n\t};\n\treader.readAsDataURL(file);\n};\n\nconst handlePaste = (event) => {\n\tevent.preventDefault();\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst pointer = stage.getPointerPosition();\n\tlet point;\n\tif (pointer) {\n\t\tpoint = getRelativePointerPosition(stage);\n\t} else {\n\t\tconst visibleWidth = window.innerWidth / stage.scaleX();\n\t\tconst visibleHeight = window.innerHeight / stage.scaleY();\n\t\tconst centerX = (-stage.x() / stage.scaleX()) + visibleWidth / 2;\n\t\tconst centerY = (-stage.y() / stage.scaleY()) + visibleHeight / 2;\n\t\tpoint = { x: centerX, y: centerY };\n\t}\n\tconst clipboardData = event.clipboardData;\n\tif (!clipboardData || clipboardData.files.length === 0) {\n\t\treturn;\n\t}\n\tconst file = clipboardData.files[0];\n\tprocessImageFile(file, point.x, point.y);\n};\n\n\nconst check_save = async (mode) => {\n\ttry {\n\t\tloading.value = true\n\t\tif (mode === 'save') {\n\t\t\tif (!isSaved.value) {\n\t\t\t\tloading.value = false\n\t\t\t\tisVisible.value = true\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst formData = new FormData();\n\t\t\tconst previewBlob = dataURLtoBlob(getPreviewPicture());\n\t\t\tformData.append(\"project\", room.value);\n\t\t\tformData.append(\"payload\", JSON.stringify(stageRef.value.getStage().toJSON()));\n\t\t\tformData.append(\"bg\", background.value);\n\t\t\tformData.append(\"preview\", previewBlob, `${room.value}.webp`);\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/save_project`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'X-CSRFToken': csrf\n\t\t\t\t},\n\t\t\t\tbody: formData,\n\t\t\t\tcredentials: \"include\"\n\t\t\t});\n\t\t\tconst response = await data.json()\n\t\t\tlet flag = true;\n\t\t\tif (response.status === 200) {\n\t\t\t\tflag = false\n\t\t\t}\n\t\t\tawait new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\n\t\t\tif (!flag) {\n\t\t\t\tautosave()\n\t\t\t\tshowPopup.value = true\n\t\t\t\tmessage.value = \"Board was successfully quick saved.\"\n\t\t\t} else isVisible.value = true\n\t\t} else if (mode === 'load') {\n\t\t\tif (MODE === 'demo') {\n\t\t\t\tconst autosaved = localStorage.getItem(\"demo\")\n\t\t\t\tif (autosaved && !responded.value) {\n\t\t\t\t\tawait applyStateToLayer(autosaved)\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/load_project`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"project\": room.value,\n\t\t\t\t}),\n\t\t\t})\n\t\t\tconst response = await data.json()\n\t\t\tif (response.status === 200) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tconst autosaved = localStorage.getItem(MODE === 'demo' ? 'demo' : room.value)\n\t\t\tif (autosaved && !responded.value) {\n\t\t\t\tawait applyStateToLayer(autosaved)\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nfunction leave() {\n\tconst parts = new URL(window.location.href).pathname.split('/')[3];\n\tlocalStorage.removeItem(parts)\n\tif (origin === 'default') {\n\t\twindow.location.href = '/codraw'\n\t} else if (origin.startsWith(\"search\")) {\n\t\twindow.location.href = `/codraw/${origin}`\n\t} else if (origin.startsWith(\"account\")) {\n\t\twindow.location.href = `/codraw/${origin}`\n\t}\n\telse {\n\t\twindow.location.href = '/'\n\t}\n}\n\nfunction clearDefinetely(native) {\n\tshowPopup.value = false\n\tmessage.value = \"\"\n\tloading.value = true\n\tif (MODE === 'demo') {\n\t\tlocalStorage.removeItem(\"demo\")\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tlocalStorage.removeItem(parts)\n\t}\n\tconst layer = layerRef.value.getNode();\n\tlayer.destroyChildren();\n\tpreviewLayer.destroyChildren();\n\tdisableTransformers();\n\tlayer.batchDraw();\n\tpreviewLayer.batchDraw();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN && native) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"clearall\"\n\t\t}));\n\t}\n\tloading.value = false\n}\n\nfunction clear_all() {\n\tif (admin.value || MODE === 'demo') {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Are you sure you would like to clear the board? This action is irreversible.\";\n\t} else {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"You don't have neccessary permissions to clear the board.\"\n\t}\n}\nconst getRelativePointerPosition = (stage) => {\n\tconst transform = stage.getAbsoluteTransform().copy();\n\ttransform.invert();\n\tconst pos = stage.getPointerPosition();\n\treturn transform.point(pos);\n};\nconst autosave = () => {\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst dataUrl = stage.toJSON();\n\tlist.value = [{\n\t\tid: Date.now(),\n\t\timage: dataUrl\n\t}];\n\tif (MODE === 'demo') {\n\t\tlocalStorage.setItem(\"demo\", JSON.stringify(list.value));\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tlocalStorage.setItem(parts, JSON.stringify(list.value));\n\t}\n};\n\nconst imageConfig = {\n\timage: canvas,\n\tx: 0,\n\ty: 0,\n\twidth: canvas.width,\n\theight: canvas.height\n};\nlet lastCenter = null;\nlet lastDist = 0;\nconst handleMouseDown = (e) => {\n\tif (!e.evt.touches || e.evt.touches.length == 1) {\n\t\tconst stage = e.target.getStage();\n\t\tif (e.evt.button === 2 || paneToggler.value) {\n\t\t\tstage.container().style.cursor = 'grab';\n\t\t\tisPanning.value = true;\n\t\t\tstage.draggable(true);\n\t\t\tstage.startDrag();\n\t\t\tlastPos.value = stage.getPointerPosition();\n\t\t\treturn;\n\t\t}\n\t\tif (e.target !== stage && (e.target.draggable() || e.target.getParent()?.draggable())) {\n\t\t\treturn;\n\t\t}\n\t\tisDrawing.value = true;\n\t\tstage.container().style.cursor = 'default';\n\t\tconst pos = getRelativePointerPosition(stage);\n\t\tconst isEraser = tool.value === 'eraser';\n\t\tconst mainStrokeColor = isEraser ? 'rgba(0,0,0,1)' : color.value;\n\t\tconst previewStrokeColor = isEraser ? 'rgba(0,0,0,1)' : color.value;\n\t\tconst mainLineConfig = {\n\t\t\tstroke: mainStrokeColor,\n\t\t\tstrokeWidth: Number(width_slider.value),\n\t\t\tglobalCompositeOperation: isEraser ? 'destination-out' : 'source-over',\n\t\t\tpoints: [pos.x, pos.y],\n\t\t\tlineCap: 'round',\n\t\t\tlineJoin: 'round',\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst previewLineConfig = {\n\t\t\tstroke: previewStrokeColor,\n\t\t\tstrokeWidth: Number(width_slider.value),\n\t\t\tglobalCompositeOperation: isEraser ? 'destination-out' : 'source-over',\n\t\t\tpoints: [pos.x, pos.y],\n\t\t\tlineCap: 'round',\n\t\t\tlineJoin: 'round',\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst mainLine = new Konva.Line(mainLineConfig);\n\t\tconst previewLine = new Konva.Line(previewLineConfig);\n\t\tpreviewLayer.add(previewLine);\n\t\tpreviewLine.moveToTop();\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"start\",\n\t\t\t\tstroke: color.value,\n\t\t\t\twidth: Number(width_slider.value),\n\t\t\t\toperation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\n\t\t\t\tpoints: [pos.x, pos.y]\n\t\t\t}));\n\t\t}\n\t\tconst mainLayer = layerRef.value.getNode();\n\t\tmainLayer.add(mainLine);\n\t\tmainLine.moveToTop();\n\t\tpreviewLayer.draw()\n\t\tcurrentLine.value = { main: mainLine, preview: previewLine };\n\t} else if (e.evt.touches && e.evt.touches.length == 2) {\n\t\tif (e.evt.cancelable) {\n\t\t\te.evt.preventDefault();\n\t\t}\n\t\tisDrawing.value = false;\n\t\tcurrentLine.value = null;\n\t\tconst touch1 = e.evt.touches[0];\n\t\tconst touch2 = e.evt.touches[1];\n\t\tlastDist = Math.sqrt(\n\t\t\tMath.pow(touch2.clientX - touch1.clientX, 2) +\n\t\t\tMath.pow(touch2.clientY - touch1.clientY, 2)\n\t\t);\n\t\tlastCenter = {\n\t\t\tx: (touch1.clientX + touch2.clientX) / 2,\n\t\t\ty: (touch1.clientY + touch2.clientY) / 2,\n\t\t};\n\t}\n};\n\nconst handleMouseUp = (e) => {\n\tisDrawing.value = false;\n\tcurrentLine.value = null;\n\tlastDist = 0;\n\tlastCenter = null;\n\taddToHistory()\n\tif (isPanning.value) {\n\t\tconst stage = e.target.getStage();\n\t\tstage.draggable(false);\n\t\tisPanning.value = false;\n\t}\n\tif (drawFrameId !== null) {\n\t\tcancelAnimationFrame(drawFrameId);\n\t\tdrawFrameId = null;\n\t\tlayerRef.value.getNode().batchDraw();\n\t\tpreviewLayer.batchDraw();\n\t}\n};\n\nconst handleMouseMove = (e) => {\n\tif (!e.evt.touches || e.evt.touches.length == 1) {\n\t\tif (!isDrawing.value || !currentLine.value) return;\n\t\tconst stage = e.target.getStage();\n\t\tconst point = getRelativePointerPosition(stage);\n\t\tconst mainPoints = currentLine.value.main.points();\n\t\tmainPoints.push(point.x, point.y);\n\t\tcurrentLine.value.main.points(mainPoints);\n\t\tconst previewPoints = currentLine.value.preview.points();\n\t\tpreviewPoints.push(point.x, point.y);\n\t\tcurrentLine.value.preview.points(previewPoints);\n\t\tconst now = Date.now();\n\t\tif (now - lastWsSendTime >= 16 && ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tlastWsSendTime = now;\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"draw\",\n\t\t\t\tpoints: [point.x, point.y]\n\t\t\t}));\n\t\t}\n\t\tif (drawFrameId === null) {\n\t\t\tdrawFrameId = requestAnimationFrame(() => {\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tdrawFrameId = null;\n\t\t\t});\n\t\t}\n\t} else if (e.evt.touches && e.evt.touches.length == 2 && lastCenter) {\n\t\tif (e.evt.cancelable) {\n\t\t\te.evt.preventDefault();\n\t\t}\n\t\tconst stage = stageRef.value.getNode();\n\t\tconst touch1 = e.evt.touches[0];\n\t\tconst touch2 = e.evt.touches[1];\n\t\tconst dist = Math.sqrt(\n\t\t\tMath.pow(touch2.clientX - touch1.clientX, 2) +\n\t\t\tMath.pow(touch2.clientY - touch1.clientY, 2)\n\t\t);\n\t\tconst newCenter = {\n\t\t\tx: (touch1.clientX + touch2.clientX) / 2,\n\t\t\ty: (touch1.clientY + touch2.clientY) / 2,\n\t\t};\n\t\tconst pointTo = {\n\t\t\tx: (newCenter.x - stage.x()) / stage.scaleX(),\n\t\t\ty: (newCenter.y - stage.y()) / stage.scaleX(),\n\t\t};\n\t\tconst scaleBy = dist / lastDist;\n\t\tconst newScale = stage.scaleX() * scaleBy;\n\t\tif (newScale > 0.05 && newScale < 5) {\n\t\t\tstage.scale({ x: newScale, y: newScale });\n\t\t\tconst newPos = {\n\t\t\t\tx: newCenter.x - pointTo.x * newScale,\n\t\t\t\ty: newCenter.y - pointTo.y * newScale,\n\t\t\t};\n\t\t\tstage.position(newPos);\n\t\t\tstage.batchDraw();\n\t\t}\n\t\tlastDist = dist;\n\t\tlastCenter = newCenter;\n\t}\n};\n\nconst handleStageResize = () => {\n\twindowWidth.value = window.innerWidth;\n\tconst stage = stageRef.value?.getNode();\n\tconst image = imageRef.value?.getNode();\n\tif (!stage || !image) return;\n\tconst newWidth = window.innerWidth;\n\tconst newHeight = window.innerHeight;\n\tcanvas.width = newWidth * 4;\n\tcanvas.height = newHeight * 4;\n\tstage.width(canvas.width);\n\tstage.height(canvas.height);\n\timage.width(canvas.width);\n\timage.height(canvas.height);\n\tconst layer = image.getLayer();\n\tif (layer) layer.batchDraw();\n};\n\nconst applyStateToLayer = async (data) => {\n\tif (!data) return;\n\tconst layer = layerRef.value?.getNode();\n\tif (!layer) {\n\t\tawait nextTick();\n\t\treturn applyStateToLayer(data);\n\t}\n\tconst parsed = typeof data === 'string' ? JSON.parse(data) : data;\n\tlet stageData = null;\n\tif (Array.isArray(parsed) && parsed[0]?.image) {\n\t\tstageData = typeof parsed[0].image === 'string' ? JSON.parse(parsed[0].image) : parsed[0].image;\n\t} else if (parsed.image) {\n\t\tstageData = typeof parsed.image === 'string' ? JSON.parse(parsed.image) : parsed.image;\n\t} else if (parsed.className === 'Stage' || parsed.children) {\n\t\tstageData = parsed;\n\t}\n\tif (!stageData) {\n\t\treturn;\n\t}\n\tlayer.destroyChildren();\n\tdisableTransformers();\n\tconst savedChildren = stageData.children?.[0]?.children || [];\n\tconst imagePromises = savedChildren.map(shapeJson => {\n\t\tif (shapeJson.className === \"Image\" && shapeJson.attrs.src) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tconst img = new window.Image();\n\t\t\t\timg.crossOrigin = \"Anonymous\";\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tshapeJson.attrs.image = img;\n\t\t\t\t\tresolve();\n\t\t\t\t};\n\t\t\t\timg.onerror = () => {\n\t\t\t\t\tresolve();\n\t\t\t\t};\n\t\t\t\timg.src = shapeJson.attrs.src;\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve();\n\t});\n\tawait Promise.all(imagePromises);\n\tsavedChildren.forEach(shapeJson => {\n\t\tconst previewShape = Konva.Node.create(shapeJson);\n\t\tconst mainShape = Konva.Node.create(shapeJson);\n\t\tpreviewLayer.add(previewShape);\n\t\tlayer.add(mainShape);\n\t\tif (mainShape.className === 'Image') {\n\t\t\tapplyCrop(mainShape);\n\t\t\tmainShape.on('dblclick', handleDblClick);\n\t\t}\n\t});\n\tpreviewLayer.batchDraw();\n\tlayer.batchDraw();\n};\n\nconst get_details_and_load = async () => {\n\ttry {\n\t\tif (MODE === 'default') {\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/get_details`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"project\": room.value\n\t\t\t\t})\n\t\t\t})\n\t\t\tconst response = await data.json()\n\t\t\tconst saved_json = response.canva;\n\t\t\tconst bg = response.bg;\n\t\t\tconst last_access = response.last\n\t\t\tif (bg) {\n\t\t\t\tbackground.value = bg\n\t\t\t\tmotiv.value = bg === \"#ffffff\"\n\t\t\t}\n\t\t\tconst localData = localStorage.getItem(room.value);\n\t\t\tif (localData && localData.length > saved_json.length) {\n\t\t\t\tconst parsedLocal = JSON.parse(localData);\n\t\t\t\tif (parsedLocal && parsedLocal[0] && parsedLocal[0].id > last_access) {\n\t\t\t\t\tawait load();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (saved_json) {\n\t\t\t\tawait applyStateToLayer(saved_json)\n\t\t\t}\n\t\t} else if (MODE === 'demo') {\n\t\t\tconst localData = localStorage.getItem(room.value);\n\t\t\tif (localData) {\n\t\t\t\tconst parsedLocal = JSON.parse(localData);\n\t\t\t\tif (parsedLocal && parsedLocal[0]) {\n\t\t\t\t\tawait load();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nconst handleFiles = (event) => {\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst files = event.target.files;\n\tif (!files || files.length === 0) return;\n\tconst visibleWidth = window.innerWidth / stage.scaleX();\n\tconst visibleHeight = window.innerHeight / stage.scaleY();\n\tconst centerX = (-stage.x() / stage.scaleX()) + visibleWidth / 2;\n\tconst centerY = (-stage.y() / stage.scaleY()) + visibleHeight / 2;\n\tArray.from(files).forEach((file, index) => {\n\t\tif (file.type.startsWith('image/')) {\n\t\t\tconst offsetX = (index % 3) * 30;\n\t\t\tconst offsetY = Math.floor(index / 3) * 30;\n\t\t\tprocessImageFile(file, centerX + offsetX, centerY + offsetY);\n\t\t}\n\t});\n\tevent.target.value = '';\n}\n\nconst keyhandler = async (event) => {\n\tif (event.ctrlKey && (event.key === 'z' || event.key === 'Z')) {\n\t\tevent.preventDefault();\n\t\tawait undo()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"undo\"\n\t\t\t}))\n\t\t}\n\t}\n\telse if (event.ctrlKey && (event.key === 'y' || event.key === 'Y')) {\n\t\tevent.preventDefault();\n\t\tredo()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"redo\"\n\t\t\t}))\n\t\t}\n\t}\n}\n\nlet autosaveInterval = null;\n\nconst waitForSync = () => new Promise(resolve => {\n\tconst check = setInterval(() => {\n\t\tif (responded.value) {\n\t\t\tclearInterval(check);\n\t\t\tresolve();\n\t\t}\n\t}, 100);\n\tsetTimeout(() => { clearInterval(check); resolve(); }, 5000);\n});\n\nonMounted(async () => {\n\tloading.value = true\n\tawait nextTick();\n\tawait waitForSync();\n\tif (await check_save('load')) {\n\t\tif (!responded.value) {\n\t\t\tget_details_and_load()\n\t\t}\n\t}\n\tif (MODE === 'demo') {\n\t\tvisitor.value = true;\n\t} else {\n\t\tawait Promise.all([check_owner(), check_visitor(), checkSaveStatus()])\n\t}\n\tif (visitor.value && MODE !== 'demo') {\n\t\tawait check_book_mark();\n\t}\n\tautosaveInterval = setInterval(() => autosave(), 60000)\n\twindow.addEventListener('keydown', keyhandler)\n\twindow.addEventListener('resize', handleStageResize);\n\twindow.addEventListener('paste', handlePaste)\n\tconst inputElement = document.getElementById(\"upload\");\n\tinputElement.addEventListener(\"change\", handleFiles);\n\tloading.value = false;\n})\nonBeforeUnmount(() => {\n\tif (ws.value) {\n\t\tws.value.close()\n\t}\n\tloading.value = true\n})\nonUnmounted(() => {\n\tclearInterval(autosaveInterval)\n\twindow.removeEventListener('paste', handlePaste)\n\twindow.removeEventListener(\"keydown\", keyhandler)\n\twindow.removeEventListener(\"resize\", handleStageResize)\n\tconst inputElement = document.getElementById(\"upload\");\n\tif (inputElement) {\n\t\tinputElement.removeEventListener(\"change\", handleFiles);\n\t}\n})\n</script>\n\n<style>\nhtml,\nbody {\n\tmargin: 0;\n\theight: 100%;\n\toverflow: hidden !important;\n}\n</style>\n\n<style scoped>\n.vertical-toolbar {\n\tjustify-content: center;\n\tflex-direction: column !important;\n\tpadding: 15px 15px !important;\n}\n\n#toolbar {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 20px;\n}\n\n@media(max-width:800px) {\n\t#toolbar {\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20px 20px;\n\t\ttop: 50% !important;\n\t\ttransform: translateY(-90%) !important;\n\t\tmax-width: 70px;\n\t\tleft: 10px;\n\t}\n\n\t#toolbar input[type=\"range\"] {\n\t\twidth: 50px !important;\n\t}\n\n\t#toolbar select {\n\t\tmargin-top: 8px !important;\n\t\tfont-size: 1rem !important;\n\t\tborder-radius: 4px !important;\n\t\twidth: 50px !important;\n\t}\n\n\t#save_btn,\n\t#clearall,\n\t#exit {\n\t\twidth: 50px !important;\n\t\tfont-size: 0.5rem !important;\n\t\tpadding: 10px 10px !important;\n\t}\n}\n\n.feature-icon {\n\tfont-size: 1.25rem;\n\tcolor: orange;\n\ttransition: transform 0.3s ease;\n}\n\n#confirm_clear {\n\tbackground-color: green !important;\n\ttransition: 0.3s ease !important;\n}\n\n#confirm_clear:hover {\n\tbackground-color: #00cc00 !important;\n}\n\n.feature-icon:hover {\n\ttransform: scale(1.2) rotate(5deg);\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n\topacity: 0;\n\ttransform: translateY(-20px);\n}\n\n.spinner-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\tbackground-color: rgba(255, 255, 255, 0.8);\n}\n\n.board-wrapper {\n\twidth: 100%;\n\theight: 100%;\n\ttouch-action: none;\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n\ttransition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n\topacity: 1;\n\ttransform: translateY(0);\n}\n\n.save:hover {\n\tbackground: #fff;\n\tcolor: #4f8cff;\n}\n\n.switch {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 40px;\n\theight: 22px;\n}\n\n.switch input {\n\topacity: 0;\n\twidth: 0;\n\theight: 0;\n}\n\n.slider {\n\tposition: absolute;\n\tcursor: pointer;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: #ccc;\n\ttransition: 0.3s;\n\tborder-radius: 34px;\n}\n\n.slider::before {\n\tposition: absolute;\n\tcontent: \"\";\n\theight: 16px;\n\twidth: 16px;\n\tleft: 3px;\n\ttop: 3px;\n\tbackground-color: white;\n\ttransition: 0.3s;\n\tborder-radius: 50%;\n}\n\ninput:checked+.slider {\n\tbackground-color: #4f8cff;\n}\n\ninput:checked+.slider::before {\n\ttransform: translateX(18px);\n}\n\n@media(max-width:1500px) {\n\t#toolbar {\n\t\tfont-size: 0.8rem;\n\t\tgap: 10px;\n\t}\n}\n\n@media(max-width:1330px) {\n\t#toolbar {\n\t\tleft: 2% !important;\n\t}\n\n\t#inv {\n\t\tright: 0.5rem;\n\t\tfont-size: 0.5rem;\n\t}\n}\n\n@media(max-width:1150px) {\n\t#toolbar {\n\t\tgap: 5px !important;\n\t}\n}\n\n@media(max-width:950px) {\n\t#inv_div {\n\t\ttop: 140px !important;\n\t\tposition: fixed !important;\n\t}\n}\n\n@media(max-width:800px) {\n\t#inv_div {\n\t\ttop: 10px !important;\n\t}\n}\n\n#zoom {\n\tposition: fixed;\n\tright: 10px;\n\tbottom: 10px;\n\tbackground-color: white;\n\tz-index: 10;\n}\n\n\n#inv:hover,\n#bookmark-btn:hover,\n#save_btn:hover,\n#save_def:hover,\n#close_form:hover {\n\tbackground: #fff !important;\n\tcolor: #4f8cff !important;\n}\n\n#exit:hover {\n\tbackground: #fff !important;\n\tcolor: #ff4f4f !important;\n}\n\n#clearall:hover {\n\tbackground: #fff !important;\n\tcolor: #f68608 !important;\n}\n</style>\n","import script from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BoArd.vue?vue&type=style&index=0&id=e8653dba&lang=css\"\nimport \"./BoArd.vue?vue&type=style&index=1&id=e8653dba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e8653dba\"]])\n\nexport default __exports__","<template>\n    <div class=\"d-flex flex-column min-vh-100\">\n        <div class=\"flex-grow-1 d-flex flex-column justify-content-center align-items-center mt-2 mb-3\">\n        <h1 class=\"my-4\" style=\"color: yellow;\">Password Restoration</h1>\n        <Transition name=\"fade-slide\">\n            <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n                role=\"alert\"\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n                <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n                    <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\n                </div>\n            </div>\n        </Transition>\n        <Transition name=\"fade-slide\">\n            <div v-if=\"updated\" class=\"alert alert-success text-center custom-alert p-2\"\n                role=\"alert\"\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(40,167,69,0.10); background: #222; border: 1.5px solid #28a745;\">\n                <button @click=\"updated=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #28a745; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n                    <strong style=\"color: #28a745; font-size: 1rem;\">Password successfully updated!</strong>\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">You can now sign in with your new password. You will be redirected in 10 seconds to the sign in page.</div>\n                </div>\n            </div>\n        </Transition>\n        <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n            <VueSpinnerTail size=\"60\" color=\"orange\" />\n        </div>\n        <Transition name=\"fade-slide\">\n            <div class=\"container align-items-center w-25 mt-4 bg-white rounded p-4\">\n                <h2 class=\"text-center mb-5 text-black\">Enter New Password</h2>\n                <div class=\"input-group\">\n                    <input type=\"password\" id=\"new\" v-model=\"new_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Enter new password\" required/>\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('new_password')\" />\n                </div>\n                <div class=\"input-group\">\n                    <input type=\"password\" id=\"confirm\" v-model=\"confirm_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Confirm new password\" required/>\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('confirm_password')\" />\n                </div>\n                <div v-if=\"new_password===confirm_password && new_password.length>0\">\n                    <button @click=\"init()\" class=\"btn btn-primary w-100 mt-2\">Restore Password</button>\n                </div>\n                <div v-else>\n                    <button disabled class=\"btn btn-secondary w-100 mt-2\">Restore Password</button>\n                    <label class=\"text-danger mt-2 d-block text-center\">Passwords do not match.</label>\n                </div>\n            </div>\n        </Transition>\n        </div>\n        <Footer />\n    </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue'\nimport {BASE_URL} from '../common.js'\nimport { get_cookie } from '@/common'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport Footer from '@/components/Footer.vue'\nconst message = ref('')\nconst invalid = ref(false)\nconst loading=ref(false);\nconst updated=ref(false);\nconst new_password=ref('');\nconst confirm_password=ref('');\n\nfunction togglePasswordVisibility(field) {\n    const inputField = field === 'new_password' ? document.querySelector('#new') : document.querySelector('#confirm');\n    if (inputField.type === 'password') {\n        inputField.type = 'text';\n    } else {\n        inputField.type = 'password';\n    }\n}\n\nasync function restorePassword(){\n    try{\n        loading.value=true;\n        const code =new URL(window.location.href).pathname.split('/')[2]\n        const data=await fetch(`${BASE_URL}/recover/${code}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': get_cookie('csrftoken')\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n                new_password: new_password.value,\n            })\n        })\n        const response=await data.json()\n        return response.status===200\n    }catch(err){\n        loading.value=false;\n        message.value=\"An error occurred. Please try again.\";\n        invalid.value=true;\n    }\n    loading.value=false;\n}\n\nconst init=()=>{\n    restorePassword().then((res)=>{\n    loading.value=false;\n    if(res){\n        updated.value=true;\n        setTimeout(()=>{\n            window.location.href=`${window.location.origin}/signin`\n        },10000)\n    }else{\n        message.value=\"Failed to update password. The recovery link may be invalid or expired.\";\n        invalid.value=true;\n    }\n    })\n}\n\n\n\nonMounted(()=>{\n    loading.value=true;\n    const code =ref(new URL(window.location.href).pathname.split('/')[2])\n    async function isValid(){\n        try{\n            const data=await fetch(`${BASE_URL}/recover/${code.value}`, {\n                method: 'GET',\n                headers: {\n                    'X-CSRFToken': get_cookie('csrftoken')\n                },\n                credentials: 'include'\n            })\n            const response=await data.json()\n            return response.status===200\n        }catch(err){\n            window.location.href='/signin'\n        }\n    }\n    isValid().then((res)=>{\n        loading.value=false;\n        if(!res){\n            message.value=\"Recovery link is either invalid or expired.\"\n            invalid.value=true;\n        }\n    })\n})\n</script>\n\n<style>\n.code-input {\n    width: 5rem;\n    height: 5rem;\n    margin: 0 0.3rem;\n    font-size: 2rem;\n    text-align: center;\n    border: 2px solid #ffc107;\n    border-radius: 8px;\n    background: #222;\n    color: #fff;\n    outline: none;\n    transition: border 0.2s, background 0.2s;\n}\n.code-input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n.popup-card .btn-primary {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  margin-top: 1.2rem;\n}\n.popup-card .btn-primary:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.spinner-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n</style>\n","import script from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RestorePassword.vue?vue&type=style&index=0&id=b52fa55a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"learn-more-container\" id=\"learn-more\">\n    <div class=\"content-wrapper\">\n      <img\n        :src=\"logo\"\n        alt=\"CoDraw Logo\"\n        class=\"learn-more-logo\"\n      >\n      <h1 class=\"learn-more-title\">About CoDraw</h1>\n      <section class=\"learn-more-section\">\n        <p class=\"learn-more-text\">\n          CoDraw is an innovative platform designed to facilitate collaborative drawing and creativity. Whether you're an artist looking to share your work or someone who enjoys doodling with friends, CoDraw provides the perfect space to connect and create together.\n        </p>\n        <p class=\"learn-more-text\">\n          Our mission is to bring people together through art, fostering a community where creativity knows no bounds. With a variety of tools and features, CoDraw makes it easy for users of all skill levels to participate in collaborative projects.\n        </p>\n        <p class=\"learn-more-text\">\n          Join us today and start creating amazing artwork with others! If you are interested in contributing to the development of CoDraw, check out our <a href=\"https://github.com/Damian0563/CoDraw\" class=\"github-link\">GitHub</a>\n        </p>\n      </section>\n    </div>\n  </div>\n  <FoOter/>\n</template>\n\n<script>\nimport logo from '@/assets/logo.webp';\nimport FoOter from './Footer.vue';\nexport default {\n  name: \"LearnMore\",\n  components: {\n    FoOter\n  },\n  data() {\n    return {\n      logo,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.learn-more-container {\n  background: linear-gradient(135deg, #000000, #111111, #0a0a0a);\n  background-size: 400% 400%;\n  animation: gradientMove 12s ease infinite;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 120px 2rem 4rem 2rem;\n  color: white;\n}\n\n@keyframes gradientMove {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n.content-wrapper {\n  max-width: 800px;\n  text-align: center;\n}\n\n.learn-more-logo {\n  max-height: 200px;\n  border-radius: 1rem;\n  box-shadow: 0 0 30px rgba(255, 255, 0, 0.2);\n  transition: transform 0.5s ease;\n  margin-bottom: 2rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.learn-more-logo:hover {\n  transform: scale(1.05) rotate(1deg);\n}\n\n.learn-more-title {\n  font-size: 3rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 2rem;\n  letter-spacing: 2px;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.2s;\n}\n\n.learn-more-section {\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.4s;\n}\n\n.learn-more-text {\n  color: #e0e0e0;\n  font-size: 1.2rem;\n  line-height: 1.8;\n  margin-bottom: 1.5rem;\n}\n\n.github-link {\n  color: yellow;\n  font-weight: 600;\n  text-decoration: none;\n  border-bottom: 2px solid transparent;\n  transition: all 0.3s ease;\n}\n\n.github-link:hover {\n  color: gold;\n  border-bottom-color: gold;\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@media (max-width: 768px) {\n  .learn-more-container {\n    padding: 2rem 1rem;\n  }\n\n  .learn-more-title {\n    font-size: 2rem;\n  }\n\n  .learn-more-text {\n    font-size: 1rem;\n  }\n\n  .learn-more-logo {\n    max-height: 150px;\n  }\n}\n</style>\n","import { render } from \"./LearnMore.vue?vue&type=template&id=3d77b7a4&scoped=true\"\nimport script from \"./LearnMore.vue?vue&type=script&lang=js\"\nexport * from \"./LearnMore.vue?vue&type=script&lang=js\"\n\nimport \"./LearnMore.vue?vue&type=style&index=0&id=3d77b7a4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d77b7a4\"]])\n\nexport default __exports__","<template>\n  <div class=\"not-found-background\">\n    <div class=\"not-found-content\">\n      <font-awesome-icon :icon=\"['fas', 'exclamation-triangle']\" class=\"not-found-icon\" />\n      <h1 class=\"not-found-title\">404 - Page Not Found</h1>\n      <p class=\"not-found-text\">\n        Oops! The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL.\n      </p>\n      <router-link to=\"/\" class=\"not-found-btn\" aria-label=\"Go back to home\">\n        Go Home\n      </router-link>\n    </div>\n  </div>\n\t<FoOter />\n</template>\n\n<script>\nimport FoOter from './Footer.vue'\n\nexport default {\n  name: 'NotFound',\n  components: {\n    FoOter\n  }\n}\n</script>\n\n<style scoped>\n.not-found-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  width: 100%;\n  min-height: 55vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding: 3rem 2rem 0 2rem;\n  color: white;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.not-found-content {\n  max-width: 700px;\n  width: 100%;\n}\n\n.not-found-icon {\n  font-size: 4rem;\n  color: yellow;\n  filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));\n  margin-bottom: 1rem;\n}\n\n.not-found-title {\n  font-size: 4rem;\n  font-weight: 700;\n  letter-spacing: 2px;\n  margin-bottom: 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.not-found-text {\n  font-size: 1.3rem;\n  max-width: 700px;\n  line-height: 1.6;\n  color: #e0e0e0;\n  margin-bottom: 2rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.3s;\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.not-found-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n  text-decoration: none;\n}\n\n.not-found-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n@media (max-width: 768px) {\n  .not-found-title {\n    font-size: 3rem;\n  }\n  .not-found-text {\n    font-size: 1.1rem;\n  }\n  .not-found-icon {\n    font-size: 3rem;\n  }\n}\n</style>\n","import { render } from \"./NotFound.vue?vue&type=template&id=174e3a39&scoped=true\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js\"\n\nimport \"./NotFound.vue?vue&type=style&index=0&id=174e3a39&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-174e3a39\"]])\n\nexport default __exports__","<template>\n\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t</div>\n\t<div class=\"main-layout\">\n\t\t<SiDebar/>\n\t\t<div class=\"flex-grow-1 d-flex justify-content-center align-items-start p-3 p-md-5\">\n\t\t\t<div class=\"my-5 border rounded justify-content-center\" style=\"background-color: #ffc107;width:90%;height: 110vh;\">\n\t\t\t\t<div class=\"text-center mb-4\">\n\t\t\t\t\t<h2 class=\"fw-bold mt-4\">Browse Public Projects</h2>\n\t\t\t\t\t<p class=\"text-muted\">Find boards and ideas shared by the community</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row justify-content-center mx-2\">\n\t\t\t\t\t<div class=\"col-md-6 col-sm-10 col-12\">\n\t\t\t\t\t\t<div class=\"input-group shadow-sm rounded mx-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control border-0 p-3 minput\"\n\t\t\t\t\t\t\t\tplaceholder=\"Search public boards...\"\n\t\t\t\t\t\t\t\taria-label=\"Search public boards\"\n\t\t\t\t\t\t\t\tv-model=\"input\"\n\t\t\t\t\t\t\t\t@keyup.enter=\"search(input)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\" type=\"button\" @click=\"search(input)\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"bi bi-search\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t\t\t\t<path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1\n\t\t\t\t\t\t\t\t\t\t1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242\n\t\t\t\t\t\t\t\t\t\t1.656a5.5 5.5 0 1 1 0-11 5.5\n\t\t\t\t\t\t\t\t\t\t5.5 0 0 1 0 11z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section id=\"results\" class=\"my-4 mx-3\">\n\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t<div class=\"row g-1 justify-content-start gap-2\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"(board, index) in popular\"\n\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t:class=\"popular.length < 3 ? 'col-12 col-md-6 col-xl-4' : 'col-12 col-lg-4 col-xl-3'\"\n\t\t\t\t\t\t\t\tclass=\"card result-card project-card text-center\"\n\t\t\t\t\t\t\t\tstyle=\"height: 20rem; width: 18rem; cursor: pointer; position: relative;\"\n\t\t\t\t\t\t\t\t@click=\"join(board.room)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"card-body d-flex flex-column\" style=\"height: 100%;\">\n\t\t\t\t\t\t\t\t\t<h5 class=\"card-title fw-bold mb-2\">{{ board.title }}</h5>\n\t\t\t\t\t\t\t\t\t<p class=\"card-text small\">{{ board.description }}</p>\n\t\t\t\t\t\t\t\t\t<footer class=\"card-footer\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Visibility: <span>Public</span></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Views: <span>{{ board.views }}</span></span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Owner: <a :href=\"`/codraw/account/${board.owner}`\" @click.stop style=\"color:#ff4f4f !important;\">{{ board.owner }}</a></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"popular.length===0\" class=\"justify-content-center\" style=\"min-height: 12rem;\">\n\t\t\t\t\t\t\t\t<text>No results found :(</text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { get_cookie } from '@/common';\nimport {DateTime} from 'luxon'\nimport {BASE_URL} from '@/common'\nimport SiDebar from './SiDebar.vue'\nimport {VueSpinnerTail} from 'vue3-spinners'\nconst loading = ref(false)\nconst popular=ref([])\nconst input=ref('')\nconst csrf=get_cookie('csrftoken')\n\nasync function search(sentence){\n  try{\n    loading.value=true;\n    const data=await fetch(`${BASE_URL}/search`,{\n      method:\"POST\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"query\":sentence,\n        \"timezone\":DateTime.local().zoneName\n      })\n    })\n    const response=await data.json()\n\t\tconsole.log(response)\n    if(response.status===200 && response.boards){\n      popular.value=JSON.parse(response.boards)\n    }\n    loading.value=false\n  }catch(e){\n    console.error(e)\n  }\n}\n\nasync function load_popular(){\n  try{\n    const data=await fetch(`${BASE_URL}/get_popular`,{\n      method:\"POST\",\n      headers:{\n        \"Content-Type\":\"application/json\",\n        \"X-CSRFToken\":csrf\n      },\n      body:JSON.stringify({\n        \"timezone\":DateTime.local().zoneName\n      }),\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    popular.value=response.boards\n  }catch(e){\n    console.error(e)\n  }\n}\n\nasync function join(room){\n  try{\n    const data=await fetch(`${BASE_URL}/load`,{\n      \"method\":\"POST\",\n      \"headers\":{\n        'Content-Type':'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"room\":room\n      })\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href=`${response.url}?origin=search`\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nonMounted(async() => {\n  loading.value=true\n  await load_popular()\n  loading.value=false\n})\n</script>\n\n\n<style scoped>\n.minput:focus{\n\toutline: none;\n\tbox-shadow: none;\n}\n\n.project-card,\n.result-card {\n  height: 16rem;\n  min-height: 16rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 1px solid #374151;\n  border-radius: 0.75rem;\n  background: #1f2937;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  width: 100%;\n}\n\n@media (min-width: 480px) {\n  .project-card,\n  .result-card {\n    height: 17rem;\n    min-height: 17rem;\n  }\n}\n\n@media (min-width: 640px) {\n  .project-card,\n  .result-card {\n    height: 18rem;\n    min-height: 18rem;\n  }\n}\n\n@media (min-width: 768px) {\n  .project-card,\n  .result-card {\n    height: 20rem;\n    min-height: 20rem;\n  }\n}\n.spinner-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\n.result-card .card-body {\n  height: 100%;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  color: #e5e7eb;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-body {\n    padding: 1.25rem;\n  }\n}\n\n @media (min-width: 1024px) {\n   .result-card .card-body {\n     padding: 1.5rem;\n   }\n }\n\n.result-card .card-title {\n  font-size: 0.9375rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #f9fafb;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-title {\n    font-size: 1rem;\n  }\n}\n\n.result-card .card-text {\n  font-size: 0.8125rem;\n  color: #9ca3af;\n  line-height: 1.4;\n  flex-grow: 1;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-text {\n    font-size: 0.875rem;\n  }\n}\n\n.card-footer {\n  margin-top: auto;\n  padding-top: 0.75rem;\n  border-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n  .card-footer {\n    padding-top: 1rem;\n  }\n}\n\n.card-footer span {\n  color: #9ca3af;\n  font-size: 0.7rem;\n}\n\n@media (min-width: 480px) {\n  .card-footer span {\n    font-size: 0.725rem;\n  }\n}\n\n@media (min-width: 640px) {\n  .card-footer span {\n    font-size: 0.8125rem;\n  }\n}\n\n.card-footer span span {\n  color: #d1d5db;\n  font-weight: 500;\n}\n.main-layout {\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  background: #181818;\n}\n.result-card:hover{\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);\n  border-color: #ffc107;\n}\n</style>\n","import script from \"./SeArch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeArch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SeArch.vue?vue&type=style&index=0&id=df9b94b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df9b94b4\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport VueKonva from 'vue-konva';\nimport { createWebHistory, createRouter } from 'vue-router'\n\nimport SignIn from './components/SignIn.vue'\nimport SignUp from './components/SignUp.vue'\nimport HeRo from './components/Hero.vue'\nimport MaIn from './components/Main.vue'\nimport AccOunt from './components/AccOunt.vue'\nimport BoArd from './components/BoArd.vue'\nimport RestorePassword from './components/RestorePassword.vue'\nimport LearnMore from './components/LearnMore.vue';\nimport NotFound from './components/NotFound.vue'\nimport SeArch from './components/SeArch.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { createGtag } from \"vue-gtag\"\nimport { faTextHeight, faCircle, faSquare, faArrowUpLong, faPalette, faHome, faBolt, faLightbulb, faUndo, faRedo, faSearch, faUser, faEye, faPencil, faFeatherPointed, faPaintBrush, faPaintRoller, faHand, faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\nimport { faGithub } from '@fortawesome/free-brands-svg-icons'\nlibrary.add(faPalette, faCircle, faTextHeight, faArrowUpLong, faSquare, faHome, faBolt, faLightbulb, faUndo, faRedo, faSearch, faExclamationTriangle, faUser, faEye, faPencil, faFeatherPointed, faPaintBrush, faPaintRoller, faGithub, faHand)\n\nconst routes = [\n\t{ path: '/', component: HeRo, meta: { showNav: true } },\n\t{ path: '/signup', component: SignUp, meta: { showNav: true } },\n\t{ path: '/signin', component: SignIn, meta: { showNav: true } },\n\t{ path: '/codraw', component: MaIn, meta: { showNav: false } },\n\t{ path: '/codraw/search', component: SeArch, meta: { showNav: false } },\n\t{ path: '/codraw/account/:username', component: AccOunt, meta: { showNav: false } },\n\t{ path: '/board/:id/:room', component: BoArd, meta: { showNav: false } },\n\t{ path: '/demo/:room', component: BoArd, meta: { showNav: false } },\n\t{ path: '/learn-more', component: LearnMore, meta: { showNav: true } },\n\t{ path: '/recover/:code', component: RestorePassword, meta: { showNav: true } },\n\t{ path: '/:pathMatch(.*)*', component: NotFound, meta: { showNav: true } }\n]\n\nconst router = createRouter({\n\thistory: createWebHistory(),\n\troutes,\n})\n\nrouter.afterEach(() => {\n\twindow.scrollTo({ top: 0, behavior: 'instant' })\n})\ncreateApp(App)\n\t.use(router)\n\t.use(\n\t\tcreateGtag({\n\t\t\ttagId: process.env.VUE_APP_GTAG,\n\t\t\tconfig: {\n\t\t\t\tparams: {\n\t\t\t\t\tdebug_mode: true,\n\t\t\t\t\tapp_name: \"CoDraw\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tpageTracker: {\n\t\t\t\trouter,\n\t\t\t\tuseScreenview: true\n\t\t\t}\n\t\t})\n\t)\n\t.use(VueKonva)\n\t.component('font-awesome-icon', FontAwesomeIcon)\n\t.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2797); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_ctx","$route","meta","showNav","_createBlock","_component_NavBar","key","_createVNode","_component_router_view","__default__","name","props","msg","String","navigateAndClose","offcanvas","document","getElementById","bsOffcanvas","bootstrap","Offcanvas","getInstance","hide","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_component_RouterLink","class","to","src","_unref","imageUrl","alt","loading","decoding","height","type","_hoisted_4","id","_hoisted_5","_hoisted_6","_hoisted_7","onClick","_cache","_hoisted_8","__exports__","components","NavBar","render","BASE_URL","process","WS_URL","GOOGLE_ID","get_cookie","cookieValue","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","href","_hoisted_3","_component_router_link","_component_font_awesome_icon","icon","_toDisplayString","Date","getFullYear","message","ref","invalid","ticked","name_or_mail","password","validated","recovery","recoverySuccess","formRef","async","sendReset","event","form","currentTarget","value","checkValidity","preventDefault","stopPropagation","data","fetch","method","headers","credentials","response","json","status","e","console","error","SignIn","classList","add","csrf","body","JSON","stringify","window","location","handleCredentialResponse","payload","parse","atob","credential","sub","email","result","log","onMounted","google","accounts","initialize","client_id","callback","renderButton","theme","size","_Transition","$event","_isRef","style","VueSpinnerTail","color","_normalizeClass","novalidate","onSubmit","_withModifiers","for","placeholder","required","_hoisted_9","_hoisted_10","_hoisted_11","autocomplete","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","FoOter","visible","username","mail","ZeroInput","OneInput","TwoInput","ThreeInput","FourInput","zero","one","two","three","four","pathname","SignUp","username_input","password_input","mail_input","nextTick","focus","handleInput","index","startsWith","includes","getCode","verifyCode","text","maxlength","onKeyup","pattern","inputmode","$options","getDemoPath","_Fragment","_renderList","$data","features","feature","_normalizeStyle","transitionDelay","title","logo","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","faqs","faq","question","_hoisted_23","_hoisted_25","answer","_component_FoOter","fullText","typewriterIndex","typewriterTimeout","mounted","this","check","startTypewriter","initScrollReveal","beforeUnmount","clearTimeout","methods","uuidv4","typeNextChar","$refs","typewriterText","textContent","charAt","setTimeout","observerOptions","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","target","unobserve","elements","querySelectorAll","el","observe","sidebarOpen","isMobile","onPage","checkCurrentPage","path","log_out","get_username","checkMobile","innerWidth","closeSidebarOnOverlayClick","sidebar","closest","addEventListener","toggle","url","boards","images","previewing","get_boards","DateTime","local","zoneName","reduce","acc","board","room","join","create","Promise","all","SiDebar","_component_RouterView","description","visibility","views","_hoisted_16","modified","showPopup","admin","edits","bookmarks","deletes","delete_board","delete_bookmark","get_bookmarks","map","resave","original_description","original_title","get_status","user2","curr_user","b","exportImg","link","createElement","download","appendChild","click","removeChild","pathParts","save","edit","bin","splice","readonly","disabled","_hoisted_22","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","MAX_HISTORY","currentLine","MODE","URL","drawFrameId","lastWsSendTime","stageRef","windowWidth","isVisible","background","tool","isDrawing","width_slider","list","zoom","computed","zooming","toFixed","lastPos","imageRef","layerRef","isPanning","motiv","visitor","stroke_history","history_index","isBookmarked","paneToggler","showShapeSelector","texts","responded","origin","searchParams","get","transformers","deleteButtons","createShape","shapeName","fill","maintext","Konva","x","y","innerHeight","width","fontSize","fontFamily","align","verticalAlign","draggable","push","setAttr","previewtext","on","position","previewLayer","batchDraw","ws","readyState","WebSocket","OPEN","send","shapeType","newpos","getNode","container","cursor","evt","handleTextClick","remove","moveToTop","arrow","points","stroke","strokeWidth","pointerLength","pointerWidth","previewArrow","circle","radius","previewCircle","square","previewSquare","konvaText","layer","tr","nodes","borderStroke","borderDash","borderStrokeWidth","borderDashOffset","borderJoinStyle","scalingEnabled","enabledAnchors","keepRatio","keepRatioByExpanding","rotateEnabled","boundBoxFunc","oldBox","newBox","stage","textPosition","getAbsolutePosition","stageBox","getBoundingClientRect","scale","scaleX","textarea","top","left","backgroundColor","border","outline","resize","textAlign","lineHeight","padding","margin","display","alignItems","justifyContent","whiteSpace","overflow","transform","boxSizing","draw","show","getDeleteButtonPos","initialPos","deleteGroup","opacity","listening","deleteCircle","deleteText","deleteImage","duration","updateDeleteButtonPosition","pos","previewTextToDrag","findOne","previewTextToResize","scaleY","origFontSize","getAttr","origWidth","origHeight","handleDblClick","konvaImg","disableTransformers","previewImageToResize","imageNode","transformer","deleteBtn","imageId","contains","indexOf","destroy","trIndex","btnIndex","previewImage","addToHistory","btn","handleStageClick","className","getParent","konvaTextId","found","check_visitor","user","togglePane","toggleShapeSelector","toggleBookmark","me","bookmarked","check_book_mark","show_text","stageConfig","documentElement","clientWidth","clientHeight","rawUrl","cleanBase","endsWith","slice","finalUrl","onopen","onmessage","isEraserRemote","operation","mainLineConfig","globalCompositeOperation","lineCap","lineJoin","tension","previewLineConfig","mainLine","previewLine","_remote","main","preview","mainPoints","previewPoints","bg","img","Image","onload","image","applyCrop","previewImg","onerror","imageToDelete","find","t","btnX","btnY","imgX","imgY","imgWidth","Math","abs","imageToResize","forceUpdate","history","undo","redo","autosave","storageKey","context","localStorage","getItem","applyStateToLayer","clearDefinetely","shape","previewShape","shapeConfig","Object","assign","handleContextMenu","canvas","isSaved","getContext","strokeStyle","fillStyle","lineWidth","Number","bottom","borderRadius","previewStage","previewBg","changeZoom","mode","scrolles","oldScale","direction","newScale","watch","newColor","immediate","handleMouseWheel","deltaY","check_owner","parts","owner","copyInvitationLink","navigator","clipboard","writeText","err","load","save_definetely","formData","FormData","append","now","getStage","toJSON","getPreviewPicture","flag","resolve","getCrop","aspectRatio","newWidth","newHeight","imageRatio","cropX","cropY","cropWidth","cropHeight","imgNode","crop","setAttrs","children","lastChild","childConfig","shift","max","previewChildren","lastPreviewChild","attrs","KonvaNodeMain","KonvaNodePreview","undoWithBroadcast","redoWithBroadcast","checkSaveStatus","saved","dataURLtoBlob","dataURL","byteString","mimeString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","bgRect","moveToBottom","toDataURL","pixelRatio","processImageFile","file","reader","FileReader","readAsDataURL","handlePaste","pointer","getPointerPosition","point","getRelativePointerPosition","visibleWidth","visibleHeight","centerX","centerY","clipboardData","files","check_save","previewBlob","autosaved","leave","removeItem","native","destroyChildren","clear_all","getAbsoluteTransform","copy","invert","dataUrl","setItem","imageConfig","lastCenter","lastDist","handleMouseDown","touches","cancelable","touch1","touch2","sqrt","pow","clientX","clientY","button","startDrag","isEraser","mainStrokeColor","previewStrokeColor","mainLayer","handleMouseUp","cancelAnimationFrame","handleMouseMove","dist","newCenter","pointTo","scaleBy","newPos","requestAnimationFrame","handleStageResize","getLayer","parsed","stageData","Array","isArray","savedChildren","imagePromises","shapeJson","crossOrigin","mainShape","get_details_and_load","saved_json","canva","last_access","last","localData","parsedLocal","handleFiles","from","offsetX","offsetY","floor","keyhandler","ctrlKey","autosaveInterval","waitForSync","setInterval","clearInterval","inputElement","onBeforeUnmount","close","onUnmounted","removeEventListener","min","args","uploadImage","xmlns","viewBox","d","bookmarkIcon","rows","_hoisted_24","zoom_ico","_component_v_stage","config","onMousedown","onMousemove","onMouseup","onWheel","onTouchstart","onTouchmove","onTouchend","onContextmenu","_component_v_layer","_component_v_image","updated","new_password","confirm_password","togglePasswordVisibility","field","inputField","querySelector","restorePassword","code","init","then","res","isValid","Footer","popular","input","search","sentence","load_popular","_withKeys","library","faPalette","faCircle","faTextHeight","faArrowUpLong","faSquare","faHome","faBolt","faLightbulb","faUndo","faRedo","faSearch","faExclamationTriangle","faUser","faEye","faPencil","faFeatherPointed","faPaintBrush","faPaintRoller","faGithub","faHand","routes","component","HeRo","MaIn","SeArch","AccOunt","BoArd","LearnMore","RestorePassword","NotFound","router","createRouter","createWebHistory","afterEach","scrollTo","behavior","createApp","App","use","createGtag","tagId","params","debug_mode","app_name","pageTracker","useScreenview","VueKonva","FontAwesomeIcon","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","Function","hmd","set","Error","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}