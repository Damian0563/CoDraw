{"version":3,"file":"js/app.015f1f01.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/components/Navbar.vue","webpack://frontend/./src/components/Navbar.vue?436b","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/common.js","webpack://frontend/./src/components/Footer.vue","webpack://frontend/./src/components/Footer.vue?7cca","webpack://frontend/./src/components/SignIn.vue","webpack://frontend/./src/components/SignIn.vue?faab","webpack://frontend/./src/components/SignUp.vue","webpack://frontend/./src/components/SignUp.vue?b466","webpack://frontend/./src/components/Hero.vue","webpack://frontend/./src/components/DemoBoard.vue","webpack://frontend/./src/components/DemoBoard.vue?3dc6","webpack://frontend/./src/components/Hero.vue?ee45","webpack://frontend/./src/components/Main.vue","webpack://frontend/./src/components/Main.vue?4fee","webpack://frontend/./src/components/SeTtings.vue","webpack://frontend/./src/components/SeTtings.vue?c4c5","webpack://frontend/./src/components/AccOunt.vue","webpack://frontend/./src/components/AccOunt.vue?d20b","webpack://frontend/./src/components/BoArd.vue","webpack://frontend/./src/components/BoArd.vue?01d0","webpack://frontend/./src/components/RestorePassword.vue","webpack://frontend/./src/components/RestorePassword.vue?5582","webpack://frontend/./src/components/LearnMore.vue","webpack://frontend/./src/components/LearnMore.vue?df84","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/harmony module decorator","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n  <NavBar v-if=\"$route.path.substring(0,7) !== '/codraw' && $route.path.substring(0,6)!=='/board'\"/>\n  <router-view/>\n</template>\n\n<script>\nimport NavBar from './components/Navbar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    NavBar,\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n\n#app {\n  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: 1.2rem;\n}\nhtml, body, #app {\n  height: 100%;\n  min-height: 100vh;\n  background: black;\n  overflow-y: auto !important;\n  scrollbar-width: thin !important;\n}\n</style>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark hero-background shadow p-3\" style=\"background-color: black !important;\">\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvas\" aria-controls=\"offcanvas\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"offcanvas offcanvas-end mx-2\" style=\"background-color: black;\" tabindex=\"-1\" id=\"offcanvas\" aria-labelledby=\"offcanvasLabel\">\n      <div class=\"offcanvas-body\">\n        <RouterLink class=\"navbar-brand d-flex align-items-center\" to=\"/\">\n          <img :src=\"imageUrl\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" height=\"90\" class=\"me-3\" />\n          <span>CoDraw</span>\n        </RouterLink>\n        <ul class=\"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-row align-items-center\">\n          <li class=\"nav-item mx-2\">\n            <RouterLink class=\"btn me-2\" to=\"/signup\" id=\"sign\" style=\"border-color: yellow;color: yellow;\">Sign up</RouterLink>\n          </li> \n          <li class=\"nav-item mx-2\">\n            <RouterLink class=\"btn btn-outline-light\" id=\"sing\" to=\"/signin\">Sign in</RouterLink>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script setup>\nimport imageUrl from '@/assets/logo.webp'\n</script>\n<script>\nexport default {\n  name: 'NavBar',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<style scoped>\n  .hero-background {\n    background: linear-gradient(135deg, #000000, #111111, #0a0a0a) !important;\n    background-size: 400% 400%;\n    animation: gradientMove 12s ease infinite;\n    text-align: center;\n    position: relative;\n    overflow: hidden;\n  }\n  #sign,#sing{\n    transition: ease-in-out 0.5s;\n  }\n  #sing:hover{\n    transform: scale(1.1);\n  }\n  #sign:hover{\n    transform: scale(1.1);\n    color: black !important;\n    background-color: yellow !important;\n    border-color:white !important;\n  }\n</style>\n","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=55e2d4bc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-55e2d4bc\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3e2c9072\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3e2c9072&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const BASE_URL = process.env.VUE_APP_BASE_URL;\r\nexport const WS_URL = process.env.VUE_APP_WS_URL;\r\nfunction get_cookie(name){\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\nexport { get_cookie };","<template>\r\n<footer class=\"footer-section\">\r\n    <div class=\"container text-center\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-4 mb-3 footer-brand\">\r\n          <h3 class=\"footer-title\">CoDraw</h3>\r\n          <p class=\"footer-desc\">\r\n            Collaborative drawing made simple, fast, and fun. Create together from anywhere.\r\n          </p>\r\n        </div>\r\n        <div class=\"col-md-2 mb-3 footer-links\">\r\n          <h5>Explore</h5>\r\n          <ul>\r\n            <li><router-link to=\"/\">Home</router-link></li>\r\n            <li><router-link to=\"/signup\">Get Started</router-link></li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"col-md-3 mb-3 footer-social\">\r\n          <h5>Follow Us</h5>\r\n          <div class=\"social-icons\">\r\n            <a href=\"https://github.com/Damian0563/CoDraw\"><font-awesome-icon :icon=\"['fab', 'github']\" /></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr class=\"footer-divider\" />\r\n      <p class=\"footer-copy\">\r\n         {{ new Date().getFullYear() }} CoDraw. All rights reserved.\r\n      </p>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"FoOter\",\r\n};\r\n</script>\r\n<style scoped>\r\n.footer-section {\r\n  background: linear-gradient(135deg, #000000, #0b0b0b, #111111);\r\n  color: #d9d9d9;\r\n  padding: 4rem 1rem 2rem 1rem;\r\n  border-top: 2px solid rgba(255, 255, 0, 0.2);\r\n  text-align: center;\r\n}\r\n\r\n.footer-title {\r\n  font-size: 1.8rem;\r\n  font-weight: 700;\r\n  color: yellow;\r\n  margin-bottom: 0.8rem;\r\n}\r\n\r\n.footer-desc {\r\n  font-size: 1rem;\r\n  color: #bfbfbf;\r\n  line-height: 1.6;\r\n}\r\n\r\n.footer-links h5 {\r\n  color: yellow;\r\n  margin-bottom: 0.8rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.footer-links ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.footer-links li {\r\n  margin: 0.4rem 0;\r\n}\r\n\r\n.footer-links a {\r\n  color: #d9d9d9;\r\n  text-decoration: none;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.footer-links a:hover {\r\n  color: yellow;\r\n}\r\n\r\n.footer-social h5 {\r\n  color: yellow;\r\n  margin-bottom: 0.8rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.social-icons a {\r\n  color: #d9d9d9;\r\n  font-size: 3rem;\r\n  margin: 0 0.5rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.social-icons a:hover {\r\n  color: yellow;\r\n  transform: scale(1.2);\r\n}\r\n\r\n.footer-divider {\r\n  border-color: rgba(255, 255, 0, 0.2);\r\n  margin: 2rem 0 1rem;\r\n}\r\n\r\n.footer-copy {\r\n  color: #a8a8a8;\r\n  font-size: 0.95rem;\r\n}\r\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=34d3663d&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=34d3663d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34d3663d\"]])\n\nexport default __exports__","<template>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\r\n       role=\"alert\"\r\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n    <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n      <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\r\n    </div>\r\n    </div>\r\n  </Transition>\r\n  <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\r\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n  </div>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"recovery\" class=\"recovery-container\" role=\"alert\" style=\"max-width: 80vw; width: 500px; position: fixed; top: 8rem; left: 50%; transform: translateX(-50%); z-index: 5000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n      <button @click=\"recovery=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n      <h2 class=\"mt-3\" style=\"color: yellow;font-weight: bold;\">Input your email, recovery link will be sent to you!</h2>\r\n      <form \r\n        class=\"mb-3 needs-validation\" \r\n        :class=\"{ 'was-validated': validated }\" \r\n        novalidate \r\n        @submit.prevent=\"sendReset\"\r\n      >\r\n        <label for=\"emailInput\" class=\"form-label text-muted small\">Email Address</label>\r\n        <input \r\n          type=\"email\" \r\n          class=\"form-control form-control-lg mb-3\" \r\n          placeholder=\"e.g. name@example.com\"\r\n          required\r\n          v-model=\"name_or_mail\"\r\n        />\r\n        <div class=\"invalid-feedback mb-2\">\r\n          Please specify a valid email address.\r\n        </div>  \r\n        <button type=\"submit\" class=\"btn btn-primary btn-lg w-100 shadow-sm mt-3\">\r\n          Send Recovery Link\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </Transition>\r\n  <div class=\"d-flex justify-content-center pt-5 mb-5\" style=\"background-color: black; min-height: 40vh;\">\r\n    <div class=\"card p-3 shadow-lg w-50\" style=\"max-width: 700px; width: 100%; background: white; border: none; min-height: unset;\">\r\n      <h2 class=\"text-center mb-3 text-black\">Sign In</h2>\r\n      <form ref=\"formRef\" @submit=\"SignIn\" class=\"needs-validation\" novalidate>\r\n        <div class=\"mb-2\">\r\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\r\n          <input type=\"email\" v-model=\"name_or_mail\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify email.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\r\n          <input type=\"password\" v-model=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify password.\r\n          </div>\r\n        </div>\r\n        <div class=\"form-check d-flex align-items-center mb-3 w-100 flex-wrap\" style=\"padding: 0 !important;gap: 2rem;\">\r\n          <label class=\"form-check-label text-black fw-medium mb-0\" for=\"rememberMe\">\r\n            Remember me\r\n          </label>\r\n          <input type=\"checkbox\" ref=\"ticked\" @click=\"ticked=!ticked\" id=\"rememberMe\" style=\"accent-color:#ffc107;margin: 0 !important;width:1.25rem;height:1.25rem;\">\r\n        </div>\r\n        <button id=\"sign\" type=\"submit\" class=\"btn btn-success w-50 mt-2\" style=\"background-color: yellow;color: black;\">Sign In</button>\r\n      </form>\r\n      <div class=\"text-center mt-2\">\r\n        <span class=\"text-secondary\">Do not have an account?</span>\r\n        <RouterLink to=\"/signup\" class=\"ms-2 text-info\">Sign up</RouterLink>\r\n      </div>\r\n      <div class=\"text-center mt-2\">\r\n        <text @click=\"recovery=true\" class=\"ms-2 text-info\" style=\"cursor: pointer;\">Forgot your password?</text>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n  <FoOter />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { get_cookie } from '@/common'\r\nimport {BASE_URL} from '../common.js'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nimport FoOter from './Footer.vue'\r\n\r\nlet message = ref('')\r\nlet invalid = ref(false)\r\nlet ticked= ref(false)\r\nconst loading=ref(false);\r\nconst name_or_mail = ref('')\r\nconst password = ref('')\r\nconst validated = ref(false);\r\nconst recovery=ref(false);\r\nconst formRef = ref(null);\r\n\r\n\r\nasync function sendReset(event){\r\n  try{\r\n    \r\n    recovery.value=true;\r\n    const form = event.currentTarget;\r\n    validated.value = true;\r\n    if (!form.checkValidity()) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n    recovery.value=false;\r\n    loading.value=true;\r\n    const data=await fetch(`${BASE_URL}/restore_password/${name_or_mail.value}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'X-CSRFToken': get_cookie('csrftoken')\r\n        },\r\n        credentials: 'include'\r\n    })\r\n    const response=await data.json()\r\n    return response.status===200\r\n  }catch(e){\r\n    console.error(e)\r\n    recovery.value=false;\r\n    invalid.value = true\r\n    message.value = 'An error occurred while sending reset email. Are you sure the email is correct?'\r\n    loading.value=false;\r\n  }finally{\r\n    invalid.value = true;\r\n    message.value=\"Recovery link sent, its validity is 5 minutes! Please check your email.\";\r\n    loading.value=false;\r\n  }\r\n}\r\n\r\nasync function SignIn(e){\r\n  e.preventDefault()\r\n  const form = formRef.value;\r\n  form.classList.add('was-validated')\r\n  if (!form.checkValidity()) {\r\n    e.stopPropagation()\r\n    return;\r\n  }\r\n  loading.value=true;\r\n  try{\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"mail\": name_or_mail.value,\r\n        \"password\": password.value,\r\n        \"remember\": ticked.value\r\n      })\r\n    });\r\n    const response = await data.json();\r\n    if(response.status===200){\r\n      window.location.href = '/codraw';\r\n    }else{\r\n      invalid.value = true;\r\n      message.value ='Invalid credentials. Please try again.';\r\n    }\r\n    loading.value=false;\r\n  }catch(e){\r\n    console.error(e)\r\n    invalid.value = true\r\n    message.value = 'An error occurred while signing in.'\r\n    loading.value=false;  \r\n  }\r\n}\r\nasync function status(){\r\n  try {\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signin`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if (response.status === 300) {\r\n      window.location.href = '/codraw';\r\n    } \r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\nstatus();\r\n</script>\r\n<style scoped>\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  border-radius: 1.5rem;\r\n  border: 2px solid #ffc107;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin-top: 1.5rem;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n.card:hover {\r\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\r\n}\r\n.card h2 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  margin-bottom: 1.2rem;\r\n}\r\n.card label {\r\n  color: #ffc107;\r\n  font-weight: 500;\r\n}\r\n.card input {\r\n  background: #222;\r\n  color: #fff;\r\n  border: 1.5px solid #ffc107;\r\n  border-radius: 0.5rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n.card input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n#sign {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n}\r\n#sign:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\ninput::placeholder {\r\n  color: #ccc !important;\r\n  opacity: 1;\r\n}\r\n\r\n.recovery-container {\r\n  max-width: 400px;\r\n  padding: 2rem;\r\n  text-align: center;\r\n  font-family: sans-serif;\r\n}\r\n</style>","import script from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=d4f7ea34&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d4f7ea34\"]])\n\nexport default __exports__","<template>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\r\n        role=\"alert\"\r\n        style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n      <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n      <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n        <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\r\n        <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\r\n      </div>\r\n    </div>\r\n  </Transition>\r\n  <div v-if=\"visible\" class=\"overlay\">\r\n    <div class=\"popup-card\">\r\n      <button @click=\"visible=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: red;color: white;\">&times;</button><br><br>\r\n      <h4 class=\"mb-3\">Enter Verification Code</h4>\r\n      <div class=\"d-flex justify-content-center mb-3\">\r\n        <input maxlength=\"1\" id=\"1\" @input=\"handleInput(2)\" ref=\"ZeroInput\" v-model=\"zero\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"2\" @input=\"handleInput(3)\" v-model=\"one\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\" ref=\"OneInput\"/>\r\n        <input maxlength=\"1\" id=\"3\" @input=\"handleInput(4)\" v-model=\"two\" ref=\"TwoInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"4\" @input=\"handleInput(5)\" v-model=\"three\" ref=\"ThreeInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"5\" class=\"code-input\" v-model=\"four\" ref=\"FourInput\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n      </div>\r\n      <button class=\"btn btn-primary w-100\" @click=\"verifyCode\">Verify</button>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex justify-content-center pt-5 mb-5\" style=\"background-color: black; min-height: 40vh;\">\r\n    <div class=\"card p-3 shadow-lg w-50\" style=\"max-width: 700px; width: 100%; background: white; border: none; min-height: unset;\">\r\n      <h2 class=\"text-center mb-3 text-black\">Sign Up</h2>\r\n      <form ref=\"formRef\" @submit=\"SignUp\" class=\"needs-validation\" novalidate>\r\n        <div class=\"mb-2\">\r\n          <label for=\"username\" class=\"form-label text-black text-start w-100\">Username</label>\r\n          <input v-model=\"username\" type=\"text\" class=\"form-control bg-dark text-white border-secondary\" id=\"username\" placeholder=\"Enter username\" style=\"color: white;\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify username.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\r\n          <input v-model=\"mail\" type=\"email\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify email.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\r\n          <input v-model=\"password\" type=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify password.\r\n          </div>\r\n        </div>\r\n        <button id=\"sign\" class=\"btn btn-success w-50 mt-2\" type=\"submit\" style=\"background-color: yellow;color: black;\">Sign Up</button>\r\n      </form>\r\n      <div class=\"text-center mt-2\">\r\n        <span class=\"text-secondary\">Already have an account?</span>\r\n        <RouterLink to=\"/signin\" class=\"ms-2 text-info\">Sign In</RouterLink>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n  <FoOter/>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { get_cookie } from '@/common'\r\nimport {BASE_URL} from '../common.js'\r\nimport FoOter from './Footer.vue'\r\nlet visible=ref(false)\r\nlet formRef=ref(null)\r\nlet invalid=ref(false)\r\nlet message=ref('')\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst mail = ref('')\r\nconst ZeroInput = ref(null)\r\nconst OneInput = ref(null)\r\nconst TwoInput = ref(null)\r\nconst ThreeInput = ref(null)\r\nconst FourInput = ref(null)\r\nasync function status(){\r\n  try {\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signup`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if (response.status === 300 && window.location.pathname !== '/codraw') {\r\n      window.location.href = '/codraw';\r\n    } \r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\nstatus();\r\nasync function SignUp(e) {\r\n  e.preventDefault()\r\n  const form = formRef.value;\r\n  form.classList.add('was-validated')\r\n  if (!form.checkValidity()) {\r\n    e.stopPropagation()\r\n    return;\r\n  }\r\n  const csrf=get_cookie('csrftoken')\r\n  const username_input=username.value\r\n  const password_input= password.value\r\n  const mail_input=mail.value\r\n  try{\r\n    const data = await fetch(`${BASE_URL}/signup`,{\r\n      method:\"POST\",\r\n      headers:{\"Content-Type\":'application/json','X-CSRFToken':csrf},\r\n      body:JSON.stringify({\r\n        \"username\":username_input,\r\n        \"mail\":mail_input,\r\n        \"password\":password_input\r\n      }),\r\n      credentials: 'include'\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      visible.value=true\r\n      ZeroInput.value.focus()\r\n    }else{\r\n      invalid.value=true\r\n      message.value=\"Account already registered under this email. Did you forget your password?\"\r\n    }\r\n\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction handleInput(index){\r\n  if(index === 2 && OneInput.value) OneInput.value.focus()\r\n  if(index === 3 && TwoInput.value) TwoInput.value.focus()\r\n  if(index === 4 && ThreeInput.value) ThreeInput.value.focus()\r\n  if(index === 5 && FourInput.value) FourInput.value.focus()\r\n}\r\nconst zero = ref('')\r\nconst one = ref('')\r\nconst two = ref('')\r\nconst three = ref('')\r\nconst four = ref('')\r\n\r\nfunction getCode() {\r\n  return `${zero.value}${one.value}${two.value}${three.value}${four.value}`;\r\n}\r\n\r\nasync function verifyCode(){\r\n  const csrf=get_cookie('csrftoken')\r\n  const username_input=username.value\r\n  const mail_input=mail.value\r\n  const data=await fetch(`${BASE_URL}/verify`,{\r\n    method:\"POST\",\r\n    headers:{\r\n      'Content-Type':'application/json',\r\n      'X-CSRFToken':csrf\r\n    },\r\n    body:JSON.stringify({\r\n      \"username\":username_input,\r\n      \"mail\":mail_input,\r\n      \"code\":getCode(),\r\n    })\r\n  })\r\n  const response=await data.json()\r\n  if(response.status===200){\r\n    window.location.href = '/codraw'\r\n  } else {\r\n    visible.value=false\r\n    invalid.value=true\r\n    zero.value = ''\r\n    one.value = ''\r\n    two.value = ''\r\n    three.value = ''\r\n    four.value = ''\r\n    message.value = \"Invalid verification code. Please try again- new verification code has been sent.\";\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  border-radius: 1.5rem;\r\n  border: 2px solid #ffc107;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin-top: 1.5rem;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n.card:hover {\r\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\r\n}\r\n.card h2 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  margin-bottom: 1.2rem;\r\n}\r\n.card label {\r\n  color: #ffc107;\r\n  font-weight: 500;\r\n}\r\n.card input {\r\n  background: #222;\r\n  color: #fff;\r\n  border: 1.5px solid #ffc107;\r\n  border-radius: 0.5rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n.card input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n#sign {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n}\r\n#sign:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\ninput::placeholder {\r\n  color: #ccc !important;\r\n  opacity: 1;\r\n}\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0,0,0,0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n.popup-card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  padding: 2.5rem 2rem 2rem 2rem;\r\n  border-radius: 1.5rem;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.45), 0 2px 8px rgba(255,255,0,0.10);\r\n  min-width: 320px;\r\n  max-width: 90vw;\r\n  text-align: center;\r\n  border: 2px solid #ffc107;\r\n}\r\n.popup-card h4 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  margin-bottom: 1.5rem;\r\n}\r\n.code-input {\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  margin: 0 0.3rem;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n  border: 2px solid #ffc107;\r\n  border-radius: 8px;\r\n  background: #222;\r\n  color: #fff;\r\n  outline: none;\r\n  transition: border 0.2s, background 0.2s;\r\n}\r\n.code-input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n.popup-card .btn-primary {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n  margin-top: 1.2rem;\r\n}\r\n.popup-card .btn-primary:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\n</style>","import script from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=b18efc2e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b18efc2e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"hero-background\">\r\n    <h1 class=\"hero-title\">CoDraw</h1>\r\n    <div class=\"d-flex align-items-center justify-content-center gap-5 flex-wrap\">\r\n      <font-awesome-icon :icon=\"['fa','paintbrush']\" class=\"feature-icon secondary-floating-icon\"/>\r\n      <font-awesome-icon :icon=\"['fa','feather-pointed']\" class=\"feature-icon hero-floating-icon\"/>\r\n      <p class=\"hero-subtitle mb-0 mx-2\">\r\n        CoDraw is a real-time collaborative drawing platform that lets you and your friends create, share, \r\n        and edit artwork together from anywhere. Experience seamless teamwork, intuitive tools, and instant updates \r\n        as you bring your creative ideas to life!\r\n      </p>\r\n      <font-awesome-icon :icon=\"['fa','pencil']\" class=\"feature-icon hero-floating-icon\"/>\r\n      <font-awesome-icon :icon=\"['fa','paint-roller']\" class=\"feature-icon secondary-floating-icon\"/>\r\n    </div>\r\n    <router-link to=\"/signup\">\r\n      <button class=\"cta-btn mt-4\">Start Drawing Now</button>\r\n    </router-link>\r\n  </div>\r\n  <div class=\"features-section\">\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-3 mb-3\" v-for=\"(feature, i) in features\" :key=\"i\">\r\n          <div class=\"card feature-card h-100 bg-dark text-white shadow-lg\">\r\n            <div class=\"card-body text-center\">\r\n              <font-awesome-icon :icon=\"feature.icon\" class=\"feature-icon\" />\r\n              <h5 class=\"card-title mt-3\">{{ feature.title }}</h5>\r\n              <p class=\"card-text\">{{ feature.text }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <section class=\"about-sec container text-center my-5\">\r\n    <text class=\"about-title\">No subscriptions, no hidden fees</text><text class=\"about-text\" style=\"font-size: 2.5rem;\">- just free for everyone, forever with at most respect to privacy.</text>\r\n  </section>\r\n  <section id=\"about\" href=\"#about\" class=\"about-sec\">\r\n    <div class=\"container\">\r\n      <div class=\"row align-items-center\">\r\n        <div class=\"col-md-6 about-text\">\r\n          <h2 class=\"about-title\">About CoDraw</h2>\r\n          <p>\r\n            CoDraw was built for creators who believe in collaboration. Whether you're sketching concepts, \r\n            storyboarding, or designing together, CoDraw makes teamwork feel effortless and fun.  \r\n            <br /><br />\r\n            With our real-time synchronization engine and a beautifully minimal interface, you can see every brushstroke \r\n            from your teammates the moment it happens  no refreshes, no lag, just instant creativity.  \r\n            <br /><br />\r\n            Our mission is simple: empower creativity by connecting people through shared imagination.\r\n          </p>\r\n          <router-link to=\"/learn-more\">\r\n            <button class=\"about-btn mt-3\">Learn More</button>\r\n          </router-link>\r\n        </div>\r\n\r\n        <div class=\"col-md-6 text-center about-visual\">\r\n          <img\r\n            :src=\"logo\"\r\n            alt=\"Collaborative Drawing\"\r\n            class=\"about-image\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section class=\"my-5 d-flex flex-column justify-content-center text-center align-items-center\" style=\"color:yellow;font-size: 1.5rem;font-weight: 700;height: 90vh;width:100%;overflow: hidden;\">\r\n    Take a look at our minimalistic demo to experience CoDraw and its awesome capabilities in action!\r\n    <div class=\"my-5 mx-auto rounded border border-warning\" style=\"background-color: black; overflow: hidden;\">\r\n      <DemoBoard />\r\n    </div>\r\n  </section>\r\n  <FoOter />\r\n</template>\r\n\r\n<script>\r\nimport { get_cookie } from '@/common';\r\nimport { BASE_URL } from '../common.js';\r\nimport logo from '@/assets/logo.webp';\r\nimport DemoBoard from './DemoBoard.vue';\r\nimport FoOter from './Footer.vue';\r\n\r\nexport default {\r\n  name: \"HeRo\",\r\n  components: { \r\n    DemoBoard,\r\n    FoOter\r\n  },\r\n  data() {\r\n    return {\r\n      logo,\r\n      features: [\r\n        {\r\n          title: \"Modern and Slick\",\r\n          text: \"A visually appealing interface designed for a seamless and enjoyable drawing experience.\",\r\n          icon:['fas', 'palette']\r\n        },\r\n        {\r\n          title: \"Performance Oriented\",\r\n          text: \"Optimized for speed and responsiveness, ensuring smooth collaboration in real time.\",\r\n          icon: ['fas', 'bolt']\r\n        },\r\n        {\r\n          title: \"Intuitive Design\",\r\n          text: \"Easy-to-use tools and layout, making creativity accessible for everyone.\",\r\n          icon: ['fas', 'lightbulb']\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.check();\r\n  },\r\n  methods: {\r\n    async check() {\r\n      try {\r\n        const csrf = get_cookie('csrftoken');\r\n        const data = await fetch(`${BASE_URL}/home`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'X-CSRFToken': csrf\r\n          },\r\n          credentials: 'include',\r\n        });\r\n        const response = await data.json();\r\n        if (response.status === 300 && window.location.pathname !== '/codraw') {\r\n          window.location.href = '/codraw';\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hero-background {\r\n  background: linear-gradient(135deg, #000000, #111111, #0a0a0a);\r\n  background-size: 400% 400%;\r\n  animation: gradientMove 12s ease infinite;\r\n  width: 100%;\r\n  min-height: 50vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 3rem 2rem;\r\n  color: white;\r\n  text-align: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n@keyframes gradientMove {\r\n  0% { background-position: 0% 50%; }\r\n  50% { background-position: 100% 50%; }\r\n  100% { background-position: 0% 50%; }\r\n}\r\n\r\n.hero-title {\r\n  font-size: 4rem;\r\n  font-weight: 700;\r\n  letter-spacing: 2px;\r\n  margin-bottom: 1rem;\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n  animation: fadeInUp 1s ease forwards;\r\n}\r\n\r\n.hero-subtitle {\r\n  font-size: 1.3rem;\r\n  max-width: 700px;\r\n  line-height: 1.6;\r\n  color: #e0e0e0;\r\n  margin-bottom: 2rem;\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n  animation: fadeInUp 1s ease forwards;\r\n  animation-delay: 0.3s;\r\n}\r\n\r\n@keyframes float {\r\n  0% { transform: translateY(0px); }\r\n  50% { transform: translateY(-20px); }\r\n  100% { transform: translateY(0px); }\r\n}\r\n\r\n.hero-floating-icon {\r\n  font-size: 4rem;\r\n  color: yellow;\r\n  filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));\r\n  animation: float 3s ease-in-out infinite;\r\n}\r\n\r\n.secondary-floating-icon {\r\n  font-size: 3rem;\r\n  color: gold;\r\n  filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));\r\n  animation: float 4s ease-in-out infinite;\r\n  animation-delay: 1.5s;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .hero-floating-icon {\r\n    font-size: 3rem;\r\n    margin-top: 1rem;\r\n  }\r\n  .hero-subtitle {\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.cta-btn {\r\n  background: linear-gradient(90deg, yellow, gold);\r\n  color: black;\r\n  font-weight: 600;\r\n  padding: 0.9rem 2.4rem;\r\n  border-radius: 50px;\r\n  border: none;\r\n  cursor: pointer;\r\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\r\n  transition: all 0.3s ease;\r\n  font-size: 1.1rem;\r\n}\r\n.cta-btn:hover {\r\n  background: linear-gradient(90deg, gold, yellow);\r\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\r\n  transform: translateY(-3px);\r\n}\r\n\r\n.features-section {\r\n  background: linear-gradient(135deg, #000000, #111111, #0a0a0a) !important;\r\n  padding: 4rem 1rem;\r\n  overflow-x: hidden;\r\n}\r\n.feature-card {\r\n  border: 2px solid rgba(255, 255, 0, 0.6);\r\n  border-radius: 1rem;\r\n  transition: all 0.4s ease;\r\n}\r\n.feature-card:hover {\r\n  box-shadow: 0 0 20px rgba(255, 255, 0, 0.4);\r\n  transform: translateY(-8px) scale(1.05);\r\n  border-color: yellow;\r\n}\r\n.feature-icon {\r\n  font-size: 2.5rem;\r\n  color: yellow;\r\n  transition: transform 0.3s ease;\r\n}\r\n.feature-card:hover .feature-icon {\r\n  transform: scale(1.2) rotate(5deg);\r\n}\r\n\r\n.about-section {\r\n  background: radial-gradient(circle at top left, #111, #000);\r\n  color: white;\r\n  padding: 6rem 1.5rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.about-sec {\r\n  color: white;\r\n  padding: 6rem 1.5rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.about-title {\r\n  font-size: 2.6rem;\r\n  font-weight: 700;\r\n  color: yellow;\r\n  margin-bottom: 1.5rem;\r\n}\r\n.about-text p {\r\n  color: #d9d9d9;\r\n  font-size: 1.1rem;\r\n  line-height: 1.7;\r\n}\r\n.about-btn {\r\n  background: linear-gradient(90deg, yellow, gold);\r\n  color: black;\r\n  font-weight: 600;\r\n  padding: 0.8rem 2rem;\r\n  border-radius: 50px;\r\n  border: none;\r\n  cursor: pointer;\r\n  box-shadow: 0 0 12px rgba(255, 255, 0, 0.4);\r\n  transition: all 0.3s ease;\r\n}\r\n.about-btn:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 0 20px rgba(255, 255, 0, 0.6);\r\n}\r\n.about-image {\r\n  width: 90%;\r\n  max-width: 480px;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 0 30px rgba(255, 255, 0, 0.2);\r\n  transition: transform 0.5s ease;\r\n}\r\n.about-visual:hover .about-image {\r\n  transform: scale(1.05) rotate(1deg);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .about-section {\r\n    text-align: center;\r\n  }\r\n  .about-image {\r\n    margin-top: 2rem;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    style=\"\r\n      position: relative;\r\n      width: 80vw;\r\n      height: 80vh;\r\n      overflow: hidden;\r\n    \"\r\n  >\r\n    <div v-if=\"loading\" class=\"spinner-overlay\">\r\n      <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n    </div>\r\n    <Transition name=\"fade-slide\">\r\n      <div v-if=\"showPopup\"\r\n        style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\r\n        <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\r\n        <button @click=\"showPopup = false\" \r\n            style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\r\n          \r\n        </button>\r\n        <p>{{message}}</p>\r\n        <button v-if=\"message!=='Are you sure you would like to clear the board? This action is irreversible.'\" @click=\"showPopup = false\" id=\"close_form\"\r\n            style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n          Close\r\n        </button>\r\n        <button v-if=\"message==='Are you sure you would like to clear the board? This action is irreversible.'\" \r\n          @click=\"clearDefinetely()\" id=\"confirm_clear\"\r\n          style=\"margin-top: 20px;background: green; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n          Confirm\r\n        </button>\r\n      </div>\r\n      </div>\r\n    </Transition>\r\n    <div\r\n      id=\"toolbar\"\r\n      style=\"\r\n      position: absolute;\r\n      top: 32px;\r\n      left: 5%;\r\n      background: rgba(30, 30, 30, 0.85);\r\n      border-radius: 16px;\r\n      box-shadow: 0 4px 24px rgba(0,0,0,0.18);\r\n      padding: 20px 32px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      z-index: 10;\r\n      \"\r\n    > \r\n      <font-awesome-icon :icon=\"['fas','undo']\" class=\"feature-icon\" @click=\"undo()\"></font-awesome-icon>\r\n      <font-awesome-icon :icon=\"['fas','redo']\" class=\"feature-icon\" @click=\"redo()\"></font-awesome-icon>\r\n      <button @click=\"motiv=!motiv\" style=\"border-radius: 50%;padding: 1rem;border-color: #f68608;border-width: 5px;\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n      ></button>\r\n      <text style=\"color: white;\">Brush Color</text>\r\n      <input type=\"color\" v-model=\"color\">\r\n      <select\r\n        v-model=\"tool\"\r\n        style=\"\r\n          background: #23272f;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 16px;\r\n          font-size: 1rem;\r\n          outline: none;\r\n          cursor: pointer;\r\n        \"\r\n      >\r\n        <option value=\"brush\">Brush</option>\r\n        <option value=\"eraser\">Eraser</option>\r\n      </select>\r\n      <label style=\"color: #fff; font-size: 1rem; margin-right: 8px;\">\r\n        Line Width\r\n      </label>\r\n      <input\r\n        type=\"range\"\r\n        v-model=\"width_slider\"\r\n        min=\"1\"\r\n        max=\"20\"\r\n        style=\"\r\n          accent-color: #4f8cff;\r\n          width: 60px;\r\n          margin-right: 8px;\r\n        \"\r\n      >\r\n      <span style=\"color: #fff; min-width: 32px; text-align: center;\">{{ width_slider }}</span>\r\n      <button\r\n        id=\"save_btn\"\r\n        v-if=\"admin || visitor\"\r\n        @click=\"check_save('save')\"\r\n        style=\"\r\n          background: #4f8cff;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 20px;\r\n          font-size: 1rem;\r\n          cursor: pointer;\r\n          transition: ease-in-out 0.6s;\r\n        \"\r\n      >Save</button>\r\n    </div>\r\n    <div\r\n      class=\"board-wrapper\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n    >\r\n      <v-stage\r\n          ref=\"stageRef\"\r\n          :config=\"stageConfig\"\r\n          @mousedown=\"handleMouseDown\"\r\n          @mousemove=\"handleMouseMove\"\r\n          @mouseup=\"handleMouseUp\"\r\n          @touchstart=\"handleMouseDown\"\r\n          @touchmove=\"handleMouseMove\"\r\n          @touchend=\"handleMouseUp\"\r\n          @contextmenu=\"handleContextMenu\"\r\n          style=\"overflow-x: hidden;overflow-y: hidden;border: none !important;\"\r\n          >\r\n          <v-layer ref=\"layerRef\">\r\n              <v-image  \r\n                ref=\"imageRef\"\r\n                :config=\"imageConfig\"\r\n              />\r\n          </v-layer>\r\n      </v-stage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nconst loading=ref(false)\r\nimport { onMounted, ref, onBeforeUnmount, onUnmounted} from 'vue';\r\nconst currentLine = ref(null)\r\nimport Konva from 'konva';\r\nimport { watch } from 'vue';\r\nconst stageRef = ref(null);\r\nconst windowWidth = ref(window.innerWidth);\r\nconst admin=ref(false)\r\nconst showPopup=ref(false)\r\nconst color = ref(\"#ffffff\")\r\nconst background=ref(\"#000000\")\r\nconst message=ref(null)\r\nconst tool = ref('brush');\r\nconst isDrawing = ref(false);\r\nconst width_slider=ref(5);\r\nconst list=ref([])\r\nconst lastPos = ref(null);\r\nconst imageRef = ref(null);\r\nconst layerRef = ref(null);\r\nconst isPanning = ref(false);\r\nconst motiv=ref(false)\r\nconst visitor=ref(true)\r\nconst stroke_history=ref([])\r\nconst history_index=ref(0)\r\nconst stageConfig = {\r\n  width: 4*document.documentElement.clientWidth,\r\n  height: 4*document.documentElement.clientHeight,\r\n  draggable: false\r\n};\r\n\r\nconst handleContextMenu = (e) => {\r\n  e.evt.preventDefault();\r\n};\r\nconst canvas = document.createElement('canvas');\r\ncanvas.width = stageConfig.width;\r\ncanvas.height = stageConfig.height;\r\n\r\nconst context = canvas.getContext('2d');\r\ncontext.strokeStyle = color.value;\r\ncontext.fillStyle=background.value\r\ncontext.lineJoin = 'round';\r\ncontext.lineWidth = width_slider.value;\r\ncontext.lineCap = 'round';\r\ncontext.lineJoin = 'round';\r\n\r\nwatch(color, (newColor) => {\r\n  context.strokeStyle = newColor;\r\n});\r\n\r\nfunction getCrop(image, size) {\r\n  const width = size.width;\r\n  const height = size.height;\r\n  const aspectRatio = width / height;\r\n  let newWidth;\r\n  let newHeight;\r\n  const imageRatio = image.width / image.height;\r\n  if (aspectRatio >= imageRatio) {\r\n    newWidth = image.width;\r\n    newHeight = image.width / aspectRatio;\r\n  } else {\r\n    newWidth = image.height * aspectRatio;\r\n    newHeight = image.height;\r\n  }\r\n  let x = 0;\r\n  let y = 0;\r\n  x = (image.width - newWidth) / 2;\r\n  y = (image.height - newHeight) / 2\r\n  return {\r\n    cropX: x,\r\n    cropY: y,\r\n    cropWidth: newWidth,\r\n    cropHeight: newHeight,\r\n  };\r\n}\r\n\r\nfunction applyCrop(imgNode) {\r\n  const image = imgNode.image();\r\n  if (!image) return;\r\n\r\n  const crop = getCrop(image, {\r\n    width: imgNode.width(),\r\n    height: imgNode.height()\r\n  });\r\n  imgNode.setAttrs(crop);\r\n}\r\n\r\n\r\nconst MAX_HISTORY = 10;\r\nfunction addToHistory() {\r\n  const layer = layerRef.value.getNode();\r\n  if (!layer) return;\r\n  const children = layer.children || [];\r\n  const lastChild = children[children.length - 1];\r\n  if (!lastChild) return;\r\n  const childConfig = lastChild.toJSON();\r\n  if (history_index.value < stroke_history.value.length - 1) {\r\n    stroke_history.value = stroke_history.value.slice(0, history_index.value + 1);\r\n  }\r\n  stroke_history.value.push(childConfig);\r\n  history_index.value = stroke_history.value.length - 1;\r\n  if (stroke_history.value.length > MAX_HISTORY) {\r\n    stroke_history.value.shift();\r\n    history_index.value = Math.max(0, history_index.value - 1);\r\n  }\r\n}\r\n\r\nconst undo=async()=>{\r\n  if (history_index.value < 0) return;\r\n  const layer = layerRef.value.getNode();\r\n  const children = layer.children || [];\r\n  const lastChild = children[children.length - 1];\r\n  if (lastChild) lastChild.destroy();\r\n  history_index.value--;\r\n  layer.batchDraw();\r\n}\r\n\r\nconst redo=()=>{\r\n  if(history_index.value==MAX_HISTORY-1) return\r\n  else{\r\n    history_index.value++;\r\n    const layer=layerRef.value.getNode()\r\n    if(!stroke_history.value[history_index.value]) return;\r\n    const history=JSON.parse(stroke_history.value[history_index.value])\r\n    if (history){\r\n      if(history.className===\"Image\"){\r\n        const image = new window.Image()\r\n        image.src=history.attrs.src\r\n        image.onload = () => {\r\n          const konvaImg = new Konva.Image({\r\n            id: uuidv4(),\r\n            image: image,\r\n            x: history.attrs.x,\r\n            y: history.attrs.y,\r\n            width: image.width,\r\n            height: image.height,\r\n            draggable: false,\r\n            src: history.attrs.src\r\n          });\r\n          applyCrop(konvaImg)\r\n          konvaImg.setAttr(\"src\", history.attrs.src);\r\n          layer.add(konvaImg);\r\n          layer.draw();\r\n        }\r\n      }else{\r\n        const KonvaNode= Konva.Node.create(history)\r\n        layer.add(KonvaNode)\r\n        layer.draw()\r\n      }\r\n      \r\n    }    \r\n  }\r\n}\r\n\r\nconst handlePaste = (event) => {\r\n  event.preventDefault();\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const pointer = stage.getPointerPosition() || { x: stage.width() / 2, y: stage.height() / 2 };\r\n  const point = getRelativePointerPosition(stage, pointer);\r\n  const clipboardData = event.clipboardData;\r\n  if (!clipboardData || clipboardData.files.length === 0) {\r\n    return;\r\n  }\r\n  const file = clipboardData.files[0];\r\n  if (!file.type.startsWith('image/')) {\r\n    return;\r\n  }\r\n  const reader = new FileReader();\r\n  reader.onload = (e) => {\r\n    const img = new window.Image();\r\n    img.src = e.target.result;\r\n    img.onload = () => {\r\n      const konvaImg = new Konva.Image({\r\n        id: uuidv4(),\r\n        image: img,\r\n        x: point.x,\r\n        y: point.y,\r\n        width: img.width,\r\n        height: img.height,\r\n        draggable: false,\r\n        src: e.target.result\r\n      });\r\n      applyCrop(konvaImg)\r\n      const layer = layerRef.value.getNode();\r\n      konvaImg.setAttr(\"src\", e.target.result);\r\n      layer.add(konvaImg);\r\n      layer.draw();\r\n      addToHistory()\r\n  }\r\n  reader.onloadstart= function() {\r\n    console.error('Starting');\r\n  };\r\n  reader.onerror = function(event) {\r\n    console.error('FileReader error:', event.target.error);\r\n  };\r\n  }\r\n  reader.readAsDataURL(file)\r\n}\r\n\r\n\r\nconst check_save = () => {\r\n  showPopup.value=true\r\n  message.value=\"Board was successfully quick saved.\"\r\n}\r\n\r\nfunction clearDefinetely(){\r\n  showPopup.value=false\r\n  message.value=\"\"\r\n  loading.value=true\r\n  console.log(\"Clearing the board\")\r\n  localStorage.removeItem('storage')\r\n  const layer=layerRef.value.getNode();\r\n  layer.destroyChildren();\r\n  layer.batchDraw();\r\n  loading.value=false\r\n}\r\n\r\nconst getRelativePointerPosition = (stage) => {\r\n  const transform = stage.getAbsoluteTransform().copy();\r\n  transform.invert();\r\n  const pos = stage.getPointerPosition();\r\n  return transform.point(pos);\r\n};\r\nconst autosave = () => {\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const dataUrl = stage.toDataURL();\r\n  list.value = [{\r\n    id: Date.now(),\r\n    image: dataUrl\r\n  }];\r\n  localStorage.setItem('storage', JSON.stringify(list.value));\r\n};\r\n\r\nconst imageConfig = {\r\n  image: canvas,\r\n  x: 0,\r\n  y: 0,\r\n  width: canvas.width,\r\n  height: canvas.height\r\n};\r\nconst handleMouseDown = (e) => {\r\n  const stage = e.target.getStage();\r\n  if (e.evt.button === 2) {\r\n    isPanning.value = true;\r\n    stage.draggable(true);\r\n    stage.startDrag();\r\n    lastPos.value = stage.getPointerPosition();\r\n    return;\r\n  }\r\n  isDrawing.value = true;\r\n  const pos = getRelativePointerPosition(stage);\r\n  const newLine = new Konva.Line({\r\n    stroke: color.value,\r\n    strokeWidth: width_slider.value,\r\n    globalCompositeOperation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\r\n    points: [pos.x, pos.y],\r\n    lineCap: 'round',\r\n    lineJoin: 'round'\r\n  });\r\n  layerRef.value.getNode().add(newLine);\r\n  currentLine.value = newLine;\r\n};\r\n\r\nconst handleMouseUp = (e) => {\r\n  isDrawing.value = false;\r\n  currentLine.value = null;\r\n  addToHistory()\r\n  if (isPanning.value) {\r\n    const stage = e.target.getStage();\r\n    stage.draggable(false);\r\n    isPanning.value = false;\r\n  }\r\n};\r\n\r\nconst handleMouseMove = (e) => {\r\n  if (!isDrawing.value || !currentLine.value) return;\r\n  const stage = e.target.getStage();\r\n  const point = getRelativePointerPosition(stage);\r\n  const newPoints = currentLine.value.points().concat([point.x, point.y]);\r\n  currentLine.value.points(newPoints);\r\n  layerRef.value.getNode().batchDraw();\r\n};\r\n\r\nconst keyhandler=(event)=>{\r\n  if (event.ctrlKey && event.key === 'z') {\r\n    undo()\r\n  }\r\n  else if (event.ctrlKey && event.key === 'y') {\r\n    redo()\r\n  }\r\n}\r\n\r\nconst onResize = () => {\r\n  windowWidth.value = window.innerWidth;\r\n};\r\n\r\nonMounted(async()=>{\r\n  loading.value=true\r\n  window.addEventListener('keyup',keyhandler)\r\n  let resizeTimeout = null;\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(() => {\r\n      const stage = stageRef.value?.getNode();\r\n      const image = imageRef.value?.getNode();\r\n      if (!stage || !image) return;\r\n\r\n      const newWidth = window.innerWidth;\r\n      const newHeight = window.innerHeight;\r\n\r\n      canvas.width = newWidth * 4;\r\n      canvas.height = newHeight * 4;\r\n\r\n      stage.width(canvas.width);\r\n      stage.height(canvas.height);\r\n\r\n      image.width(canvas.width);\r\n      image.height(canvas.height);\r\n\r\n      const layer = image.getLayer();\r\n      if (layer) layer.batchDraw();\r\n    }, 100);\r\n  });\r\n  window.addEventListener('resize', onResize); \r\n  window.addEventListener('paste', handlePaste)\r\n  watch(motiv,()=>{\r\n    background.value = motiv.value ? \"#ffffff\" : \"#000000\"\r\n    color.value= motiv.value ? \"#000000\":\"#ffffff\"\r\n  },{immediate:true})\r\n  loading.value=false;\r\n})\r\nsetInterval(()=>autosave(),60000)\r\nonBeforeUnmount(()=>{\r\n  loading.value=true\r\n})\r\nonUnmounted(()=>{\r\n  window.removeEventListener('paste',handlePaste)\r\n  window.removeEventListener(\"keyup\",keyhandler)\r\n  window.removeEventListener(\"resize\",onResize)\r\n})\r\n</script>\r\n\r\n<style>\r\nhtml, body {\r\n  margin: 0;\r\n  height: 100%;\r\n  overflow: hidden !important;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.feature-icon {\r\n  font-size: 2.5rem;\r\n  color: orange;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n#confirm_clear{\r\n  background-color: green !important;\r\n  transition: 0.3s ease !important;\r\n}\r\n\r\n#confirm_clear:hover{\r\n  background-color: #00cc00 !important;\r\n}\r\n\r\n.feature-icon:hover {\r\n  transform: scale(1.2) rotate(5deg);\r\n}\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.board-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n\r\n/* The \"leave\" state, when the modal is about to disappear */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n/* The \"active\" state, when the modal is fully visible and in its final position */\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.save:hover{\r\n  background:#fff ;\r\n  color: #4f8cff;\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 22px;\r\n}\r\n\r\n.switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0; left: 0;\r\n  right: 0; bottom: 0;\r\n  background-color: #ccc;\r\n  transition: 0.3s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.slider::before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 16px;\r\n  width: 16px;\r\n  left: 3px;\r\n  top: 3px;\r\n  background-color: white;\r\n  transition: 0.3s;\r\n  border-radius: 50%;\r\n}\r\n\r\ninput:checked + .slider {\r\n  background-color: #4f8cff;\r\n}\r\n\r\ninput:checked + .slider::before {\r\n  transform: translateX(18px);\r\n}\r\n\r\n@media(max-width:1500px) {\r\n  #toolbar{\r\n    font-size: 0.8rem;\r\n    gap:10px;\r\n  }\r\n}\r\n@media(max-width:1330px){\r\n  #toolbar{\r\n    left:2% !important;\r\n  }\r\n  #inv{\r\n    right:0.5rem;\r\n    font-size: 0.5rem;\r\n  }\r\n}\r\n@media(max-width:1150px){\r\n  #toolbar{\r\n    gap: 5px !important;\r\n  }\r\n}\r\n\r\n@media(max-width:1000px){\r\n  #inv_div{\r\n    top:140px !important;\r\n    position: fixed !important;\r\n  }\r\n}\r\n#zoom{\r\n  position: fixed;\r\n  right:40px;\r\n  bottom:10px;\r\n  background-color: white;\r\n  z-index: 10;\r\n}\r\n\r\n\r\n#inv:hover,#bookmark-btn:hover,#save_btn:hover,#save_def:hover,#close_form:hover{\r\n  background: #fff !important;\r\n  color:#4f8cff !important; \r\n}\r\n#exit:hover{\r\n  background:#fff!important;\r\n  color:#ff4f4f !important;\r\n}\r\n#clearall:hover{\r\n  background:#fff !important;\r\n  color:#f68608 !important;\r\n}\r\n</style>","import script from \"./DemoBoard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DemoBoard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DemoBoard.vue?vue&type=style&index=0&id=150db4e1&lang=css\"\nimport \"./DemoBoard.vue?vue&type=style&index=1&id=150db4e1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-150db4e1\"]])\n\nexport default __exports__","import { render } from \"./Hero.vue?vue&type=template&id=7ea81409&scoped=true\"\nimport script from \"./Hero.vue?vue&type=script&lang=js\"\nexport * from \"./Hero.vue?vue&type=script&lang=js\"\n\nimport \"./Hero.vue?vue&type=style&index=0&id=7ea81409&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ea81409\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"main-layout\">\r\n    <aside\r\n      class=\"sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark\"\r\n      :class=\"{ 'sidebar-collapsed': !sidebarOpen }\"\r\n    >\r\n      <div class=\"sidebar-header d-flex flex-column align-items-center mb-4\">\r\n        <img loading=\"lazy\" alt=\"sidebar\" decoding=\"async\" class=\"toggle mb-3 align-self-end\" @click=\"sidebarOpen = !sidebarOpen\" :class=\"{'align-self-center':!sidebarOpen}\" :src=\"toggle\" style=\"cursor: pointer; width: 2rem; height: 2rem;\"/>\r\n        <img :src=\"url\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" class=\"logo mb-4 img-fluid rounded rounded-circle\" style=\"max-height: 20vh;\"/>\r\n        <RouterLink :to=\"`/codraw/account/${username}`\" class=\"nav-link account-link mb-4 w-100 text-center\">\r\n          <font-awesome-icon class=\"mx-2\" :icon=\"['fas','user']\"></font-awesome-icon>My Account\r\n        </RouterLink>\r\n        <button class=\"btn btn-danger w-100\" @click=\"log_out()\" id=\"out\">Log out</button>\r\n      </div>\r\n    </aside>\r\n    <main class=\"main-content flex-grow-1\">\r\n      <RouterView />\r\n      <h1>Welcome to CoDraw!</h1>\r\n      <div class=\"mb-4\">\r\n        <h2 class=\"mb-4 text-start\">My Projects</h2>\r\n        <div id=\"projects\" class=\"container\">\r\n          <div \r\n            class=\"card create-project-card my text-center bg-dark\" \r\n            @click=\"create()\" \r\n            style=\"height: 14rem; width: 14rem; cursor: pointer;\"\r\n          >\r\n            <div class=\"card-body d-flex flex-column align-items-center justify-content-center\" style=\"height: 100%;\">\r\n              <span style=\"font-size: 3rem; color: #ffc107;\">+</span>\r\n              <h5 class=\"card-title mt-2 mb-0\" style=\"color:#ffc107\">Create Project</h5>\r\n            </div>\r\n          </div>\r\n          <div\r\n            v-for=\"(board, index) in boards\"\r\n            :key=\"index\"\r\n            class=\"card project-card text-center bg-dark\"\r\n            style=\"min-height: 14rem; min-width: 14rem; cursor: pointer; position: relative;\"\r\n            @click=\"join(board.room)\"\r\n          >\r\n            <div class=\"card-body d-flex flex-column text-white\" style=\"height: 100%;\">\r\n              <h5 class=\"card-title fw-bold txtcard mb-2\">{{ board.title }}</h5>\r\n              <p class=\"card-text txtcard small\">{{ board.description }}</p>\r\n              <footer\r\n                class=\"mt-auto py-2 px-2\"\r\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); border-top: 1px solid #ffc107;\"\r\n              >\r\n                <div class=\"d-flex justify-content-between small\">\r\n                  <span class=\"txtcard\">Views: <span class=\"txtcard\">{{ board.views }}</span></span>\r\n                  <span class=\"txtcard\">{{ board.modified }}</span>\r\n                </div>\r\n                <div class=\"text-start small txtcard\">\r\n                  Visibility: <span class=\"txtcard\">{{ board.visibility }}</span>\r\n                </div>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n          <!-- <div\r\n            v-for=\"(board, index) in boards\"\r\n            :key=\"index\"\r\n            class=\"card create-project-card my text-center bg-dark\"\r\n            @click=\"join(board.room)\"\r\n            style=\"min-height: 14rem; min-width: 14rem; cursor: pointer; position: relative;\"\r\n          >\r\n            <div class=\"card-body d-flex flex-column text-white\" style=\"height: 100%;\">  \r\n              <div class=\"w-100\" @click.stop=\"hover[index] = !hover[index]\">\r\n                <img :src=\"info\" style=\"width:30px;height: 30px;position: absolute;right:0;top:0;\" alt=\"info icon\">\r\n              </div>\r\n              <div v-if=\"hover[index]\" class=\"w-100\">\r\n                <div class=\"d-flex flex-column align-items-start gap-1\" style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05);padding: 0.5rem;\">\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Views: <span class=\"text-white\">{{ board.views }}</span></span>\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Last Modified: <span class=\"text-white\">{{ board.modified }}</span></span>\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Visibility: <span class=\"text-white\">{{ board.visibility }}</span></span>\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"w-100\">\r\n                <h5 class=\"card-title fw-bold mt-2\">{{ board.title }}</h5>\r\n                <p class=\"card-text\" style=\"font-size: 0.8rem;\">{{ board.description }}</p>\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <div v-if=\"loading\" class=\"spinner-overlay\">\r\n        <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n      </div>\r\n      <div class=\"my-5 border rounded justify-content-center\" style=\"background-color: #ffc107;width:100%;height: auto;\">\r\n        <div class=\"text-center mb-4\">\r\n          <h2 class=\"fw-bold mt-4\">Browse Public Projects</h2>\r\n          <p class=\"text-muted\">Find boards and ideas shared by the community</p>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-6 col-sm-8 col-7\">\r\n            <div class=\"input-group shadow-sm rounded mx-2\">\r\n              <input \r\n                type=\"text\" \r\n                class=\"form-control border-0 p-3\"\r\n                placeholder=\"Search public boards...\" \r\n                aria-label=\"Search public boards\"\r\n                v-model=\"input\"\r\n                @keyup.enter=\"search(input)\"\r\n              >\r\n              <button class=\"btn btn-primary\" type=\"button\" @click=\"search(input)\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" \r\n                    class=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 \r\n                          1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242 \r\n                          1.656a5.5 5.5 0 1 1 0-11 5.5 \r\n                          5.5 0 0 1 0 11z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <section id=\"results\" class=\"my-4 mx-3\">\r\n          <div class=\"container\">\r\n            <div class=\"row g-1 justify-content-start gap-2\">\r\n              <div\r\n                v-for=\"(board, index) in popular\"\r\n                :key=\"index\"\r\n                :class=\"popular.length < 3 ? 'col-12 col-md-6 col-xl-4' : 'col-12 col-lg-4 col-xl-3'\"\r\n                class=\"card result-card text-center bg-dark\"\r\n                style=\"height: 15rem; width: 15rem; cursor: pointer; position: relative;\"\r\n                @click=\"join(board.room)\"\r\n              >\r\n                <div class=\"card-body d-flex flex-column txtcard\" style=\"height: 100%;\">\r\n                  <h5 class=\"card-title fw-bold mb-2\">{{ board.title }}</h5>\r\n                  <p class=\"card-text small\">{{ board.description }}</p>\r\n                  <footer\r\n                    class=\"mt-auto py-2 px-2\"\r\n                    style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); border-top: 1px solid #ffc107;\"\r\n                  >\r\n                    <div class=\"d-flex justify-content-between small\">\r\n                      <span>Views: <span class=\"txtcard\">{{ board.views }}</span></span>\r\n                      <span class=\"txtcard\">{{ board.modified }}</span>\r\n                    </div>\r\n                    <div class=\"text-start small\">\r\n                      Owner: <a :href=\"`/codraw/account/${board.owner}`\" @click.stop style=\"color:#ff4f4f !important;\">{{ board.owner }}</a>\r\n                    </div>\r\n                  </footer>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                v-for=\"(board, index) in popular\"\r\n                :key=\"index\"\r\n                :class=\"popular.length < 3 ? 'col-12 col-md-6 col-xl-4' : 'col-12 col-lg-4 col-xl-3'\"\r\n              >\r\n                <div\r\n                  class=\"card create-project-card text-center bg-dark\"\r\n                  @click=\"join(board.room)\"\r\n                  style=\"min-height: 12rem;min-width:10rem ;cursor: pointer;position: relative;\"\r\n                >\r\n                  <div class=\"card-body d-flex flex-column text-white\" id=\"shown\" style=\"height: 100%;\">\r\n                    <h5 class=\"card-title fw-bold\">{{ board.title }}</h5>\r\n                    <p class=\"card-text\" style=\"font-size: 0.8rem;\">{{ board.description }}</p>\r\n                    <footer class=\"d-flex flex-column py-2\" style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); border-top: 1px solid #ffc107;\">\r\n                      <div class=\"d-flex align-items-center gap-2 mx-2 mb-2\">\r\n                        <span class=\"fw-semibold text-warning\">Owner:</span>\r\n                        <a :href=\"`/codraw/account/${board.owner}`\" style=\"color:#ff4f4f !important;\">{{ board.owner }}</a>\r\n                      </div>\r\n                      <div class=\"d-flex align-items-center gap-2 mx-2\">\r\n                        <input class=\"form-control form-control-sm\" readonly disabled :value=\"'Views: ' + board.views\" style=\"width:150px;\"/>\r\n                        <input class=\"form-control form-control-sm\" readonly disabled :value=\"board.modified\" style=\"width: 150px;\"/>\r\n                      </div>\r\n                    </footer>\r\n                  </div>  \r\n                </div>\r\n              </div> -->\r\n              <div v-if=\"popular.length===0\" class=\"justify-content-center\" style=\"min-height: 12rem;\">\r\n                <text>No results found :(</text>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { get_cookie } from '@/common';\r\nimport {DateTime} from 'luxon'\r\nimport url from '@/assets/logo.webp'\r\nimport toggle from '@/assets/sidebar.webp'\r\nimport {BASE_URL} from '../common.js'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\nconst loading = ref(false)\r\nconst hover=ref({})\r\nconst csrf=get_cookie('csrftoken')\r\nconst sidebarOpen = ref(false)\r\nconst boards = ref([])\r\nconst popular=ref([])\r\nconst input=ref('')\r\nconst username = ref(\"\")\r\nasync function get_username(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/username`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status==200) username.value=response.username\r\n    else username.value=\"ERROR 404 NOT FOUND\"\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function log_out(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/log_out`,{\r\n      method:\"POST\",\r\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href='/'\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function search(sentence){\r\n  try{\r\n    loading.value=true;\r\n    const data=await fetch(`${BASE_URL}/search`,{\r\n      method:\"POST\",\r\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"query\":sentence,\r\n        \"timezone\":DateTime.local().zoneName\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      popular.value=JSON.parse(response.boards)\r\n      //console.log(popular.value.length, popular.value)\r\n    }\r\n    loading.value=false\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function status(){\r\n  try {\r\n    const data = await fetch(`${BASE_URL}/codraw`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if(response.status !== 200 &&  window.location.pathname !== '/'){\r\n      window.location.href = '/';\r\n    }\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nconst get_boards = async()=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/codraw/get_boards`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"timezone\":DateTime.local().zoneName\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    boards.value=response.boards\r\n    hover.value=response.boards.map(()=>false)\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function join(room){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/load`,{\r\n      \"method\":\"POST\",\r\n      \"headers\":{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function create(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/get_project_url`,{\r\n        method:\"GET\",\r\n        headers:{\r\n          \"Content-Type\":'application/json',\r\n          \"X-CSRFToken\":csrf\r\n        },\r\n        credentials:\"include\"\r\n    })\r\n    const response= await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n    else{\r\n      console.log('error')\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function load_popular(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/get_popular`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"timezone\":DateTime.local().zoneName\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    popular.value=response.boards\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nonMounted(async() => {\r\n  loading.value=true\r\n  await Promise.all([\r\n    status(),\r\n    get_boards(),\r\n    load_popular(),\r\n    get_username()\r\n  ])\r\n  loading.value=false\r\n})\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MaIn',\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.project-card, .result-card {\r\n  transition: 0.3s ease-in-out;\r\n  border: 1px solid #ffc10744;\r\n  border-radius: 0.75rem;\r\n}\r\n\r\n\r\n.txtcard{\r\n  color: #ffc107;\r\n}\r\n\r\n.result-card:hover{\r\n  background-color: white !important;\r\n  color: #000 !important;\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);\r\n  border-color: black;\r\n  .txtcard{\r\n    color: black;\r\n  }\r\n  .card-title{\r\n    color: black;\r\n  }\r\n}\r\n\r\n.project-card:hover {\r\n  background-color: #ffc107 !important;\r\n  color: #000 !important;\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);\r\n  border-color: black;\r\n  .txtcard{\r\n    color: black;\r\n  }\r\n  .card-title{\r\n    color: black;\r\n  }\r\n}\r\n\r\n.project-card .card-title {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.project-card .card-text {\r\n  font-size: 0.85rem;\r\n}\r\n\r\n\r\n.my {\r\n  width: 14rem; /* lock width */\r\n  max-width: 20rem; /* prevents expansion */\r\n}\r\n\r\n#out{\r\n  transition: 0.6s ease-in-out;\r\n}\r\n\r\n#created,#shown{\r\n  transition: 0.5s ease-in-out;\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n#shown:hover{\r\n  background-color:#0d6efd;\r\n  color:white !important;\r\n}\r\n\r\n#created:hover{\r\n background-color:#ffc107;\r\n color:black !important;\r\n}\r\n\r\n#out:hover{\r\n  background-color: white;\r\n  color: red;\r\n}\r\n\r\n#projects {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(14rem, 1fr));\r\n  gap: 1.5rem; /* same as Bootstrap g-4 */\r\n  justify-items: center; /* center cards within each column */\r\n}\r\n\r\n.main-layout {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  background: #181818;\r\n}\r\n.sidebar {\r\n  height: 100vh;\r\n  min-width: 240px;\r\n  max-width: 20vw;\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  border-right: 2px solid #ffc107;\r\n  transition: width 0.3s, padding 0.3s, min-width 0.3s, max-width 0.3s;\r\n  z-index: 10;\r\n}\r\n.sidebar-collapsed {\r\n  min-width: 60px !important;\r\n  max-width: 60px !important;\r\n  padding-left: 0.5rem !important;\r\n  padding-right: 0.5rem !important;\r\n}\r\n.logo {\r\n  transition: max-width 0.3s, opacity 0.3s;\r\n}\r\n.sidebar-collapsed .logo {\r\n  max-width: 40px;\r\n  opacity: 0.7;\r\n}\r\n.sidebar-collapsed .nav-link,\r\n.sidebar-collapsed .btn,\r\n.sidebar-collapsed .settings-link,\r\n.sidebar-collapsed .account-link {\r\n  display: none !important;\r\n}\r\n.main-content {\r\n  flex-grow: 1;\r\n  background: #fff;\r\n  min-height: 0;\r\n  padding: 2.5rem 2rem;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n}\r\n</style>","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=3553913a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3553913a\"]])\n\nexport default __exports__","<template>\r\nsettings\r\n\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { get_cookie } from '@/common';\r\nconst csrf=get_cookie('csrftoken')\r\nconsole.log(csrf)\r\n</script>\r\n<script>\r\nexport default {\r\n  name: 'SeTtings',\r\n}\r\n</script>","import script from \"./SeTtings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeTtings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template class=\"bg-dark\">\r\n  <div v-if=\"loading\" class=\"spinner-overlay\">\r\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n  </div>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"showPopup\"\r\n      style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\r\n      <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\r\n      <button @click=\"showPopup = false\" \r\n          style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\r\n        \r\n      </button>\r\n      <p>{{message}}</p>\r\n      <button @click=\"showPopup = false\" id=\"close_form\"\r\n          style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n        Close\r\n      </button>\r\n      </div>\r\n    </div>\r\n  </Transition>\r\n  <main class=\"flex-grow-1 text-white py-5\">\r\n    <RouterLink to=\"/codraw\">\r\n      <img :src=\"back\" decoding=\"async\" loading=\"lazy\" class=\"back\" style=\"width:50px;height: 50px;\">\r\n    </RouterLink>\r\n    <div class=\"container\">\r\n      <h2 class=\"fw-bold mb-5 text-center\">{{ username }}'s Boards</h2>\r\n      <div class=\"boards-wrapper mt-2 justify-content-start\">\r\n        <div\r\n          v-for=\"(board, index) in boards\"\r\n          :key=\"index\"\r\n          class=\"project-card\"\r\n        > \r\n          <div class=\"d-flex justify-content-end align-items-center gap-2\">\r\n            <div v-if=\"admin\" class=\"w-100\">\r\n              <div class=\"d-flex justify-content-end align-items-center gap-2\">\r\n                <button class=\"btn btn-success success\" @click=\"join(board.room)\">\r\n                  Join room\r\n                </button>\r\n                <img\r\n                  v-if=\"!edits[index]\"\r\n                  :src=\"edit\"\r\n                  loading=\"lazy\"\r\n                  decoding=\"async\"\r\n                  alt=\"edit\"\r\n                  @click=\"edits[index] = !edits[index]\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n                <img\r\n                  v-else\r\n                  :src=\"save\"\r\n                  loading=\"lazy\"\r\n                  decoding=\"async\"\r\n                  alt=\"save\"\r\n                  @click=\"edits[index] = !edits[index];resave(boards[index]);boards[index].modified='Just now'\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n                <img\r\n                  :src=\"bin\"\r\n                  loading=\"lazy\"\r\n                  alt=\"delete\"\r\n                  decoding=\"async\"\r\n                  @click=\"delete_board(boards[index].room);boards.splice(index,1)\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n              </div>\r\n              <div v-if=\"!edits[index]\">\r\n                <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled />\r\n                <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\r\n              </div>\r\n              <div v-else>\r\n                <input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" />\r\n                <input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" />\r\n              </div>\r\n            </div>\r\n            <div v-else class=\"w-100\">\r\n              <button class=\"btn btn-success success\" @click=\"join(board.room)\">\r\n                Join room\r\n              </button>\r\n              <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\r\n              <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body text-white position-relative flex-grow-1\">\r\n            <div class=\"d-flex flex-column align-items-start gap-1\"\r\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Views: <span class=\"text-white\">{{ board.views }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Last Modified: <span class=\"text-white\">{{ board.modified }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Visibility: <span class=\"text-white\">{{ board.visibility }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container mt-5\" v-if=\"admin\"> \r\n      <h1 class=\"text-start\">Bookmarks</h1>\r\n      <div class=\"boards-wrapper mt-5 justify-content-start\">\r\n        <div\r\n          v-for=\"(board, index) in bookmarks\"\r\n          :key=\"index\"\r\n          class=\"project-card\"\r\n        >\r\n          <div class=\"d-flex justify-content-end\">\r\n            <button class=\"btn btn-success success\" @click=\"join(board.room)\">\r\n              Join room\r\n            </button>\r\n            <img\r\n              :src=\"bin\"\r\n              loading=\"lazy\"\r\n              alt=\"delete\"\r\n              decoding=\"async\"\r\n              @click=\"delete_bookmark(bookmarks[index].room);bookmarks.splice(index,1)\"\r\n              style=\"width:20px;height:20px;cursor:pointer;\"\r\n            >\r\n          </div>\r\n          <input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\r\n          <input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled/>\r\n          <div class=\"card-body text-white position-relative flex-grow-1\">\r\n            <div class=\"d-flex flex-column align-items-start gap-1\"\r\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Views: <span class=\"text-white\">{{ board.views }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Last Modified: <span class=\"text-white\">{{ board.modified }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Visibility: <span class=\"text-white\">{{ board.visibility }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script setup>\r\nimport { get_cookie } from '@/common';\r\nimport { DateTime } from 'luxon';\r\nimport { onMounted, ref } from 'vue';\r\nimport { BASE_URL } from '../common.js';\r\nimport { VueSpinnerTail } from 'vue3-spinners';\r\nimport back from '@/assets/goback.webp'\r\nimport bin from '@/assets/bin.webp'\r\nimport save from '@/assets/save.webp'\r\nimport edit from '@/assets/edit.webp'\r\n\r\nconst showPopup=ref(false)\r\nconst message=ref(null)\r\nconst username=ref(null)\r\nconst admin = ref(false)\r\nconst csrf = get_cookie('csrftoken')\r\nconst boards = ref([])\r\nconst loading = ref(true)\r\nconst edits=ref({})\r\nconst bookmarks=ref([])\r\nconst deletes=ref({})\r\n\r\nconst delete_board=async(room)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/delete/${room}`,{\r\n      method:\"GET\",\r\n      headers:{\"X-CSRFToken\":csrf},\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      showPopup.value=true\r\n      message.value=\"Board was successfully modified.\"\r\n    }\r\n    else console.log(\"Board not deleted successfully\")\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst delete_bookmark=async(room)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/delete/bookmark/${room}`,{\r\n      method:\"GET\",\r\n      headers:{\"X-CSRFToken\":csrf},\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      showPopup.value=true\r\n      message.value=\"Bookmark successfuly deleted.\"\r\n    }\r\n    // else console.log(\"Bookmark not deleted successfully\")\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst get_bookmarks=async(username)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/get_bookmarks/${username}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"timezone\":DateTime.local().zoneName\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      bookmarks.value=response.bookmarks\r\n      deletes.value=response.bookmarks.map(()=>false)\r\n    }\r\n    else bookmarks.value=[]\r\n\r\n  }catch(e){\r\n    console.error(e)\r\n    bookmarks.value=[]\r\n  }\r\n}\r\n\r\nconst resave=async(board)=>{\r\n  loading.value=true;\r\n  if(board.original_description!==board.description || board.original_title!==board.title){\r\n    try{\r\n      const data=await fetch(`${BASE_URL}/codraw/update/${board.room}`,{\r\n        method:\"POST\",\r\n        headers:{\r\n          \"Content-Type\":\"application/json\",\r\n          \"X-CSRFToken\":csrf\r\n        },\r\n        credentials:\"include\",\r\n        body:JSON.stringify({\r\n          \"title\":board.title,\r\n          \"description\":board.description,\r\n          \"timezone\":DateTime.local().zoneName\r\n        })\r\n      })\r\n      const response=await data.json()\r\n      if(response.status===200){\r\n        showPopup.value=true\r\n        message.value=\"Board was successfully modified.\"\r\n      }\r\n    }catch(e){\r\n      console.error(e)\r\n    }\r\n  }\r\n  loading.value=false;\r\n}\r\n\r\nconst get_status=async(curr_user)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/username`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    let user2=\"\"\r\n    if(response.status==200) user2=response.username\r\n    else user2=\"ERROR 404 NOT FOUND\"\r\n    return user2===curr_user\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst get_boards = async (username) => {\r\n  try {\r\n    const data = await fetch(`${BASE_URL}/codraw/boards/${username}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRFToken': csrf\r\n      },\r\n      body: JSON.stringify({\r\n        \"timezone\": DateTime.local().zoneName,\r\n      }),\r\n      credentials: \"include\"\r\n    })\r\n    const response = await data.json()\r\n    boards.value = response.boards.map(b => ({\r\n      ...b,\r\n      original_title: b.title,\r\n      original_description: b.description\r\n    }))\r\n    edits.value=response.boards.map(()=>false)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function join(room){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/load`,{\r\n      \"method\":\"POST\",\r\n      \"headers\":{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  loading.value = true;\r\n  const pathParts = window.location.pathname.split('/');\r\n  username.value = pathParts[pathParts.length - 1];\r\n  admin.value=await get_status(username.value);\r\n  await get_boards(username.value);\r\n  await get_bookmarks(username.value)\r\n  loading.value = false;\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.success{\r\n  transition: 0.5s ease-in-out;\r\n}\r\n\r\n.success:hover{\r\n  color:green;\r\n  background:white;\r\n}\r\n\r\n.boards-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n/* The \"leave\" state, when the modal is about to disappear */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n/* The \"active\" state, when the modal is fully visible and in its final position */\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.bookmarks{\r\n  position: absolute;\r\n  right:5%;\r\n  top:50px;\r\n  transition: 0.5s ease-in;\r\n}\r\n\r\n.back{\r\n  position: absolute;\r\n  left:5%;\r\n  top:50px;\r\n  transition: 0.5s ease-in;\r\n}\r\n\r\n.back:hover{\r\n  transform: translateX(-15px);\r\n}\r\n\r\n/* Fixed-size cards */\r\n.project-card {\r\n  background: #1f1f1f;\r\n  border: 1px solid #333;\r\n  border-radius: 1rem;\r\n  width: 400px;   /* fixed width */\r\n  height: 350px;  /* fixed height */\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* justify-content:space-around; */\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n.project-card:hover {\r\n  box-shadow: 0 6px 16px rgba(0,0,0,0.4);\r\n}\r\n\r\n.spinner-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000; background-color: rgba(0, 0, 0, 0.7); }\r\n\r\n</style>\r\n","import script from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccOunt.vue?vue&type=style&index=0&id=73e6fc26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73e6fc26\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    style=\"\r\n      position: relative;\r\n      width: 100vw;\r\n      height: 100vh;\r\n      overflow: hidden;\r\n    \"\r\n  >\r\n    <div v-if=\"loading\" class=\"spinner-overlay\">\r\n      <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n    </div>\r\n    <Transition name=\"fade-slide\">\r\n      <div v-if=\"showPopup\"\r\n        style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\r\n        <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\r\n        <button @click=\"showPopup = false\" \r\n            style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\r\n          \r\n        </button>\r\n        <p>{{message}}</p>\r\n        <button v-if=\"message!=='Are you sure you would like to clear the board? This action is irreversible.'\" @click=\"showPopup = false\" id=\"close_form\"\r\n            style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n          Close\r\n        </button>\r\n        <button v-if=\"message==='Are you sure you would like to clear the board? This action is irreversible.'\" \r\n          @click=\"clearDefinetely()\" id=\"confirm_clear\"\r\n          style=\"margin-top: 20px;background: green; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n          Confirm\r\n        </button>\r\n      </div>\r\n      </div>\r\n    </Transition>\r\n    <div\r\n      id=\"toolbar\"\r\n      style=\"\r\n      position: absolute;\r\n      top: 32px;\r\n      left: 5%;\r\n      background: rgba(30, 30, 30, 0.85);\r\n      border-radius: 16px;\r\n      box-shadow: 0 4px 24px rgba(0,0,0,0.18);\r\n      padding: 20px 32px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      z-index: 10;\r\n      \"\r\n    > \r\n      <font-awesome-icon :icon=\"['fas','undo']\" class=\"feature-icon\" @click=\"undo()\"></font-awesome-icon>\r\n      <font-awesome-icon :icon=\"['fas','redo']\" class=\"feature-icon\" @click=\"redo()\"></font-awesome-icon>\r\n      <button @click=\"motiv=!motiv\" style=\"border-radius: 50%;padding: 1rem;border-color: #f68608;border-width: 5px;\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n      ></button>\r\n      <text style=\"color: white;\">Brush Color</text>\r\n      <input type=\"color\" v-model=\"color\">\r\n      <select\r\n        v-model=\"tool\"\r\n        style=\"\r\n          background: #23272f;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 16px;\r\n          font-size: 1rem;\r\n          outline: none;\r\n          cursor: pointer;\r\n        \"\r\n      >\r\n        <option value=\"brush\">Brush</option>\r\n        <option value=\"eraser\">Eraser</option>\r\n      </select>\r\n      <label style=\"color: #fff; font-size: 1rem; margin-right: 8px;\">\r\n        Line Width\r\n      </label>\r\n      <input\r\n        type=\"range\"\r\n        v-model=\"width_slider\"\r\n        min=\"1\"\r\n        max=\"20\"\r\n        style=\"\r\n          accent-color: #4f8cff;\r\n          width: 60px;\r\n          margin-right: 8px;\r\n        \"\r\n      >\r\n      <span style=\"color: #fff; min-width: 32px; text-align: center;\">{{ width_slider }}</span>\r\n      <button\r\n        id=\"save_btn\"\r\n        v-if=\"admin || visitor\"\r\n        @click=\"check_save('save')\"\r\n        style=\"\r\n          background: #4f8cff;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 20px;\r\n          font-size: 1rem;\r\n          cursor: pointer;\r\n          transition: ease-in-out 0.6s;\r\n        \"\r\n      >Save</button>\r\n      <button\r\n      @click=\"leave()\"\r\n      id=\"exit\"\r\n      style=\"\r\n        background: #ff4f4f;\r\n        color: #fff;\r\n        border: none;\r\n        border-radius: 8px;\r\n        padding: 8px 20px;\r\n        font-size: 1rem;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n      \"\r\n      >Exit</button>\r\n      <button\r\n      id=\"clearall\"\r\n      v-if=\"admin\"\r\n      style=\"\r\n        background: #f68608;\r\n        color: #fff;\r\n        border: none;\r\n        border-radius: 8px;\r\n        padding: 8px 20px;\r\n        font-size: 1rem;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n      \"\r\n      @click=\"clear_all()\"\r\n      >\r\n      Clear all\r\n      </button>\r\n    </div>\r\n    <div id=\"inv_div\" style=\"position: absolute; top: 32px; right: 1rem; z-index: 10;\">\r\n      <button\r\n        v-if=\"visitor\"\r\n        id=\"bookmark-btn\"\r\n        @click=\"toggleBookmark\"\r\n        class=\"mb-2\"\r\n        style=\"\r\n        background: #4f8cff;\r\n        color:#fff ;\r\n        border: none;\r\n        border-radius: 10px;\r\n        padding: 10px 18px;\r\n        font-size: 0.95rem;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n        width:200px;\r\n        height: 40px;\r\n        \"\r\n      >\r\n        <img :src=\"bookmarkIcon\" decoding=\"async\" loading=\"lazy\" alt=\"Bookmark\" style=\"width: 18px; height: 18px;\" />\r\n        <span>{{ isBookmarked ? \"Bookmarked\" : \"Bookmark\" }}</span>\r\n      </button>\r\n      <button\r\n        id=\"inv\"\r\n        @click=\"copyInvitationLink\"\r\n        style=\"\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: #4f8cff;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 10px;\r\n          padding: 10px 18px;\r\n          font-size: 0.95rem;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: ease-in-out 0.6s;\r\n          width:200px;\r\n          height: 40px;\r\n        \"\r\n      >\r\n        <img :src=\"url\" alt=\"Copy\" style=\"width: 18px; height: 18px;\" />\r\n        <span v-if=\"show_text\">Copy invitation link</span>\r\n      </button>\r\n    </div>\r\n    <Transition name=\"fade-slide\">\r\n      <div\r\n        v-if=\"isVisible\"\r\n        style=\"\r\n          position: absolute;\r\n          top: 150px;\r\n          left: 35%;\r\n          backdrop-filter: blur(16px);\r\n          background: rgba(30, 30, 30, 0.75);\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          border-radius: 20px;\r\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);\r\n          padding: 32px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n          z-index: 20;\r\n          min-width: 30vw;\r\n          max-width: 90vw;\r\n          font-family: 'Segoe UI', Roboto, sans-serif;\r\n          transition: ease-in-out 0.6s;\r\n          color: #fff;\r\n        \"\r\n      >\r\n        <button\r\n          @click=\"isVisible = false\"\r\n          style=\"\r\n            position: absolute;\r\n            top: 12px;\r\n            right: 12px;\r\n            background: transparent;\r\n            border: none;\r\n            color: #ccc;\r\n            font-size: 20px;\r\n            cursor: pointer;\r\n            transition: color 0.2s;\r\n          \"\r\n        >\r\n          \r\n        </button>\r\n        <div style=\"display: flex; flex-direction: column; gap: 6px;\">\r\n          <label class=\"align-self-start\">Title</label>\r\n          <div style=\"position: relative;\">\r\n            <input\r\n              v-model=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Enter title\"\r\n              style=\"\r\n                padding: 10px 14px;\r\n                border-radius: 12px;\r\n                border: 1px solid rgba(255, 255, 255, 0.1);\r\n                background: rgba(255, 255, 255, 0.05);\r\n                color: #fff;\r\n                font-size: 1rem;\r\n                outline: none;\r\n                transition: border 0.2s;\r\n                width: 100%;\r\n                box-sizing: border-box;\r\n              \"\r\n            />\r\n            <span\r\n              style=\"\r\n                position: absolute;\r\n                right: 10px;\r\n                bottom: 6px;\r\n                font-size: 0.75rem;\r\n                color: #aaa;\r\n                pointer-events: none;\r\n              \"\r\n            >{{ (title && title.length) || 0 }}</span>\r\n          </div>\r\n        </div>\r\n        <div style=\"display: flex; flex-direction: column; gap: 6px;\">\r\n          <label class=\"align-self-start\">Description</label>\r\n            <div style=\"position: relative;\">\r\n            <textarea\r\n              v-model=\"description\"\r\n              rows=\"3\"\r\n              placeholder=\"Enter description\"\r\n              style=\"\r\n              padding: 10px 14px;\r\n              border-radius: 12px;\r\n              border: 1px solid rgba(255, 255, 255, 0.1);\r\n              background: rgba(255, 255, 255, 0.05);\r\n              color: #fff;\r\n              font-size: 1rem;\r\n              resize: none;\r\n              outline: none;\r\n              transition: border 0.2s;\r\n              width: 100%;\r\n              box-sizing: border-box;\r\n              \"\r\n            ></textarea>\r\n            <span\r\n              style=\"\r\n              position: absolute;\r\n              right: 10px;\r\n              bottom: 6px;\r\n              font-size: 0.75rem;\r\n              color: #aaa;\r\n              pointer-events: none;\r\n              \"\r\n            >{{ (description && description.length) || 0 }}</span>\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n          <label style=\"flex-shrink: 0;\">Private</label>\r\n          <label class=\"switch\">\r\n            <input \r\n              v-model=\"type\" \r\n              type=\"checkbox\" \r\n              :true-value=\"'private'\" \r\n              :false-value=\"'public'\" \r\n            />\r\n            <span class=\"slider\"></span>\r\n          </label>\r\n        </div>\r\n        <button\r\n          id=\"save_def\"\r\n          @click=\"save_definetely()\"\r\n          style=\"\r\n            background: #4f8cff;\r\n            color: #fff;\r\n            border: none;\r\n            border-radius: 12px;\r\n            padding: 12px;\r\n            font-size: 1rem;\r\n            font-weight: 500;\r\n            cursor: pointer;\r\n            transition: 0.5s ease-out;\r\n          \"\r\n          class=\"save\"\r\n        >\r\n          Save Details\r\n        </button>\r\n      </div>\r\n    </Transition>\r\n    <div id=\"zoom\">\r\n      <label style=\"font-size: larger; cursor: pointer;width:2rem\" @click=\"changeZoom('up')\" >+</label>\r\n      <img :src=\"zoom_ico\" decoding=\"async\" loading=\"lazy\" alt=\"zoom\" class=\"img-fluid\" style=\"width:1.2rem;height: 1.2rem;\">\r\n      <input v-model=\"zoom\" style=\"width: 60px; text-align: center;border-style: none;\" disabled>\r\n      <label style=\"font-size: larger; cursor: pointer;width:2rem\" @click=\"changeZoom('down')\">-</label>\r\n    </div>\r\n    <div\r\n      class=\"board-wrapper\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n    >\r\n      <v-stage\r\n          ref=\"stageRef\"\r\n          :config=\"stageConfig\"\r\n          @mousedown=\"handleMouseDown\"\r\n          @mousemove=\"handleMouseMove\"\r\n          @mouseup=\"handleMouseUp\"\r\n          @touchstart=\"handleMouseDown\"\r\n          @touchmove=\"handleMouseMove\"\r\n          @touchend=\"handleMouseUp\"\r\n          @contextmenu=\"handleContextMenu\"\r\n          style=\"overflow-x: hidden;overflow-y: hidden;border: none !important;\"\r\n          >\r\n          <v-layer ref=\"layerRef\">\r\n              <v-image  \r\n                ref=\"imageRef\"\r\n                :config=\"imageConfig\"\r\n              />\r\n          </v-layer>\r\n      </v-stage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport url from '@/assets/email.webp'\r\nimport zoom_ico from '@/assets/zoom.webp'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { get_cookie } from '@/common';\r\nimport {BASE_URL} from '../common.js'\r\nimport {WS_URL} from '../common.js'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nimport bookmarkIcon from '@/assets/star.webp'\r\nconst loading=ref(false)\r\nconst csrf = get_cookie('csrftoken');\r\nimport { onMounted, ref, onBeforeUnmount, computed, onUnmounted} from 'vue';\r\nconst currentLine = ref(null)\r\nimport Konva from 'konva';\r\nimport { watch } from 'vue';\r\nimport { nextTick } from 'vue';\r\nconst stageRef = ref(null);\r\nconst windowWidth = ref(window.innerWidth);\r\nconst admin=ref(false)\r\nconst isVisible=ref(false)\r\nconst showPopup=ref(false)\r\nconst color = ref(\"#ffffff\")\r\nconst background=ref(\"#000000\")\r\nconst title=ref(null)\r\nconst message=ref(null)\r\nconst description=ref(null)\r\nconst type=ref('Public')\r\nconst tool = ref('brush');\r\nconst isDrawing = ref(false);\r\nconst width_slider=ref(5);\r\nconst list=ref([])\r\nconst zoom=computed(()=>{return `${(zooming.value*100).toFixed(0)}%`})\r\nconst zooming= ref(1)\r\nconst lastPos = ref(null);\r\nconst imageRef = ref(null);\r\nconst layerRef = ref(null);\r\nconst isPanning = ref(false);\r\nconst motiv=ref(false)\r\nconst visitor=ref(true)\r\nconst stroke_history=ref([])\r\nconst history_index=ref(0)\r\nconst isBookmarked=ref(false);\r\n//const images = ref([]); \r\n\r\nconst check_visitor=async()=>{\r\n  if(admin.value){ \r\n    visitor.value=false;\r\n  }else{\r\n    try{\r\n      const data=await fetch(`${BASE_URL}/status`,{\r\n        method:\"GET\",\r\n        headers:{\"X-CSRFToken\":csrf},\r\n        credentials:\"include\"\r\n      })\r\n      let response=await data.json()\r\n      if(response.status===200 && response.user) visitor.value=true;\r\n      else visitor.value=false;\r\n    }catch(e){\r\n      console.error(e)\r\n    }\r\n  }\r\n}\r\n\r\nconst toggleBookmark=async()=>{\r\n  const me=new URL(window.location.href).pathname.split(\"/\")[2]\r\n  const room=new URL(window.location.href).pathname.split(\"/\")[3]\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/bookmark/${room}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"user\":me,\r\n        \"status\":isBookmarked.value\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200 && response.bookmarked){\r\n      isBookmarked.value=true;\r\n    }else{\r\n      isBookmarked.value=false;\r\n    }\r\n  }catch(e){\r\n    isBookmarked.value=false;\r\n  }\r\n}\r\n\r\nconst check_book_mark=async()=>{\r\n  const me=new URL(window.location.href).pathname.split(\"/\")[2]\r\n  const room=new URL(window.location.href).pathname.split(\"/\")[3]\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/is_bookmarked/${room}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"user\":me\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json();\r\n    if(response.status===200 && response.bookmarked) isBookmarked.value=true;\r\n    else isBookmarked.value=false;\r\n  }catch(e){\r\n    isBookmarked.value=false;\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst show_text = computed(() => windowWidth.value > 1330);\r\nconst stageConfig = {\r\n  width: 4*document.documentElement.clientWidth,\r\n  height: 4*document.documentElement.clientHeight,\r\n  draggable: false\r\n};\r\n\r\nconst ws=ref(null)\r\nconst room=ref(new URL(window.location.href).pathname.split('/')[3])\r\nws.value = new WebSocket(`${WS_URL}/${room.value}/`)\r\nws.value.onmessage = async(event) => {\r\n  const data = JSON.parse(event.data);\r\n  if (!data || !data.type) return;\r\n  const layer = layerRef.value.getNode();\r\n  if(data.type === \"start\") {\r\n    const newLine = new Konva.Line({\r\n      stroke: data.stroke,\r\n      strokeWidth: data.width,\r\n      globalCompositeOperation: data.operation,\r\n      points: data.points,\r\n      lineCap: \"round\",\r\n      lineJoin: \"round\"\r\n    });\r\n    newLine._remote = true;\r\n    layer.add(newLine);\r\n    currentLine.value = newLine;\r\n  } else if (data.type === \"draw\" && currentLine.value?._remote) {\r\n    const newPoints = currentLine.value.points().concat(data.points);\r\n    currentLine.value.points(newPoints);\r\n    layer.batchDraw();\r\n  }else if(data.type===\"bg\" && data.bg){\r\n    background.value=data.bg\r\n    motiv.value = data.bg === \"#ffffff\"\r\n  }else if(data.type==\"img\"){\r\n    const img = new window.Image();\r\n    img.src = data.src;\r\n    img.onload = () => {\r\n      const konvaImg = new Konva.Image({\r\n        id: data.id,\r\n        image: img,\r\n        x: data.x,\r\n        y: data.y,\r\n        width: data.width,\r\n        height: data.height,\r\n        draggable: false,\r\n      });\r\n      applyCrop(konvaImg);\r\n      layer.add(konvaImg);\r\n      layer.batchDraw();\r\n    };\r\n    img.onerror = () => console.error(\"Remote image failed to load\", data.id);\r\n  }else if(data.type===\"history_update\" && data.history){\r\n    stroke_history.value=data.history\r\n    history_index.value=data.index\r\n  }else if(data.type===\"undo\") await undo();\r\n  else if(data.type===\"redo\") redo();\r\n};\r\n\r\nconst handleContextMenu = (e) => {\r\n  e.evt.preventDefault();\r\n};\r\n// create canvas element\r\nconst canvas = document.createElement('canvas');\r\ncanvas.width = stageConfig.width;\r\ncanvas.height = stageConfig.height;\r\n\r\n// get context\r\nconst context = canvas.getContext('2d');\r\ncontext.strokeStyle = color.value;\r\ncontext.fillStyle=background.value\r\ncontext.lineJoin = 'round';\r\ncontext.lineWidth = width_slider.value;\r\ncontext.lineCap = 'round';\r\ncontext.lineJoin = 'round';\r\n\r\nwatch(color, (newColor) => {\r\n  context.strokeStyle = newColor;\r\n});\r\n\r\nfunction changeZoom(mode){\r\n  const stage = stageRef.value.getNode(); // get Konva Stage\r\n  const scaleBy = 1.25;\r\n  const oldScale = stage.scaleX();\r\n  const direction = mode===\"up\"? 1 : -1;\r\n  if(oldScale===1 && direction===-1) return;\r\n  const newScale = direction > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n  zooming.value=newScale\r\n  stage.scale({ x: newScale, y: newScale });\r\n  stage.batchDraw();\r\n}\r\n\r\nconst check_owner=async()=>{\r\n  try{\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const owner = parts[2]; // 'user_id'\r\n    const room = parts[3];  // 'room_id\r\n    const data=await fetch(`${BASE_URL}/codraw/check_owner`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"owner\":owner,\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      admin.value=true\r\n    }\r\n  }catch(e){\r\n    admin.value=false\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst copyInvitationLink = async () => {\r\n  try {\r\n    const link = window.location.href;\r\n    await navigator.clipboard.writeText(link);\r\n    showPopup.value = true;\r\n    message.value = \"Invitation link copied to clipboard!\";\r\n  } catch (err) {\r\n    console.error(\"Failed to copy: \", err);\r\n    showPopup.value = true;\r\n    message.value = \"Failed to copy the link.\";\r\n  }\r\n};\r\n\r\nconst load = () => {\r\n  const data = localStorage.getItem('storage');\r\n  if (data) {\r\n    list.value = JSON.parse(data);\r\n    // Draw the last saved image onto the canvas\r\n    if (list.value.length > 0) {\r\n      const lastImage = new window.Image();\r\n      lastImage.src = list.value[list.value.length - 1].image;\r\n      lastImage.onload = () => {\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        context.drawImage(lastImage, 0, 0);\r\n        layerRef.value.getNode().batchDraw();\r\n      };\r\n    }\r\n  }\r\n};\r\nconst save_definetely = async()=>{\r\n  try{\r\n    loading.value=true\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const room = parts[3];\r\n    if(!title.value){\r\n      showPopup.value=true\r\n      message.value=\"Please provide a title for your board.\"\r\n    }\r\n    if(title.value.length>66){\r\n      showPopup.value=true\r\n      message.value=\"The title length is to large, must be at most 60 characters.\"\r\n    }\r\n    if(description.value && description.value.length>170){\r\n      showPopup.value=true\r\n      message.value=\"The description length is to large, must be at most 100 characters.\"\r\n    }\r\n    const data=await fetch(`${BASE_URL}/codraw/save_new`,{\r\n      method:\"POST\",\r\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n      body:JSON.stringify({\r\n        \"project\":room,\r\n        \"payload\":JSON.stringify(stageRef.value.getStage().toJSON()),\r\n        \"title\":title.value,\r\n        \"description\":description.value,\r\n        \"type\":type.value,\r\n        \"bg\":background.value\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    let flag=true\r\n    isVisible.value=false\r\n    if(response.status===200){\r\n      flag=false\r\n    }\r\n    await new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\r\n    if(!flag){\r\n      showPopup.value=true\r\n      message.value=\"Board saved successfully.\"\r\n      autosave()\r\n    }else{\r\n      showPopup.value=true\r\n      message.value=\"There was an error saving your board.\"\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction getCrop(image, size) {\r\n  const width = size.width;\r\n  const height = size.height;\r\n  const aspectRatio = width / height;\r\n  let newWidth;\r\n  let newHeight;\r\n  const imageRatio = image.width / image.height;\r\n  if (aspectRatio >= imageRatio) {\r\n    newWidth = image.width;\r\n    newHeight = image.width / aspectRatio;\r\n  } else {\r\n    newWidth = image.height * aspectRatio;\r\n    newHeight = image.height;\r\n  }\r\n  let x = 0;\r\n  let y = 0;\r\n  x = (image.width - newWidth) / 2;\r\n  y = (image.height - newHeight) / 2\r\n  return {\r\n    cropX: x,\r\n    cropY: y,\r\n    cropWidth: newWidth,\r\n    cropHeight: newHeight,\r\n  };\r\n}\r\n\r\nfunction applyCrop(imgNode) {\r\n  // const crop = getCrop(\r\n  //   imgNode.image(), // HTMLImageElement\r\n  //   { width: imgNode.width(), height: imgNode.height() }\r\n  // );\r\n  // imgNode.setAttrs(crop);\r\n  const image = imgNode.image();\r\n  if (!image) return;\r\n\r\n  const crop = getCrop(image, {\r\n    width: imgNode.width(),\r\n    height: imgNode.height()\r\n  });\r\n  imgNode.setAttrs(crop);\r\n}\r\n\r\n\r\nconst MAX_HISTORY = 10;\r\nfunction addToHistory() {\r\n  const layer = layerRef.value.getNode();\r\n  if (!layer) return;\r\n  const children = layer.children || [];\r\n  const lastChild = children[children.length - 1];\r\n  if (!lastChild) return;\r\n  const childConfig = lastChild.toJSON();\r\n  if (history_index.value < stroke_history.value.length - 1) {\r\n    stroke_history.value = stroke_history.value.slice(0, history_index.value + 1);\r\n  }\r\n  stroke_history.value.push(childConfig);\r\n  history_index.value = stroke_history.value.length - 1;\r\n  if (stroke_history.value.length > MAX_HISTORY) {\r\n    stroke_history.value.shift();\r\n    history_index.value = Math.max(0, history_index.value - 1);\r\n  }\r\n  ws.value.send(JSON.stringify({\r\n    type: \"history_update\",\r\n    history: stroke_history.value,\r\n    index: history_index.value\r\n  }));\r\n}\r\n\r\nconst undo=async()=>{\r\n  if (history_index.value < 0) return;\r\n  const layer = layerRef.value.getNode();\r\n  const children = layer.children || [];\r\n  const lastChild = children[children.length - 1];\r\n  if (lastChild) lastChild.destroy();\r\n  history_index.value--;\r\n  layer.batchDraw();\r\n}\r\n\r\nconst redo=()=>{\r\n  if(history_index.value==MAX_HISTORY-1) return\r\n  else{\r\n    history_index.value++;\r\n    //redraw\r\n    const layer=layerRef.value.getNode()\r\n    if(!stroke_history.value[history_index.value]) return;\r\n    const history=JSON.parse(stroke_history.value[history_index.value])\r\n    if (history){\r\n      if(history.className===\"Image\"){\r\n        const image = new window.Image()\r\n        image.src=history.attrs.src\r\n        image.onload = () => {\r\n          const konvaImg = new Konva.Image({\r\n            id: uuidv4(),\r\n            image: image,\r\n            x: history.attrs.x,\r\n            y: history.attrs.y,\r\n            width: image.width,\r\n            height: image.height,\r\n            draggable: false,\r\n            src: history.attrs.src\r\n          });\r\n          applyCrop(konvaImg)\r\n          konvaImg.setAttr(\"src\", history.attrs.src);\r\n          layer.add(konvaImg);\r\n          layer.draw();\r\n        }\r\n      }else{\r\n        const KonvaNode= Konva.Node.create(history)\r\n        layer.add(KonvaNode)\r\n        layer.draw()\r\n      }\r\n      \r\n    }    \r\n  }\r\n}\r\n\r\nconst handlePaste = (event) => {\r\n  event.preventDefault();\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const pointer = stage.getPointerPosition() || { x: stage.width() / 2, y: stage.height() / 2 };\r\n  const point = getRelativePointerPosition(stage, pointer);\r\n  const clipboardData = event.clipboardData;\r\n  if (!clipboardData || clipboardData.files.length === 0) {\r\n    return;\r\n  }\r\n  const file = clipboardData.files[0];\r\n  if (!file.type.startsWith('image/')) {\r\n    return;\r\n  }\r\n  const reader = new FileReader();\r\n  reader.onload = (e) => {\r\n    const img = new window.Image();\r\n    img.src = e.target.result;\r\n    img.onload = () => {\r\n      const konvaImg = new Konva.Image({\r\n        id: uuidv4(),\r\n        image: img,\r\n        x: point.x,\r\n        y: point.y,\r\n        width: img.width,\r\n        height: img.height,\r\n        draggable: false,\r\n        src: e.target.result\r\n      });\r\n      applyCrop(konvaImg)\r\n      const layer = layerRef.value.getNode();\r\n      konvaImg.setAttr(\"src\", e.target.result);\r\n      layer.add(konvaImg);\r\n      layer.draw();\r\n      ws.value.send(JSON.stringify({\r\n        type:\"img\",\r\n        id: konvaImg.id(),\r\n        src: e.target.result,\r\n        x: konvaImg.x(),\r\n        y: konvaImg.y(),\r\n        width: konvaImg.width(),\r\n        height: konvaImg.height(),\r\n      })) //layer\r\n      addToHistory()\r\n  }\r\n  reader.onloadstart= function() {\r\n    console.error('Starting');\r\n  };\r\n  reader.onerror = function(event) {\r\n    console.error('FileReader error:', event.target.error);\r\n  };\r\n  }\r\n  reader.readAsDataURL(file)\r\n}\r\n\r\n\r\nconst check_save = async (mode) => {\r\n  try{\r\n    loading.value=true\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const room = parts[3];  // 'room_id\r\n    if(mode==='save'){\r\n      const data=await fetch(`${BASE_URL}/codraw/save_project`,{\r\n        method:\"POST\",\r\n        headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n        body:JSON.stringify({\r\n          \"project\":room,\r\n          \"payload\": JSON.stringify(stageRef.value.getStage().toJSON()),\r\n          \"bg\":background.value\r\n        }),\r\n        credentials:\"include\"\r\n      })\r\n      const response=await data.json()\r\n      let flag=true;\r\n      if(response.status===200){\r\n        flag=false\r\n      }\r\n      await new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\r\n      //console.log(flag)\r\n      if(!flag){\r\n        autosave()  \r\n        showPopup.value=true\r\n        message.value=\"Board was successfully quick saved.\"\r\n      }else isVisible.value=true\r\n    }else if(mode==='load'){\r\n      const data=await fetch(`${BASE_URL}/codraw/save_project`,{\r\n        method:\"POST\",\r\n        headers:{\r\n          'Content-Type':'application/json',\r\n        },\r\n        body:JSON.stringify({\r\n          \"project\":room,\r\n        }),\r\n      })\r\n      const response=await data.json()\r\n      if(response.status===200){\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction leave(){\r\n  localStorage.removeItem('storage')\r\n  if(admin.value){\r\n    window.location.href='/codraw'\r\n  }else{\r\n    window.location.href='/'\r\n  }\r\n}\r\n\r\nfunction clearDefinetely(){\r\n  showPopup.value=false\r\n  message.value=\"\"\r\n  loading.value=true\r\n  console.log(\"Clearing the board\")\r\n  localStorage.removeItem('storage')\r\n  const layer=layerRef.value.getNode();\r\n  layer.destroyChildren();\r\n  layer.batchDraw();\r\n  loading.value=false\r\n}\r\n\r\nfunction clear_all(){\r\n  if(admin.value){\r\n    showPopup.value=true;\r\n    message.value=\"Are you sure you would like to clear the board? This action is irreversible.\";\r\n  }else{\r\n    showPopup.value=true;\r\n    message.value=\"You don't have neccessary permissions to clear the board.\"\r\n  }\r\n}\r\nconst getRelativePointerPosition = (stage) => {\r\n  const transform = stage.getAbsoluteTransform().copy();\r\n  transform.invert();\r\n  const pos = stage.getPointerPosition();\r\n  return transform.point(pos);\r\n};\r\nconst autosave = () => {\r\n  // Save the canvas as a data URL (image)\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const dataUrl = stage.toDataURL();\r\n  // Store the image data and a timestamp/id in the list\r\n  list.value = [{\r\n    id: Date.now(),\r\n    image: dataUrl\r\n  }];\r\n  localStorage.setItem('storage', JSON.stringify(list.value));\r\n};\r\n\r\nconst imageConfig = {\r\n  image: canvas,\r\n  x: 0,\r\n  y: 0,\r\n  width: canvas.width,\r\n  height: canvas.height\r\n};\r\nconst handleMouseDown = (e) => {\r\n  const stage = e.target.getStage();\r\n  if (e.evt.button === 2) {\r\n    isPanning.value = true;\r\n    stage.draggable(true);\r\n    stage.startDrag();\r\n    lastPos.value = stage.getPointerPosition();\r\n    return;\r\n  }\r\n  isDrawing.value = true;\r\n  const pos = getRelativePointerPosition(stage);\r\n  const newLine = new Konva.Line({\r\n    stroke: color.value,\r\n    strokeWidth: width_slider.value,\r\n    globalCompositeOperation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\r\n    points: [pos.x, pos.y],\r\n    lineCap: 'round',\r\n    lineJoin: 'round'\r\n  });\r\n  ws.value.send(JSON.stringify({\r\n    type: \"start\",\r\n    stroke: color.value,\r\n    width: width_slider.value,\r\n    operation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\r\n    points: [pos.x, pos.y]\r\n  }))\r\n  layerRef.value.getNode().add(newLine);\r\n  currentLine.value = newLine;\r\n};\r\n\r\nconst handleMouseUp = (e) => {\r\n  isDrawing.value = false;\r\n  currentLine.value = null;\r\n  addToHistory()\r\n  if (isPanning.value) {\r\n    const stage = e.target.getStage();\r\n    stage.draggable(false);\r\n    isPanning.value = false;\r\n  }\r\n};\r\n\r\nconst handleMouseMove = (e) => {\r\n  if (!isDrawing.value || !currentLine.value) return;\r\n  const stage = e.target.getStage();\r\n  const point = getRelativePointerPosition(stage);\r\n  const newPoints = currentLine.value.points().concat([point.x, point.y]);\r\n  currentLine.value.points(newPoints);\r\n  layerRef.value.getNode().batchDraw();\r\n  ws.value.send(JSON.stringify({\r\n    type: \"draw\",\r\n    points: [point.x, point.y]\r\n  }));\r\n};\r\n\r\nconst get_details_and_load = async()=>{\r\n  try{\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const room = parts[3];\r\n    const data=await fetch(`${BASE_URL}/codraw/get_details`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n      },\r\n      body:JSON.stringify({\r\n        \"project\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    const saved_json = response.canva;\r\n    const bg = response.bg;\r\n    if(bg){\r\n      background.value=bg\r\n      motiv.value = bg === \"#ffffff\"\r\n    }\r\n    if(saved_json){\r\n      const parsed = JSON.parse(saved_json);\r\n      const layer = layerRef.value.getNode(); //\r\n      layer.destroyChildren();\r\n      parsed.children[0].children.forEach(shapeJson => {\r\n        if(shapeJson.className===\"Image\" && shapeJson.attrs.src){\r\n          const img = new window.Image();\r\n          img.src = shapeJson.attrs.src;\r\n          shapeJson.attrs.image = img;\r\n        }\r\n        const shape = Konva.Node.create(shapeJson);\r\n        layer.add(shape);\r\n      });\r\n      layer.draw();\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst keyhandler=(event)=>{\r\n  if (event.ctrlKey && event.key === 'z') {\r\n    undo()\r\n    ws.value.send(JSON.stringify({\r\n      type: \"undo\"\r\n    }))\r\n  }\r\n  else if (event.ctrlKey && event.key === 'y') {\r\n    redo()\r\n    ws.value.send(JSON.stringify({\r\n      type: \"redo\"\r\n    }))\r\n  }\r\n}\r\n\r\nconst onResize = () => {\r\n  windowWidth.value = window.innerWidth;\r\n};\r\n\r\nonMounted(async()=>{\r\n  loading.value=true\r\n  await nextTick(); \r\n  load()\r\n  if(await check_save('load')){\r\n    setTimeout(()=> get_details_and_load(),100)\r\n  }\r\n  await check_owner()\r\n  await check_visitor()\r\n  if(visitor.value){\r\n    await check_book_mark();\r\n  }\r\n  \r\n  window.addEventListener('keyup',keyhandler)\r\n  const stage=stageRef.value.getNode();\r\n  const scaleBy=1.1;\r\n  stage.on('wheel', (e) => {\r\n    e.evt.preventDefault();\r\n    const oldScale=stage.scaleX();\r\n    const pointer=stage.getPointerPosition();\r\n\r\n    const mousePointTo = {\r\n      x: (pointer.x - stage.x()) / oldScale,\r\n      y: (pointer.y - stage.y()) / oldScale,\r\n    };\r\n\r\n    const direction = e.evt.deltaY > 0 ? 1 : -1;\r\n    if(oldScale===1 && direction===-1) return;\r\n    const newScale = direction > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n    zooming.value=newScale\r\n    stage.scale({ x: newScale, y: newScale });\r\n\r\n    const newPos = {\r\n      x: pointer.x - mousePointTo.x * newScale,\r\n      y: pointer.y - mousePointTo.y * newScale,\r\n    };\r\n\r\n    stage.position(newPos);\r\n    stage.batchDraw();\r\n  })\r\n  let resizeTimeout = null;\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(() => {\r\n      const stage = stageRef.value?.getNode();\r\n      const image = imageRef.value?.getNode();\r\n      if (!stage || !image) return;\r\n\r\n      const newWidth = window.innerWidth;\r\n      const newHeight = window.innerHeight;\r\n\r\n      canvas.width = newWidth * 4;\r\n      canvas.height = newHeight * 4;\r\n\r\n      stage.width(canvas.width);\r\n      stage.height(canvas.height);\r\n\r\n      image.width(canvas.width);\r\n      image.height(canvas.height);\r\n\r\n      const layer = image.getLayer();\r\n      if (layer) layer.batchDraw();\r\n    }, 100);\r\n  });\r\n  window.addEventListener('resize', onResize); \r\n  window.addEventListener('paste', handlePaste)\r\n  const preview = document.createElement('div');\r\n  preview.id = 'preview';\r\n  preview.style.position = 'absolute';\r\n  preview.style.bottom = '15px';\r\n  preview.style.left = '15px';\r\n  preview.style.border = '5px solid #ffc107';\r\n  preview.style.borderRadius=\"5%\"\r\n  preview.style.backgroundColor = 'lightgrey';\r\n  document.body.appendChild(preview);\r\n  const previewStage = new Konva.Stage({\r\n    container: 'preview',\r\n    width: window.innerWidth/8,\r\n    height: window.innerHeight/8,\r\n    scaleX: 1/32,\r\n    scaleY: 1/32,\r\n  });\r\n  let layer=layerRef.value.getNode()\r\n  let previewLayer = new Konva.Layer();\r\n  const previewBg = new Konva.Rect({\r\n    x: 0,\r\n    y: 0,\r\n    width: previewStage.width()*32,\r\n    height: previewStage.height()*32,\r\n    fill: background.value,\r\n    listening: false,\r\n  });\r\n  previewStage.add(previewLayer);\r\n  previewLayer.add(previewBg)\r\n  watch(motiv,()=>{\r\n    background.value = motiv.value ? \"#ffffff\" : \"#000000\"\r\n    color.value= motiv.value ? \"#000000\":\"#ffffff\"\r\n    previewBg.fill(background.value);\r\n    previewLayer.batchDraw();\r\n    if(ws.value.readyState===WebSocket.OPEN){\r\n      ws.value.send(JSON.stringify({\r\n        type: \"bg\",\r\n        bg: background.value\r\n      }))\r\n    }\r\n  },{immediate:true})\r\n  function syncPreview() {\r\n    const parsed = JSON.parse(stageRef.value.getStage().toJSON());\r\n    previewLayer.destroyChildren();\r\n    previewLayer.add(previewBg);\r\n    parsed.children[0].children.forEach(shapeJson => {\r\n      const shape = Konva.Node.create(shapeJson);\r\n      previewLayer.add(shape);\r\n    });\r\n    previewLayer.draw();\r\n  }\r\n  loading.value=false;\r\n  layer.on('add destroy change',syncPreview)\r\n  syncPreview()\r\n})\r\nsetInterval(()=>autosave(),60000)\r\nonBeforeUnmount(()=>{\r\n  if(ws.value){\r\n    ws.value.close()\r\n  }\r\n  loading.value=true\r\n})\r\nonUnmounted(()=>{\r\n  window.removeEventListener('paste',handlePaste)\r\n  window.removeEventListener(\"keyup\",keyhandler)\r\n  window.removeEventListener(\"resize\",onResize)\r\n})\r\n</script>\r\n\r\n<style>\r\nhtml, body {\r\n  margin: 0;\r\n  height: 100%;\r\n  overflow: hidden !important; /* disables global scrolling */\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.feature-icon {\r\n  font-size: 2.5rem;\r\n  color: orange;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n#confirm_clear{\r\n  background-color: green !important;\r\n  transition: 0.3s ease !important;\r\n}\r\n\r\n#confirm_clear:hover{\r\n  background-color: #00cc00 !important;\r\n}\r\n\r\n.feature-icon:hover {\r\n  transform: scale(1.2) rotate(5deg);\r\n}\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.board-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.save:hover{\r\n  background:#fff ;\r\n  color: #4f8cff;\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 22px;\r\n}\r\n\r\n.switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0; left: 0;\r\n  right: 0; bottom: 0;\r\n  background-color: #ccc;\r\n  transition: 0.3s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.slider::before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 16px;\r\n  width: 16px;\r\n  left: 3px;\r\n  top: 3px;\r\n  background-color: white;\r\n  transition: 0.3s;\r\n  border-radius: 50%;\r\n}\r\n\r\ninput:checked + .slider {\r\n  background-color: #4f8cff;\r\n}\r\n\r\ninput:checked + .slider::before {\r\n  transform: translateX(18px);\r\n}\r\n\r\n@media(max-width:1500px) {\r\n  #toolbar{\r\n    font-size: 0.8rem;\r\n    gap:10px;\r\n  }\r\n}\r\n@media(max-width:1330px){\r\n  #toolbar{\r\n    left:2% !important;\r\n  }\r\n  #inv{\r\n    right:0.5rem;\r\n    font-size: 0.5rem;\r\n  }\r\n}\r\n@media(max-width:1150px){\r\n  #toolbar{\r\n    gap: 5px !important;\r\n  }\r\n}\r\n\r\n@media(max-width:1000px){\r\n  #inv_div{\r\n    top:140px !important;\r\n    position: fixed !important;\r\n  }\r\n}\r\n#zoom{\r\n  position: fixed;\r\n  right:40px;\r\n  bottom:10px;\r\n  background-color: white;\r\n  z-index: 10;\r\n}\r\n\r\n\r\n#inv:hover,#bookmark-btn:hover,#save_btn:hover,#save_def:hover,#close_form:hover{\r\n  background: #fff !important;\r\n  color:#4f8cff !important; \r\n}\r\n#exit:hover{\r\n  background:#fff!important;\r\n  color:#ff4f4f !important;\r\n}\r\n#clearall:hover{\r\n  background:#fff !important;\r\n  color:#f68608 !important;\r\n}\r\n</style>","import script from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BoArd.vue?vue&type=style&index=0&id=63a79974&lang=css\"\nimport \"./BoArd.vue?vue&type=style&index=1&id=63a79974&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-63a79974\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"d-block justify-content-center align-items-center mt-4\">\r\n        <h1 class=\"my-4\" style=\"color: yellow;\">Password Restoration</h1>\r\n        <Transition name=\"fade-slide\">\r\n            <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\r\n                role=\"alert\"\r\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n                <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n                    <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\r\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\r\n                </div>\r\n            </div>\r\n        </Transition>\r\n        <Transition name=\"fade-slide\">\r\n            <div v-if=\"updated\" class=\"alert alert-success text-center custom-alert p-2\"\r\n                role=\"alert\"\r\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(40,167,69,0.10); background: #222; border: 1.5px solid #28a745;\">\r\n                <button @click=\"updated=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #28a745; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n                    <strong style=\"color: #28a745; font-size: 1rem;\">Password successfully updated!</strong>\r\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">You can now sign in with your new password. You will be redirected in 10 seconds to the sign in page.</div>\r\n                </div>\r\n            </div>\r\n        </Transition>\r\n        <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\r\n            <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n        </div>\r\n        <Transition name=\"fade-slide\">\r\n            <div class=\"container align-items-center w-25 mt-4 bg-white rounded p-4\">\r\n                <h2 class=\"text-center mb-5 text-black\">Enter New Password</h2>\r\n                <div class=\"input-group\">\r\n                    <input type=\"password\" id=\"new\" v-model=\"new_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Enter new password\" required/>\r\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('new_password')\" />\r\n                </div>\r\n                <div class=\"input-group\">\r\n                    <input type=\"password\" id=\"confirm\" v-model=\"confirm_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Confirm new password\" required/>\r\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('confirm_password')\" />\r\n                </div>\r\n                <div v-if=\"new_password===confirm_password && new_password.length>0\">\r\n                    <button @click=\"init()\" class=\"btn btn-primary w-100 mt-2\">Restore Password</button>\r\n                </div>\r\n                <div v-else>\r\n                    <button disabled class=\"btn btn-secondary w-100 mt-2\">Restore Password</button>\r\n                    <label class=\"text-danger mt-2 d-block text-center\">Passwords do not match.</label>\r\n                </div>\r\n            </div>\r\n        </Transition>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue'\r\nimport {BASE_URL} from '../common.js'\r\nimport { get_cookie } from '@/common'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nconst message = ref('')\r\nconst invalid = ref(false)\r\nconst loading=ref(false);\r\nconst updated=ref(false);\r\nconst new_password=ref('');\r\nconst confirm_password=ref('');\r\n\r\nfunction togglePasswordVisibility(field) {\r\n    const inputField = field === 'new_password' ? document.querySelector('#new') : document.querySelector('#confirm');\r\n    if (inputField.type === 'password') {\r\n        inputField.type = 'text';\r\n    } else {\r\n        inputField.type = 'password';\r\n    }\r\n}\r\n\r\nasync function restorePassword(){\r\n    try{\r\n        loading.value=true;\r\n        const code =new URL(window.location.href).pathname.split('/')[2]\r\n        const data=await fetch(`${BASE_URL}/recover/${code}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken': get_cookie('csrftoken')\r\n            },\r\n            credentials: 'include',\r\n            body: JSON.stringify({\r\n                new_password: new_password.value,\r\n            })\r\n        })\r\n        const response=await data.json()\r\n        return response.status===200\r\n    }catch(err){\r\n        loading.value=false;\r\n        message.value=\"An error occurred. Please try again.\";\r\n        invalid.value=true;\r\n    }\r\n    loading.value=false;\r\n}\r\n\r\nconst init=()=>{\r\n    restorePassword().then((res)=>{\r\n    loading.value=false;\r\n    if(res){\r\n        updated.value=true;\r\n        setTimeout(()=>{\r\n            window.location.href=`${window.location.origin}/signin`\r\n        },10000)\r\n    }else{\r\n        message.value=\"Failed to update password. The recovery link may be invalid or expired.\";\r\n        invalid.value=true;\r\n    }\r\n    })\r\n}\r\n\r\n\r\n\r\nonMounted(()=>{\r\n    loading.value=true;\r\n    const code =ref(new URL(window.location.href).pathname.split('/')[2])\r\n    async function isValid(){\r\n        try{\r\n            const data=await fetch(`${BASE_URL}/recover/${code.value}`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'X-CSRFToken': get_cookie('csrftoken')\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            const response=await data.json()\r\n            return response.status===200\r\n        }catch(err){\r\n            window.location.href='/signin'\r\n        }\r\n    }\r\n    isValid().then((res)=>{\r\n        loading.value=false;\r\n        if(!res){\r\n            message.value=\"Recovery link is either invalid or expired.\"\r\n            invalid.value=true;\r\n        }\r\n    })\r\n    \r\n})\r\n</script>\r\n\r\n<style>\r\n.code-input {\r\n    width: 5rem;\r\n    height: 5rem;\r\n    margin: 0 0.3rem;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    border: 2px solid #ffc107;\r\n    border-radius: 8px;\r\n    background: #222;\r\n    color: #fff;\r\n    outline: none;\r\n    transition: border 0.2s, background 0.2s;\r\n}\r\n.code-input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n.popup-card .btn-primary {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n  margin-top: 1.2rem;\r\n}\r\n.popup-card .btn-primary:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n</style>","import script from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RestorePassword.vue?vue&type=style&index=0&id=06d22299&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"container mb-5\">\r\n    <img\r\n      :src=\"logo\"\r\n      alt=\"CoDraw Logo\"\r\n      class=\"img-fluid my-4 rounded\"\r\n      style=\"max-height: 200px;\"\r\n    >\r\n    <h1 class=\"text-white mt-4\">About CoDraw</h1>\r\n    <section class=\"mt-3\">\r\n      <p class=\"text-white\">\r\n        CoDraw is an innovative platform designed to facilitate collaborative drawing and creativity. Whether you're an artist looking to share your work or someone who enjoys doodling with friends, CoDraw provides the perfect space to connect and create together.\r\n      </p>\r\n      <p class=\"text-white\">\r\n        Our mission is to bring people together through art, fostering a community where creativity knows no bounds. With a variety of tools and features, CoDraw makes it easy for users of all skill levels to participate in collaborative projects.\r\n      </p>\r\n      <p class=\"text-white\">\r\n        Join us today and start creating amazing artwork with others! If you arre intrested in contributing to the development of CoDraw, check out our <a href=\"https://github.com/Damian0563/CoDraw\" class=\"text-yellow\">Github</a>\r\n      </p>\r\n    </section>\r\n  </div>\r\n  <FoOter/>\r\n</template>\r\n\r\n\r\n<script>\r\nimport logo from '@/assets/logo.webp';\r\nimport FoOter from './Footer.vue';\r\nexport default {\r\n  name: \"LearnMore\",\r\n  components: {\r\n    FoOter\r\n  },\r\n  data() {\r\n    return {\r\n      logo,\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./LearnMore.vue?vue&type=template&id=5cd8ca3f\"\nimport script from \"./LearnMore.vue?vue&type=script&lang=js\"\nexport * from \"./LearnMore.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport VueKonva from 'vue-konva';\nimport { createWebHistory, createRouter } from 'vue-router'\n\nimport SignIn from './components/SignIn.vue'\nimport SignUp from './components/SignUp.vue'\nimport HeRo from './components/Hero.vue'\nimport MaIn from './components/Main.vue'\nimport SeTtings from './components/SeTtings.vue'\nimport AccOunt from './components/AccOunt.vue'\nimport BoArd from './components/BoArd.vue'\nimport RestorePassword from './components/RestorePassword.vue'\nimport DemoBoard from './components/DemoBoard.vue'\nimport LearnMore from './components/LearnMore.vue';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nimport { faPalette, faBolt, faLightbulb, faUndo ,faRedo, faUser, faEye, faPencil, faFeatherPointed, faPaintBrush, faPaintRoller} from '@fortawesome/free-solid-svg-icons'\nimport {faGithub } from '@fortawesome/free-brands-svg-icons'\nlibrary.add(faPalette, faBolt, faLightbulb,faUndo,faRedo,faUser,faEye,faPencil,faFeatherPointed,faPaintBrush,faPaintRoller,faGithub)\n\nconst routes = [\n  { path: '/', component: HeRo },\n  { path: '/signup', component: SignUp },\n  { path: '/signin', component: SignIn },\n  { path: '/codraw', component: MaIn },\n  { path: '/codraw/settings', component: SeTtings },\n  { path: '/codraw/account/:username', component: AccOunt },\n  { path: '/board/:id/:room', component: BoArd },\n  {path: '/demo', component: DemoBoard},\n  {path: '/learn-more', component: LearnMore},\n  {path: '/recover/:code', component: RestorePassword}\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n})\n\n\ncreateApp(App).use(router).use(VueKonva).component('font-awesome-icon',FontAwesomeIcon).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3200); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_ctx","$route","path","substring","_createBlock","_component_NavBar","key","_createVNode","_component_router_view","__default__","name","props","msg","String","_createElementBlock","_hoisted_1","_createElementVNode","class","type","_hoisted_2","_hoisted_3","_component_RouterLink","to","src","_unref","imageUrl","alt","loading","decoding","height","_hoisted_5","_hoisted_6","id","style","_cache","_hoisted_7","__exports__","components","NavBar","render","BASE_URL","process","WS_URL","get_cookie","cookieValue","document","cookie","cookies","split","i","length","trim","decodeURIComponent","href","_hoisted_4","_component_router_link","_component_font_awesome_icon","icon","_hoisted_8","_toDisplayString","Date","getFullYear","message","ref","invalid","ticked","name_or_mail","password","validated","recovery","formRef","async","sendReset","event","value","form","currentTarget","checkValidity","preventDefault","stopPropagation","data","fetch","method","headers","credentials","response","json","status","e","console","error","SignIn","classList","add","csrf","body","JSON","stringify","window","location","_Transition","onClick","$event","_isRef","VueSpinnerTail","size","color","_normalizeClass","novalidate","onSubmit","_withModifiers","for","placeholder","required","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","FoOter","visible","username","mail","ZeroInput","OneInput","TwoInput","ThreeInput","FourInput","pathname","SignUp","username_input","password_input","mail_input","focus","handleInput","index","zero","one","two","three","four","getCode","verifyCode","maxlength","onInput","pattern","inputmode","_Fragment","_renderList","$data","features","feature","title","text","_hoisted_13","_hoisted_14","logo","_hoisted_16","_hoisted_17","_component_DemoBoard","_component_FoOter","MAX_HISTORY","currentLine","stageRef","windowWidth","innerWidth","admin","showPopup","background","tool","isDrawing","width_slider","list","lastPos","imageRef","layerRef","isPanning","motiv","visitor","stroke_history","history_index","stageConfig","width","documentElement","clientWidth","clientHeight","draggable","handleContextMenu","evt","canvas","createElement","context","getContext","getCrop","image","aspectRatio","newWidth","newHeight","imageRatio","x","y","cropX","cropY","cropWidth","cropHeight","applyCrop","imgNode","crop","setAttrs","addToHistory","layer","getNode","children","lastChild","childConfig","toJSON","slice","push","shift","Math","max","strokeStyle","fillStyle","lineJoin","lineWidth","lineCap","watch","newColor","undo","destroy","batchDraw","redo","history","parse","className","Image","attrs","onload","konvaImg","Konva","uuidv4","setAttr","draw","KonvaNode","create","handlePaste","stage","pointer","getPointerPosition","point","getRelativePointerPosition","clipboardData","files","file","startsWith","reader","FileReader","img","target","result","onloadstart","onerror","readAsDataURL","check_save","clearDefinetely","log","localStorage","removeItem","destroyChildren","transform","getAbsoluteTransform","copy","invert","pos","autosave","dataUrl","toDataURL","now","setItem","imageConfig","handleMouseDown","getStage","button","startDrag","newLine","stroke","strokeWidth","globalCompositeOperation","points","handleMouseUp","handleMouseMove","newPoints","concat","keyhandler","ctrlKey","onResize","onMounted","addEventListener","resizeTimeout","clearTimeout","setTimeout","innerHeight","getLayer","immediate","setInterval","onBeforeUnmount","onUnmounted","removeEventListener","_normalizeStyle","backgroundColor","min","_component_v_stage","config","onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend","onContextmenu","_component_v_layer","_component_v_image","DemoBoard","mounted","this","check","methods","hover","sidebarOpen","boards","popular","input","get_username","log_out","search","sentence","DateTime","local","zoneName","get_boards","map","join","room","url","load_popular","Promise","all","toggle","FontAwesomeIcon","_component_RouterView","board","description","_hoisted_15","views","modified","_hoisted_18","visibility","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","onKeyup","_withKeys","xmlns","fill","viewBox","d","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","owner","_hoisted_36","_hoisted_37","edits","bookmarks","deletes","delete_board","delete_bookmark","get_bookmarks","resave","original_description","original_title","get_status","user2","curr_user","b","pathParts","back","save","edit","bin","splice","readonly","disabled","_hoisted_27","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","isVisible","zoom","computed","zooming","toFixed","isBookmarked","check_visitor","user","toggleBookmark","me","URL","bookmarked","check_book_mark","show_text","ws","WebSocket","onmessage","operation","_remote","bg","changeZoom","mode","scaleBy","oldScale","scaleX","direction","newScale","scale","check_owner","parts","copyInvitationLink","link","navigator","clipboard","writeText","err","load","getItem","lastImage","clearRect","drawImage","save_definetely","flag","resolve","send","leave","clear_all","get_details_and_load","saved_json","canva","parsed","forEach","shapeJson","shape","nextTick","on","mousePointTo","deltaY","newPos","position","preview","bottom","left","border","borderRadius","appendChild","previewStage","container","scaleY","previewLayer","previewBg","listening","syncPreview","readyState","OPEN","close","bookmarkIcon","rows","zoom_ico","updated","new_password","confirm_password","togglePasswordVisibility","field","inputField","querySelector","restorePassword","code","init","then","res","origin","isValid","library","faPalette","faBolt","faLightbulb","faUndo","faRedo","faUser","faEye","faPencil","faFeatherPointed","faPaintBrush","faPaintRoller","faGithub","routes","component","HeRo","MaIn","SeTtings","AccOunt","BoArd","LearnMore","RestorePassword","router","createRouter","createWebHistory","createApp","App","use","VueKonva","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","hmd","set","Error","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}