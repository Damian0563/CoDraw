{"version":3,"file":"js/app.2fa05008.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/components/Navbar.vue","webpack://frontend/./src/components/Navbar.vue?436b","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/common.js","webpack://frontend/./src/components/Footer.vue","webpack://frontend/./src/components/Footer.vue?7cca","webpack://frontend/./src/components/SignIn.vue","webpack://frontend/./src/components/SignIn.vue?faab","webpack://frontend/./src/components/SignUp.vue","webpack://frontend/./src/components/SignUp.vue?b466","webpack://frontend/./src/components/Hero.vue","webpack://frontend/./src/components/Hero.vue?ee45","webpack://frontend/./src/components/SiDebar.vue","webpack://frontend/./src/components/SiDebar.vue?ed1f","webpack://frontend/./src/components/Main.vue","webpack://frontend/./src/components/Main.vue?4fee","webpack://frontend/./src/components/AccOunt.vue","webpack://frontend/./src/components/AccOunt.vue?d20b","webpack://frontend/./src/components/BoArd.vue","webpack://frontend/./src/components/BoArd.vue?01d0","webpack://frontend/./src/components/RestorePassword.vue","webpack://frontend/./src/components/RestorePassword.vue?5582","webpack://frontend/./src/components/LearnMore.vue","webpack://frontend/./src/components/LearnMore.vue?df84","webpack://frontend/./src/components/NotFound.vue","webpack://frontend/./src/components/NotFound.vue?13e4","webpack://frontend/./src/components/SeArch.vue","webpack://frontend/./src/components/SeArch.vue?be99","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/harmony module decorator","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n\t<NavBar v-if=\"$route.meta.showNav\"/>\n  <router-view/>\n</template>\n\n<script>\nimport NavBar from './components/Navbar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    NavBar,\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n\n#app {\n  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: 1.2rem;\n}\nhtml, body, #app {\n  height: 100%;\n  min-height: 100vh;\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  overflow-y: auto !important;\n  scrollbar-width: thin !important;\n}\n</style>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark hero-background shadow p-3\" style=\"background-color: black !important;\">\n    <div class=\"container-fluid\">\n      <RouterLink class=\"navbar-brand d-flex align-items-center\" to=\"/\">\n        <img :src=\"imageUrl\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" height=\"60\" class=\"me-2\" />\n        <span>CoDraw</span>\n      </RouterLink>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\" aria-controls=\"offcanvasNavbar\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"offcanvas offcanvas-end\" tabindex=\"-1\" id=\"offcanvasNavbar\" style=\"background-color: black; max-width: 80vw;\">\n        <div class=\"offcanvas-header border-bottom border-secondary\">\n          <h5 class=\"offcanvas-title text-white\" id=\"offcanvasNavbarLabel\">Menu</h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"offcanvas-body\">\n          <ul class=\"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-column flex-lg-row align-items-center\">\n            <li class=\"nav-item my-2 my-lg-0 mx-2\">\n              <RouterLink class=\"btn btn-signup w-100\" to=\"/signup\" @click=\"navigateAndClose\">Sign up</RouterLink>\n            </li>\n            <li class=\"nav-item my-2 my-lg-0 mx-2\">\n              <RouterLink class=\"btn btn-signin w-100\" to=\"/signin\" @click=\"navigateAndClose\">Sign in</RouterLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n<script setup>\nimport imageUrl from '@/assets/logo.webp'\n\nconst navigateAndClose = () => {\n  const offcanvas = document.getElementById('offcanvasNavbar')\n  // eslint-disable-next-line no-undef\n  const bsOffcanvas = bootstrap.Offcanvas.getInstance(offcanvas)\n  if (bsOffcanvas) {\n    bsOffcanvas.hide()\n  }\n}\n</script>\n<script>\nexport default {\n  name: 'NavBar',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<style scoped>\n  .hero-background {\n    background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%) !important;\n    text-align: center;\n    position: relative;\n    overflow: hidden;\n  }\n  .hero-background::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1px;\n    background: linear-gradient(90deg, rgba(255, 215, 0, 0.3));\n  }\n  .btn-signup, .btn-signin {\n    padding: 0.6rem 1.5rem;\n    font-weight: 600;\n    font-size: 0.95rem;\n    letter-spacing: 0.02em;\n    border-radius: 8px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    text-transform: uppercase;\n    border: 2px solid transparent;\n  }\n\n  .btn-signup {\n    background: linear-gradient(135deg, #facc15 0%, #eab308 100%);\n    color: #000;\n    border-color: #facc15;\n    box-shadow: 0 4px 14px rgba(250, 204, 21, 0.4);\n  }\n\n  .btn-signup:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(250, 204, 21, 0.6);\n    background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);\n    border-color: #eab308;\n    color: #000;\n  }\n\n  .btn-signup:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.3);\n  }\n\n  .btn-signin {\n    background: transparent;\n    color: #fff;\n    border: 2px solid rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n  }\n\n  .btn-signin:hover {\n    transform: translateY(-2px);\n    background: rgba(255, 255, 255, 0.1);\n    border-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0 4px 14px rgba(255, 255, 255, 0.15);\n    color: #fff;\n  }\n\n  .btn-signin:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  .btn-signup:active, .btn-signin:active {\n    transform: translateY(0);\n  }\n</style>\n","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=e6cab236&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e6cab236\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45b95b92\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45b95b92&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { reactive } from 'vue';\n\nexport const BASE_URL = process.env.VUE_APP_BASE_URL;\nexport const WS_URL = process.env.VUE_APP_WS_URL;\nexport const GTAG = process.env.VUE_APP_GTAG;\nexport const GOOGLE_ID = process.env.VUE_APP_GOOGLE_ID;\nexport const wsConnections = reactive({});\nfunction get_cookie(name) {\n\tlet cookieValue = null;\n\tif (document.cookie && document.cookie !== '') {\n\t\tconst cookies = document.cookie.split(';');\n\t\tfor (let i = 0; i < cookies.length; i++) {\n\t\t\tconst cookie = cookies[i].trim();\n\t\t\tif (cookie.substring(0, name.length + 1) === (name + '=')) {\n\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn cookieValue;\n}\nexport { get_cookie };\n","<template>\n<footer class=\"footer-section\">\n    <div class=\"container text-center\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4 mb-3 footer-brand\">\n          <h3 class=\"footer-title\">CoDraw</h3>\n          <p class=\"footer-desc\">\n            Collaborative drawing made simple, fast, and fun. Create together from anywhere.\n          </p>\n        </div>\n        <div class=\"col-md-2 mb-3 footer-links\">\n          <h5>Explore</h5>\n          <ul>\n            <li><router-link to=\"/\">Home</router-link></li>\n            <li><router-link to=\"/signup\">Get Started</router-link></li>\n          </ul>\n        </div>\n        <div class=\"col-md-3 mb-3 footer-social\">\n          <h5>Follow Us</h5>\n          <div class=\"social-icons\">\n            <a href=\"https://github.com/Damian0563/CoDraw\"><font-awesome-icon :icon=\"['fab', 'github']\" /></a>\n          </div>\n        </div>\n      </div>\n      <hr class=\"footer-divider\" />\n      <p class=\"footer-copy\">\n         {{ new Date().getFullYear() }} CoDraw. All rights reserved.\n      </p>\n    </div>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: \"FoOter\",\n};\n</script>\n<style scoped>\n.footer-section {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  color: #d9d9d9;\n  padding: 4rem 1rem 2rem 1rem;\n  border-top: 2px solid rgba(255, 255, 0, 0.2);\n  text-align: center;\n}\n\n.footer-title {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 0.8rem;\n}\n\n.footer-desc {\n  font-size: 1rem;\n  color: #bfbfbf;\n  line-height: 1.6;\n}\n\n.footer-links h5 {\n  color: yellow;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n}\n\n.footer-links ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.footer-links li {\n  margin: 0.4rem 0;\n}\n\n.footer-links a {\n  color: #d9d9d9;\n  text-decoration: none;\n  transition: color 0.3s ease;\n}\n\n.footer-links a:hover {\n  color: yellow;\n}\n\n.footer-social h5 {\n  color: yellow;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n}\n\n.social-icons a {\n  color: #d9d9d9;\n  font-size: 3rem;\n  margin: 0 0.5rem;\n  transition: all 0.3s ease;\n}\n\n.social-icons a:hover {\n  color: yellow;\n  transform: scale(1.2);\n}\n\n.footer-divider {\n  border-color: rgba(255, 255, 0, 0.2);\n  margin: 2rem 0 1rem;\n}\n\n.footer-copy {\n  color: #a8a8a8;\n  font-size: 0.95rem;\n}\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=0c2a4688&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=0c2a4688&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c2a4688\"]])\n\nexport default __exports__","<template>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n       role=\"alert\"\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n    <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n      <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n    </div>\n    </div>\n  </Transition>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"recoverySuccess\" class=\"alert alert-success text-center custom-alert p-2\"\n       role=\"alert\"\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(40,167,69,0.10); background: #222; border: 1.5px solid #28a745;\">\n    <button @click=\"recoverySuccess=false\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n      <strong style=\"color: #28a745; font-size: 1rem;\">{{ message }}</strong>\n    </div>\n    </div>\n  </Transition>\n  <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"recovery\" class=\"recovery-container\" role=\"alert\">\n      <button @click=\"recovery=false\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n      <h2 class=\"recovery-title\">Input your email, recovery link will be sent to you!</h2>\n      <form\n        class=\"mb-3 needs-validation\"\n        :class=\"{ 'was-validated': validated }\"\n        novalidate\n        @submit.prevent=\"sendReset\"\n      >\n        <label for=\"emailInput\" class=\"form-label recovery-label\">Email Address</label>\n        <input\n          type=\"email\"\n          class=\"form-control form-control-lg mb-3 recovery-input\"\n          placeholder=\"e.g. name@example.com\"\n          required\n          v-model=\"name_or_mail\"\n        />\n        <div class=\"invalid-feedback mb-2 recovery-invalid-feedback\">\n          Please specify a valid email address.\n        </div>\n        <button type=\"submit\" class=\"btn recovery-btn btn-lg w-100 shadow-sm mt-3\">\n          Send Recovery Link\n        </button>\n      </form>\n    </div>\n  </Transition>\n  <div class=\"d-flex justify-content-center pt-5 mb-5 hero-background\">\n    <div class=\"card p-3 shadow-lg w-60 mx-5\" style=\"max-width: 1000px; width: 100%; background: white; border: none; min-height: unset;\">\n      <h2 class=\"text-center mb-3 text-black\">Sign In</h2>\n      <form ref=\"formRef\" @submit=\"SignIn\" class=\"needs-validation\" novalidate>\n        <div class=\"mb-2\">\n          <label for=\"email\" class=\"form-label text-black text-start w-100\" autocomplete=\"on\">Email address</label>\n          <input type=\"email\" v-model=\"name_or_mail\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\n          <div class=\"invalid-feedback\">\n            Please specify email.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"password\" class=\"form-label text-black text-start w-100\" autocomplete=\"on\">Password</label>\n          <input type=\"password\" v-model=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\n          <div class=\"invalid-feedback\">\n            Please specify password.\n          </div>\n        </div>\n        <div class=\"form-check d-flex align-items-center mb-3 w-100 flex-wrap\" style=\"padding: 0 !important;gap: 1.2rem;\">\n          <label class=\"form-check-label text-black fw-medium mb-0\" for=\"rememberMe\">\n            Remember me\n          </label>\n          <input type=\"checkbox\" ref=\"ticked\" @click=\"ticked=!ticked\" id=\"rememberMe\" style=\"accent-color:#ffc107;margin: 0 !important;width:1.25rem;height:1.25rem;\">\n        </div>\n        <button id=\"sign\" type=\"submit\" class=\"btn btn-success w-50 mt-2\" style=\"background-color: yellow;color: black;\">Sign In</button>\n\t\t\t\t<div class=\"d-flex justify-content-center mt-2\">\n\t\t\t\t\t<div id=\"google-signin-button\" class=\"g-signin2\"></div>\n\t\t\t\t</div>\n      </form>\n      <div class=\"text-center mt-2\">\n        <span class=\"text-secondary\">Do not have an account?</span>\n        <RouterLink to=\"/signup\" class=\"ms-2 text-info\">Sign up</RouterLink>\n      </div>\n      <div class=\"text-center mt-2\">\n        <text @click=\"recovery=true\" class=\"ms-2 text-info\" style=\"cursor: pointer;\">Forgot your password?</text>\n      </div>\n    </div>\n  </div>\n  <FoOter />\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { get_cookie } from '@/common'\nimport {BASE_URL} from '../common.js'\nimport {GOOGLE_ID} from '../common.js'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport FoOter from './Footer.vue'\n\nlet message = ref('')\nlet invalid = ref(false)\nlet ticked= ref(false)\nconst loading=ref(false);\nconst name_or_mail = ref('')\nconst password = ref('')\nconst validated = ref(false);\nconst recovery=ref(false);\nconst recoverySuccess=ref(false);\nconst formRef = ref(null);\n\n\nasync function sendReset(event){\n  try{\n    const form = event.currentTarget;\n    validated.value = true;\n    if (!form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    recovery.value=false;\n    loading.value=true;\n    invalid.value = false;\n    recoverySuccess.value = false;\n    const data=await fetch(`${BASE_URL}/restore_password/${name_or_mail.value}`, {\n        method: 'GET',\n        headers: {\n          'X-CSRFToken': get_cookie('csrftoken')\n        },\n        credentials: 'include'\n    })\n    const response=await data.json()\n    loading.value=false;\n    if(response.status===200){\n      message.value=\"Recovery link sent, its validity is 5 minutes! Please check your email.\";\n      recoverySuccess.value = true;\n    } else {\n      message.value = 'This email is not registered. Please check your email address.';\n      invalid.value = true;\n    }\n  }catch(e){\n    console.error(e)\n    loading.value=false;\n    message.value = 'An error occurred while sending reset email. Please try again later.';\n    invalid.value = true;\n  }\n}\n\nasync function SignIn(e){\n  e.preventDefault()\n  const form = formRef.value;\n  form.classList.add('was-validated')\n  if (!form.checkValidity()) {\n    e.stopPropagation()\n    return;\n  }\n  loading.value=true;\n  try{\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"mail\": name_or_mail.value,\n        \"password\": password.value,\n        \"remember\": ticked.value\n      })\n    });\n    const response = await data.json();\n    if(response.status===200){\n      window.location.href = '/codraw';\n    }else{\n      invalid.value = true;\n      message.value ='Invalid credentials. Please try again.';\n    }\n    loading.value=false;\n  }catch(e){\n    console.error(e)\n    invalid.value = true\n    message.value = 'An error occurred while signing in.'\n    loading.value=false;\n  }\n}\nasync function status(){\n  try {\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signin`, {\n      method: 'GET',\n      headers:{'X-CSRFToken':csrf},\n      credentials: 'include'\n    });\n    const response = await data.json();\n    if (response.status === 300) {\n      window.location.href = '/codraw';\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nasync function handleCredentialResponse(response) {\n  try {\n    loading.value = true;\n    const csrf = get_cookie('csrftoken');\n    // Decode the JWT token to get user info\n    const payload = JSON.parse(atob(response.credential.split('.')[1]));\n    const data = await fetch(`${BASE_URL}/google-signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"token\": payload.sub,\n        \"email\": payload.email,\n        \"name\": payload.name,\n      })\n    });\n    const result = await data.json();\n\t\tconsole.log(result.status);\n    if (result.status === 200) {\n      window.location.href = '/codraw';\n    } else if (result.status === 401) {\n      invalid.value = true;\n      message.value = 'Google sign-in failed, the following email is already registered. Did you forget your password?';\n    } else {\n      invalid.value = true;\n      message.value = 'Google sign-in failed. Please sign up first.';\n    }\n  } catch (e) {\n    invalid.value = true;\n    message.value = 'An error occurred during Google sign-in.';\n  } finally {\n    loading.value = false;\n  }\n}\n\nonMounted(() => {\n  window.google.accounts.id.initialize({\n    client_id: `${GOOGLE_ID}.apps.googleusercontent.com`,\n    callback: handleCredentialResponse\n  });\n  window.google.accounts.id.renderButton(\n    document.getElementById(\"google-signin-button\"),\n    { theme: \"outline\", size: \"large\" }\n  );\n\tstatus();\n});\n</script>\n<style scoped>\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.card {\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  border-radius: 1.5rem;\n  border: 2px solid #ffc107;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\n  padding: 2rem 1.5rem;\n  margin-top: 1.5rem;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.card:hover {\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\n}\n.card h2 {\n  color: #ffc107;\n  font-weight: 700;\n  letter-spacing: 1px;\n  margin-bottom: 1.2rem;\n}\n.card label {\n  color: #ffc107;\n  font-weight: 500;\n}\n.card input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  margin-bottom: 0.7rem;\n}\n.card input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n#sign {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n}\n#sign:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\ninput::placeholder {\n  color: #ccc !important;\n  opacity: 1;\n}\n\n.recovery-container {\n  max-width: 80vw;\n  width: 500px;\n\tmin-width: 400px;\n  position: fixed;\n  top: 8rem;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5000;\n  font-size: 0.95rem;\n  border-radius: 1.5rem;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.18);\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  border: 2px solid #ffc107;\n  padding: 2rem 1.5rem;\n  text-align: center;\n}\n\n.recovery-container .close-btn {\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  width: 1.8rem;\n  height: 1.8rem;\n  font-size: 1.2rem;\n  line-height: 1.2rem;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n}\n\n.recovery-container .close-btn:hover {\n  background-color: #c82333;\n  transform: scale(1.1);\n}\n\n.recovery-title {\n  color: #ffc107;\n  font-weight: 700;\n  font-size: 1.5rem;\n  margin-bottom: 1.5rem;\n  margin-top: 1.5rem;\n  line-height: 1.3;\n}\n\n.recovery-label {\n  color: #ffc107;\n  font-weight: 500;\n  font-size: 0.95rem;\n  display: block;\n  text-align: left;\n  margin-bottom: 0.5rem;\n}\n\n.recovery-input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  padding: 0.75rem 1rem;\n  font-size: 1rem;\n}\n\n.recovery-input::placeholder {\n  color: #ccc;\n  opacity: 1;\n}\n\n.recovery-input:focus {\n  border-color: #007bff;\n  background: #333;\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);\n  color: #fff;\n}\n\n.recovery-btn {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  padding: 0.75rem;\n}\n\n.recovery-btn:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.recovery-invalid-feedback {\n  color: #dc3545;\n  font-size: 0.875rem;\n  text-align: left;\n}\n\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  min-height: 50vh;\n  width: 100%;\n}\n</style>\n","import script from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=1f6b470a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1f6b470a\"]])\n\nexport default __exports__","<template>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n        role=\"alert\"\n        style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n      <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n      <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n        <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n        <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\n      </div>\n    </div>\n  </Transition>\n  <div v-if=\"visible\" class=\"overlay\">\n    <div class=\"popup-card\">\n      <button @click=\"visible=false\" aria-label=\"Close\" class=\"float-end\" style=\"background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\"></button>\n      <h4 class=\"mb-3\">Enter Verification Code</h4>\n      <div class=\"d-flex justify-content-center mb-3\">\n        <input maxlength=\"1\" id=\"1\" @keyup=\"handleInput($event,2)\" ref=\"ZeroInput\" v-model=\"zero\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"2\" @keyup=\"handleInput($event,3)\" v-model=\"one\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\" ref=\"OneInput\"/>\n        <input maxlength=\"1\" id=\"3\" @keyup=\"handleInput($event,4)\" v-model=\"two\" ref=\"TwoInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"4\" @keyup=\"handleInput($event,5)\" v-model=\"three\" ref=\"ThreeInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n        <input maxlength=\"1\" id=\"5\" @keyup=\"handleInput($event,6)\" class=\"code-input\" v-model=\"four\" ref=\"FourInput\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\n      </div>\n      <button class=\"btn btn-primary w-100\" @click=\"verifyCode\">Verify</button>\n    </div>\n  </div>\n\t<div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <div class=\"d-flex justify-content-center pt-5 mb-5 hero-background\">\n    <div class=\"card p-3 shadow-lg w-60 mx-5\" style=\"max-width: 1000px; width: 100%; background: white; border: none; min-height: unset;\">\n      <h2 class=\"text-center mb-3 text-black\">Sign Up</h2>\n      <form ref=\"formRef\" @submit=\"SignUp\" class=\"needs-validation\" novalidate>\n        <div class=\"mb-2\">\n          <label for=\"username\" class=\"form-label text-black text-start w-100\">Username</label>\n          <input v-model=\"username\" type=\"text\" class=\"form-control bg-dark text-white border-secondary\" id=\"username\" placeholder=\"Enter username\" style=\"color: white;\" required>\n          <div class=\"invalid-feedback\">\n            Please specify username.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\n          <input v-model=\"mail\" type=\"email\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\n          <div class=\"invalid-feedback\">\n            Please specify email.\n          </div>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\n          <input v-model=\"password\" type=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\n          <div class=\"invalid-feedback\">\n            Please specify password.\n          </div>\n        </div>\n        <button id=\"sign\" class=\"btn btn-success w-50 mt-2\" type=\"submit\" style=\"background-color: yellow;color: black;\">Sign Up</button>\n      </form>\n\t\t\t<div class=\"d-flex justify-content-center mt-2\">\n\t\t\t\t<div id=\"google-signup-button\" class=\"g-signup2\"></div>\n\t\t\t</div>\n      <div class=\"text-center mt-2\">\n        <span class=\"text-secondary\">Already have an account?</span>\n        <RouterLink to=\"/signin\" class=\"ms-2 text-info\">Sign In</RouterLink>\n      </div>\n    </div>\n  </div>\n  <FoOter/>\n</template>\n<script setup>\nimport { ref,nextTick,onMounted } from 'vue'\nimport { get_cookie } from '@/common'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport {BASE_URL} from '../common.js'\nimport {GOOGLE_ID} from '../common.js'\nimport FoOter from './Footer.vue'\nlet visible=ref(false)\nlet formRef=ref(null)\nlet invalid=ref(false)\nlet message=ref('')\nconst loading=ref(false);\nconst username = ref('')\nconst password = ref('')\nconst mail = ref('')\nconst ZeroInput = ref(null)\nconst OneInput = ref(null)\nconst TwoInput = ref(null)\nconst ThreeInput = ref(null)\nconst FourInput = ref(null)\nconst zero = ref('')\nconst one = ref('')\nconst two = ref('')\nconst three = ref('')\nconst four = ref('')\nasync function status(){\n  try {\n    const csrf=get_cookie('csrftoken')\n    const data = await fetch(`${BASE_URL}/signup`, {\n      method: 'GET',\n      headers:{'X-CSRFToken':csrf},\n      credentials: 'include'\n    });\n    const response = await data.json();\n    if (response.status === 300 && window.location.pathname !== '/codraw') {\n      window.location.href = '/codraw';\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\nstatus();\nasync function SignUp(e) {\n  e.preventDefault()\n  const form = formRef.value;\n  form.classList.add('was-validated')\n  if (!form.checkValidity()) {\n    e.stopPropagation()\n    return;\n  }\n  const csrf=get_cookie('csrftoken')\n  const username_input=username.value\n  const password_input= password.value\n  const mail_input=mail.value\n  try{\n    const data = await fetch(`${BASE_URL}/signup`,{\n      method:\"POST\",\n      headers:{\"Content-Type\":'application/json','X-CSRFToken':csrf},\n      body:JSON.stringify({\n        \"username\":username_input,\n        \"mail\":mail_input,\n        \"password\":password_input\n      }),\n      credentials: 'include'\n    })\n    const response=await data.json()\n    if(response.status===200){\n      visible.value=true\n\t\t\tawait nextTick()\n      ZeroInput.value.focus()\n    }else{\n      invalid.value=true\n      message.value=\"Account already registered under this email. Did you forget your password?\"\n    }\n  } catch (e) {\n    console.error(e)\n  }\n}\nfunction handleInput(event,index){\n\tif(event.key.startsWith(\"Arrow\") || !(\"0123456789\".includes(event.key))) return;\n\tif(event.key===\"Backspace\" || event.key==\"Del\"){\n\t\tif(index===3 && !one.value) ZeroInput.value.focus()\n\t\telse if(index===5 && !three.value) TwoInput.value.focus()\n\t\telse if(index===4 && !two.value) OneInput.value.focus()\n\t\telse if(index===6 && !four.value) ThreeInput.value.focus()\n\t}else{\n\t\tif(index === 2 && OneInput.value) OneInput.value.focus()\n\t\telse if(index === 3 && TwoInput.value) TwoInput.value.focus()\n\t\telse if(index === 4 && ThreeInput.value) ThreeInput.value.focus()\n\t\telse if(index === 5 && FourInput.value) FourInput.value.focus()\n\t}\n}\n\nfunction getCode() {\n  return `${zero.value}${one.value}${two.value}${three.value}${four.value}`;\n}\n\nasync function verifyCode(){\n  const csrf=get_cookie('csrftoken')\n  const username_input=username.value\n  const mail_input=mail.value\n  const data=await fetch(`${BASE_URL}/verify`,{\n    method:\"POST\",\n    headers:{\n      'Content-Type':'application/json',\n      'X-CSRFToken':csrf\n    },\n    body:JSON.stringify({\n      \"username\":username_input,\n      \"mail\":mail_input,\n      \"code\":getCode(),\n    })\n  })\n  const response=await data.json()\n  if(response.status===200){\n    window.location.href = '/codraw'\n  } else {\n    visible.value=false\n    invalid.value=true\n    zero.value = ''\n    one.value = ''\n    two.value = ''\n    three.value = ''\n    four.value = ''\n    message.value = \"Invalid verification code. Please try again- new verification code has been sent.\";\n  }\n}\nasync function handleCredentialResponse(response) {\n  try {\n    loading.value = true;\n    const csrf = get_cookie('csrftoken');\n    // Decode the JWT token to get user info\n    const payload = JSON.parse(atob(response.credential.split('.')[1]));\n    const data = await fetch(`${BASE_URL}/google-signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        \"token\": payload.sub,\n        \"email\": payload.email,\n        \"name\": payload.name,\n      })\n    });\n    const result = await data.json();\n    if ( result.status === 300) {\n      window.location.href = '/codraw';\n    } else {\n      invalid.value = true;\n      message.value = 'Google sign-up failed. An account with this email already exists. Did you forget your password?';\n    }\n  } catch (e) {\n    invalid.value = true;\n    message.value = 'An error occurred during Google sign-up.';\n  } finally {\n    loading.value = false;\n  }\n}\nonMounted(() => {\n\tloading.value=true;\n  window.google.accounts.id.initialize({\n\t\tclient_id: `${GOOGLE_ID}.apps.googleusercontent.com`,\n    callback: handleCredentialResponse\n  });\n  window.google.accounts.id.renderButton(\n    document.getElementById(\"google-signup-button\"),\n    {\n      theme: \"outline\",\n      size: \"large\",\n      text: \"signup\"\n    }\n  );\n\tloading.value=false;\n});\n</script>\n\n<style scoped>\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.card {\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  border-radius: 1.5rem;\n  border: 2px solid #ffc107;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\n  padding: 2rem 1.5rem;\n  margin-top: 1.5rem;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n.card:hover {\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\n}\n.card h2 {\n  color: #ffc107;\n  font-weight: 700;\n  letter-spacing: 1px;\n  margin-bottom: 1.2rem;\n}\n.card label {\n  color: #ffc107;\n  font-weight: 500;\n}\n.card input {\n  background: #222;\n  color: #fff;\n  border: 1.5px solid #ffc107;\n  border-radius: 0.5rem;\n  margin-bottom: 0.7rem;\n}\n.card input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n#sign {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n}\n#sign:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\ninput::placeholder {\n  color: #ccc !important;\n  opacity: 1;\n}\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0,0,0,0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n}\n.popup-card {\n  position: relative;\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  color: #fff;\n  padding: 2.5rem 2rem 2rem 2rem;\n  border-radius: 1.5rem;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.45), 0 2px 8px rgba(255,255,0,0.10);\n  min-width: 400px;\n  max-width: 90vw;\n  text-align: center;\n  border: 2px solid #ffc107;\n}\n.popup-card h4 {\n  color: #ffc107;\n  font-weight: 700;\n  margin-bottom: 1.5rem;\n}\n.code-input {\n  width: 2.5rem;\n  height: 2.5rem;\n  margin: 0 0.3rem;\n  font-size: 2rem;\n  text-align: center;\n  border: 2px solid #ffc107;\n  border-radius: 8px;\n  background: #222;\n  color: #fff;\n  outline: none;\n  transition: border 0.2s, background 0.2s;\n}\n.code-input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n.popup-card .btn-primary {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  margin-top: 1.2rem;\n}\n.popup-card .btn-primary:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  min-height: 50vh;\n  width: 100%;\n}\n</style>\n","import script from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=47f7bfd5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47f7bfd5\"]])\n\nexport default __exports__","<template>\n  <div class=\"hero-background\">\n    <h1 class=\"hero-title\">CoDraw</h1>\n    <div class=\"d-flex align-items-center justify-content-center gap-5 flex-wrap\">\n      <font-awesome-icon :icon=\"['fa','paintbrush']\" class=\"feature-icon secondary-floating-icon\"/>\n      <font-awesome-icon :icon=\"['fa','feather-pointed']\" class=\"feature-icon hero-floating-icon\"/>\n      <p class=\"hero-subtitle mb-0 mx-2\">\n        <span ref=\"typewriterText\" class=\"typewriter-text\"></span>\n        <span class=\"cursor\">|</span>\n      </p>\n      <font-awesome-icon :icon=\"['fa','pencil']\" class=\"feature-icon hero-floating-icon\"/>\n      <font-awesome-icon :icon=\"['fa','paint-roller']\" class=\"feature-icon secondary-floating-icon\"/>\n    </div>\n    <router-link :to=\"getDemoPath()\" aria-label=\"Go to full demo\">\n\t\t\t<button class=\"demo-btn mt-4\" aria-label=\"Try Full Demo\">Start drawing now</button>\n\t\t</router-link>\n  </div>\n  <div class=\"features-section\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-3 mb-3\" v-for=\"(feature, i) in features\" :key=\"i\">\n          <div class=\"card feature-card h-100 bg-dark text-white shadow-lg scroll-reveal\" :style=\"{ transitionDelay: i * 250 + 'ms' }\">\n            <div class=\"card-body text-center\">\n              <font-awesome-icon :icon=\"feature.icon\" class=\"feature-icon\" />\n              <h5 class=\"card-title mt-3\">{{ feature.title }}</h5>\n              <p class=\"card-text\">{{ feature.text }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <section class=\"about-sec container text-center my-5 scroll-reveal\" aria-label=\"Our mission\">\n    <text class=\"about-title\">No subscriptions, no hidden fees</text><text class=\"about-text\" style=\"font-size: 2.5rem;\">- just free for everyone, forever with at most respect to privacy.</text>\n  </section>\n  <section id=\"about\" href=\"#about\" class=\"about-sec\" aria-label=\"About codraw\">\n    <div class=\"container\">\n      <div class=\"row align-items-center\">\n        <div class=\"col-md-6 about-text scroll-reveal\">\n          <h2 class=\"about-title\">About CoDraw</h2>\n          <p>\n            CoDraw was built for creators who believe in collaboration. Whether you're sketching concepts,\n            storyboarding, or designing together, CoDraw makes teamwork feel effortless and fun.\n            <br /><br />\n            With our real-time synchronization engine and a beautifully minimal interface, you can see every brushstroke\n            from your teammates the moment it happens  no refreshes, no lag, just instant creativity.\n            <br /><br />\n            Our mission is simple: empower creativity by connecting people through shared imagination.\n          </p>\n          <router-link to=\"/learn-more#learn-more\" aria-label=\"Learn More\">\n            <button class=\"about-btn mt-3\" aria-label=\"Learn More\">Learn More</button>\n          </router-link>\n        </div>\n        <div class=\"col-md-6 text-center about-visual scroll-reveal\" style=\"transition-delay: 200ms;\">\n          <img\n            :src=\"logo\"\n            alt=\"Collaborative Drawing\"\n            class=\"about-image\"\n\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\tdecoding=\"async\"\n          />\n        </div>\n      </div>\n    </div>\n  </section>\n  <section class=\"faq-section\" aria-label=\"Frequently Asked Questions\">\n    <div class=\"container\">\n      <h2 class=\"faq-title text-center mb-5 scroll-reveal\">Frequently Asked Questions</h2>\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-8\">\n          <div class=\"accordion\" id=\"faqAccordion\">\n            <div class=\"accordion-item faq-item scroll-reveal\" v-for=\"(faq, index) in faqs\" :key=\"index\" :style=\"{ transitionDelay: index * 100 + 'ms' }\">\n              <h2 class=\"accordion-header\" :id=\"'heading' + index\">\n                <button class=\"accordion-button faq-button\" type=\"button\" data-bs-toggle=\"collapse\"\n                        :data-bs-target=\"'#collapse' + index\" :aria-expanded=\"index === 0 ? 'true' : 'false'\"\n                        :aria-controls=\"'collapse' + index\">\n                  {{ faq.question }}\n                </button>\n              </h2>\n              <div :id=\"'collapse' + index\" class=\"accordion-collapse collapse\"\n                   :class=\"{ 'show': index === 0 }\" :aria-labelledby=\"'heading' + index\"\n                   data-bs-parent=\"#faqAccordion\">\n                <div class=\"accordion-body faq-body\">\n                  {{ faq.answer }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <FoOter />\n</template>\n\n<script>\nimport { get_cookie } from '@/common';\nimport { v4 as uuidv4 } from 'uuid'\nimport { BASE_URL } from '../common.js';\nimport logo from '@/assets/logo.webp';\nimport FoOter from './Footer.vue';\n\nexport default {\n  name: \"HeRo\",\n  components: {\n    FoOter\n  },\n  data() {\n    return {\n      logo,\n      fullText: \"Tired of emailing screenshots back and forth? Stop struggling with clunky tools and endless feedback loops. CoDraw lets you create together in real-timeno downloads, no subscriptions, just instant collaboration. Draw, brainstorm, and bring ideas to life with your team right now.\",\n      typewriterIndex: 0,\n      typewriterTimeout: null,\n      features: [\n        {\n          title: \"Modern and Slick\",\n          text: \"A visually appealing interface designed for a seamless and enjoyable drawing experience.\",\n          icon:['fas', 'palette']\n        },\n        {\n          title: \"Performance Oriented\",\n          text: \"Optimized for speed and responsiveness, ensuring smooth collaboration in real time.\",\n          icon: ['fas', 'bolt']\n        },\n        {\n          title: \"Intuitive Design\",\n          text: \"Easy-to-use tools and layout, making creativity accessible for everyone.\",\n          icon: ['fas', 'lightbulb']\n        }\n      ],\n      faqs: [\n        {\n          question: \"Is CoDraw really free forever?\",\n          answer: \"Yes! CoDraw is completely free with no subscriptions, hidden fees, or premium features. We believe creativity should be accessible to everyone.\"\n        },\n        {\n          question: \"How many people can collaborate on a single drawing?\",\n          answer: \"CoDraw supports real-time collaboration for multiple users. There's no strict limit - you can invite as many friends as you'd like to join your drawing session.\"\n        },\n        {\n          question: \"Do I need to create an account to use CoDraw?\",\n          answer: \"While you can try our demo without an account, creating one allows you to save your drawings, create private rooms, and collaborate with others.\"\n        },\n        {\n          question: \"What browsers does CoDraw support?\",\n          answer: \"CoDraw works on all modern browsers including Chrome, Firefox, Safari, and Edge. We recommend using the latest version for the best experience.\"\n        },\n        {\n          question: \"Can I use CoDraw on mobile devices?\",\n          answer: \"Yes! CoDraw is fully responsive and works great on tablets and mobile devices. Touch controls are optimized for drawing on smaller screens.\"\n        }\n      ]\n    };\n  },\n  mounted() {\n    this.check();\n    this.startTypewriter();\n    this.initScrollReveal();\n  },\n  beforeUnmount() {\n    if (this.typewriterTimeout) {\n      clearTimeout(this.typewriterTimeout);\n    }\n  },\n  methods: {\n    async check() {\n      try {\n        const csrf = get_cookie('csrftoken');\n        const data = await fetch(`${BASE_URL}/home`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrf\n          },\n          credentials: 'include',\n        });\n        const response = await data.json();\n        if (response.status === 300 && window.location.pathname !== '/codraw') {\n          window.location.href = '/codraw';\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\t\tgetDemoPath(){\n\t\t\treturn `/demo/${uuidv4()}?origin=home`\n\t\t},\n    startTypewriter() {\n      const typeNextChar = () => {\n        if (this.typewriterIndex < this.fullText.length && this.$refs.typewriterText) {\n          this.$refs.typewriterText.textContent += this.fullText.charAt(this.typewriterIndex);\n          this.typewriterIndex++;\n          this.typewriterTimeout = setTimeout(typeNextChar, 30);\n        }\n      };\n      this.typewriterTimeout = setTimeout(typeNextChar, 800);\n    },\n    initScrollReveal() {\n      const observerOptions = {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1\n      };\n      const observer = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            entry.target.classList.add('revealed');\n            observer.unobserve(entry.target);\n          }\n        });\n      }, observerOptions);\n\n      const elements = document.querySelectorAll('.scroll-reveal');\n      elements.forEach(el => observer.observe(el));\n    },\n  }\n};\n</script>\n\n<style scoped>\n.accordion-button:focus {\n\toutline: none;\n\tbox-shadow: none;\n}\n.hero-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%) !important;\n  width: 100%;\n  min-height: 50vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem 2rem;\n  color: white;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.hero-title {\n  font-size: 4rem;\n  font-weight: 700;\n  letter-spacing: 2px;\n  margin-bottom: 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.hero-subtitle {\n  font-size: 1.3rem;\n  max-width: 700px;\n  line-height: 1.6;\n  color: #e0e0e0;\n  margin-bottom: 2rem;\n  min-height: 100px;\n}\n\n.typewriter-text {\n  display: inline;\n}\n\n.cursor {\n  display: inline-block;\n  color: yellow;\n  font-weight: 100;\n  animation: blink 0.7s infinite;\n}\n\n@keyframes blink {\n  0%, 50% { opacity: 1; }\n  51%, 100% { opacity: 0; }\n}\n\n@keyframes float {\n  0% { transform: translateY(0px); }\n  50% { transform: translateY(-20px); }\n  100% { transform: translateY(0px); }\n}\n\n.hero-floating-icon {\n  font-size: 4rem;\n  color: yellow;\n  filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));\n  animation: float 3s ease-in-out infinite;\n}\n\n.secondary-floating-icon {\n  font-size: 3rem;\n  color: gold;\n  filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));\n  animation: float 4s ease-in-out infinite;\n  animation-delay: 1.5s;\n}\n\n@media (max-width: 768px) {\n  .hero-floating-icon {\n    font-size: 3rem;\n    margin-top: 1rem;\n  }\n  .hero-subtitle {\n    text-align: center;\n  }\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.scroll-reveal {\n  opacity: 0;\n  transform: translateY(40px);\n  transition: opacity 0.8s ease, transform 0.8s ease;\n}\n\n.scroll-reveal.revealed {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.cta-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n}\n.cta-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n.features-section {\n  padding: 4rem 1rem;\n  overflow-x: hidden;\n  position: relative;\n}\n.features-section::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 60%;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);\n}\n.feature-card {\n  border: 1px solid rgba(255, 215, 0, 0.15);\n  border-radius: 1rem;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  background: linear-gradient(145deg, rgba(20, 20, 25, 0.9), rgba(10, 10, 15, 0.95));\n  backdrop-filter: blur(10px);\n  position: relative;\n  overflow: hidden;\n}\n.feature-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 200, 0, 0.02));\n  opacity: 0;\n  transition: opacity 0.4s ease;\n  pointer-events: none;\n}\n.feature-card:hover {\n  box-shadow: 0 0 30px rgba(255, 215, 0, 0.25), 0 0 60px rgba(255, 215, 0, 0.1);\n  transform: translateY(-8px) scale(1.02);\n  border-color: rgba(255, 215, 0, 0.5);\n}\n.feature-card:hover::before {\n  opacity: 1;\n}\n.feature-icon {\n  font-size: 2.5rem;\n  background: linear-gradient(135deg, #ffd700, #ffaa00);\n\tcolor: yellow;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  transition: transform 0.3s ease;\n}\n.feature-card:hover .feature-icon {\n  transform: scale(1.15) rotate(3deg);\n}\n.card-title {\n  color: yellow;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n}\n.card-text {\n  color: linear-gradient(90deg, yellow, gold);\n  font-size: 0.95rem;\n  line-height: 1.6;\n}\n\n.about-sec {\n  color: white;\n  padding: 6rem 1.5rem;\n  overflow: hidden;\n  position: relative;\n}\n\n.about-title {\n  font-size: 2.6rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 1.5rem;\n}\n.about-text p {\n  color: #d9d9d9;\n  font-size: 1.1rem;\n  line-height: 1.7;\n}\n.about-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.8rem 2rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 12px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n}\n.about-btn:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 0 20px rgba(255, 255, 0, 0.6);\n}\n.about-image {\n  width: 90%;\n  max-width: 480px;\n  border-radius: 1rem;\n  box-shadow: 0 0 30px rgba(255, 255, 0, 0.2);\n  transition: transform 0.5s ease;\n}\n.about-visual:hover .about-image {\n  transform: scale(1.05) rotate(1deg);\n}\n\n.demo-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n  margin-top: 2rem;\n}\n.demo-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n.faq-section {\n  padding: 6rem 1.5rem;\n  color: white;\n}\n\n.faq-title {\n  font-size: 2.6rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 3rem;\n}\n\n.faq-item {\n  background: rgba(0, 0, 0, 0.8);\n  border: 2px solid rgba(255, 255, 0, 0.3);\n  border-radius: 1rem;\n  margin-bottom: 1rem;\n  transition: all 0.3s ease;\n}\n\n.faq-item:hover {\n  border-color: yellow;\n  box-shadow: 0 0 15px rgba(255, 255, 0, 0.2);\n}\n\n.faq-button {\n  background: transparent;\n  color: yellow;\n  font-weight: 600;\n  font-size: 1.1rem;\n  border: none;\n  padding: 1.2rem 1.5rem;\n  transition: all 0.3s ease;\n}\n\n.faq-button:not(.collapsed) {\n  color: gold;\n  background: rgba(255, 255, 0, 0.1);\n}\n\n.faq-button:hover {\n  background: rgba(255, 255, 0, 0.05);\n}\n\n.faq-button::after {\n  filter: brightness(0) invert(1) sepia(1) saturate(100) hue-rotate(45deg);\n}\n\n.faq-body {\n  color: #e0e0e0;\n  font-size: 1rem;\n  line-height: 1.6;\n  padding: 1rem 1.5rem;\n}\n\n.accordion-collapse {\n  border-radius: 0 0 1rem 1rem;\n}\n\n@media (max-width: 768px) {\n  .about-image {\n    margin-top: 2rem;\n  }\n  .faq-title {\n    font-size: 2rem;\n  }\n  .faq-button {\n    font-size: 1rem;\n    padding: 1rem;\n  }\n}\n</style>\n","import { render } from \"./Hero.vue?vue&type=template&id=665f1577&scoped=true\"\nimport script from \"./Hero.vue?vue&type=script&lang=js\"\nexport * from \"./Hero.vue?vue&type=script&lang=js\"\n\nimport \"./Hero.vue?vue&type=style&index=0&id=665f1577&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-665f1577\"]])\n\nexport default __exports__","<template>\n\t<aside\n\t\tclass=\"sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark\"\n\t\t:class=\"{ 'sidebar-collapsed': !sidebarOpen, 'sidebar-overlay': isMobile && sidebarOpen }\"\n\t>\n\t\t<div class=\"sidebar-header d-flex flex-column align-items-center mb-4\">\n\t\t\t<img loading=\"lazy\" alt=\"sidebar\" decoding=\"async\" class=\"toggle mb-3 align-self-end\" @click=\"isMobile ? sidebarOpen = !sidebarOpen : sidebarOpen = !sidebarOpen\" :class=\"{'align-self-center':!sidebarOpen}\" :src=\"toggle\" style=\"cursor: pointer; width: 2rem; height: 2rem;\"/>\n\t\t\t<img :src=\"url\" alt=\"logo\" loading=\"lazy\" decoding=\"async\" class=\"logo mb-4 img-fluid rounded rounded-circle\" style=\"max-height: 20vh;\"/>\n\t\t\t<RouterLink :to=\"`/codraw`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','home']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">Start Page</span>\n\t\t\t</RouterLink>\n\t\t\t<RouterLink :to=\"`/codraw/account/${username}`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw/account']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','user']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">My Account</span>\n\t\t\t</RouterLink>\n\t\t\t<RouterLink :to=\"`/codraw/search`\" class=\"nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile\" :class=\"{'active-tile': onPage['/codraw/search']}\">\n\t\t\t\t<font-awesome-icon class=\"mx-2 tile-icon\" :icon=\"['fas','search']\"></font-awesome-icon>\n\t\t\t\t<span class=\"tile-text\">Search</span>\n\t\t\t</RouterLink>\n\t\t\t<button class=\"btn btn-danger\" @click=\"log_out()\" id=\"out\">Log out</button>\n\t\t</div>\n\t</aside>\n</template>\n\n<script setup>\nimport {BASE_URL} from '@/common'\nimport toggle from '@/assets/sidebar.webp'\nconst loading = ref(false)\n\nimport url from '@/assets/logo.webp'\nimport { get_cookie } from '@/common';\nimport {ref, onMounted} from 'vue'\nconst csrf=get_cookie('csrftoken')\nconst sidebarOpen = ref(false)\nconst isMobile = ref(false)\nconst username = ref(\"\")\nconst onPage={\n\t'/codraw':false,\n\t'/codraw/search':false,\n\t'/codraw/account':false,\n}\n\nfunction checkCurrentPage(){\n\tconst path=window.location.pathname\n\tif(path===\"/codraw\") onPage['/codraw']=true\n\telse if(path===\"/codraw/search\") onPage['/codraw/search']=true\n\telse if(path.startsWith(\"/codraw/account\")) onPage['/codraw/account']=true\n}\n\nasync function log_out(){\n  try{\n    const data=await fetch(`${BASE_URL}/log_out`,{\n      method:\"POST\",\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href='/'\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\nasync function get_username(){\n  try{\n    const data=await fetch(`${BASE_URL}/username`,{\n      method:\"GET\",\n      headers:{\n        \"X-CSRFToken\":csrf\n      },\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status==200) username.value=response.username\n    else username.value=\"ERROR 404 NOT FOUND\"\n  }catch(e){\n    console.error(e)\n  }\n}\nfunction checkMobile() {\n\tisMobile.value = window.innerWidth <= 500\n}\n\nfunction closeSidebarOnOverlayClick(event) {\n\tif (isMobile.value && sidebarOpen.value) {\n\t\tconst sidebar = event.target.closest('.sidebar')\n\t\tif (!sidebar) {\n\t\t\tsidebarOpen.value = false\n\t\t}\n\t}\n}\n\nonMounted(async() => {\n\tloading.value=true\n\tcheckCurrentPage()\n\tcheckMobile()\n  await get_username()\n\t\n\t// Listen for window resize\n\twindow.addEventListener('resize', checkMobile)\n\t// Close sidebar when clicking outside on mobile\n\twindow.addEventListener('click', closeSidebarOnOverlayClick)\n\tloading.value=false\n})\n\n\n</script>\n\n<style scoped>\n.sidebar {\n  height: auto;\n  min-width: 240px;\n  max-width: 20vw;\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\n  border-right: 2px solid #ffc107;\n  transition: width 0.3s, padding 0.3s, min-width 0.3s, max-width 0.3s;\n  z-index: 10;\n}\n\n.sidebar-collapsed {\n  min-width: 60px !important;\n  max-width: 60px !important;\n  padding-left: 0.5rem !important;\n  padding-right: 0.5rem !important;\n}\n.logo {\n  transition: max-width 0.3s, opacity 0.3s;\n}\n.sidebar-collapsed .logo {\n  max-width: 40px;\n  opacity: 0.7;\n}\n.modern-tile {\n  width: 100%;\n  background: linear-gradient(145deg, #2a2a2a, #1a1a1a);\n  border: 1px solid rgba(255, 193, 7, 0.2);\n  color: #ffffff;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n  font-size: 0.95rem;\n  letter-spacing: 0.3px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  position: relative;\n  overflow: hidden;\n}\n\n.modern-tile::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 193, 7, 0.1), transparent);\n  transition: left 0.5s ease;\n}\n\n.modern-tile:hover::before {\n  left: 100%;\n}\n\n.modern-tile:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(255, 193, 7, 0.25);\n  border-color: rgba(255, 193, 7, 0.5);\n  background: linear-gradient(145deg, #3a3a3a, #2a2a2a);\n}\n\n.modern-tile:active {\n  transform: translateY(0);\n  box-shadow: 0 2px 12px rgba(255, 193, 7, 0.2);\n}\n\n.active-tile {\n  background: linear-gradient(145deg, #ffc107, #ffb300) !important;\n  color: #1a1a1a !important;\n  border-color: #ffc107 !important;\n  box-shadow: 0 4px 16px rgba(255, 193, 7, 0.4);\n}\n\n.active-tile .tile-icon {\n  color: #1a1a1a;\n}\n\n.tile-icon {\n  font-size: 1.1rem;\n  width: 20px;\n  text-align: center;\n}\n\n.tile-text {\n  transition: all 0.3s ease;\n}\n\n.modern-tile:hover .tile-text {\n  font-weight: 600;\n}\n\n/* Mobile overlay mode */\n.sidebar-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 1000;\n  transition: none !important;\n}\n\n.sidebar-overlay .sidebar-header {\n  width: 100%;\n  max-width: 280px;\n  margin: 0 auto;\n}\n\n/* Add overlay backdrop */\n.sidebar-overlay::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: -1;\n}\n\n.sidebar-collapsed .nav-link,\n.sidebar-collapsed .btn,\n.sidebar-collapsed .settings-link,\n.sidebar-collapsed .account-link {\n  display: none !important;\n}\n\n/* Close sidebar when clicking overlay on mobile */\n.sidebar-overlay::after {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 280px;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n}\n\n#out{\n  transition: 0.6s ease-in-out;\n  background: linear-gradient(145deg, #dc3545, #c82333);\n  border: none;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);\n}\n#out:hover{\n  background: linear-gradient(145deg, #ffffff, #f8f9fa);\n  color: #dc3545;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);\n}\n\n</style>\n","import script from \"./SiDebar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SiDebar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SiDebar.vue?vue&type=style&index=0&id=9b234cf8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9b234cf8\"]])\n\nexport default __exports__","<template>\n\t<div class=\"main-layout\">\n\t\t<SiDebar />\n\t\t<main class=\"main-content flex-grow-1\">\n\t\t\t<RouterView />\n\t\t\t<h1 style=\"color:#ffc107\" class=\"mb-4\">Welcome to CoDraw!</h1>\n\t\t\t<div class=\"mb-4\">\n\t\t\t\t<div id=\"projects\" class=\"container\">\n\t\t\t\t\t<div class=\"card create-project-card my text-center\" @click=\"create()\">\n\t\t\t\t\t\t<div class=\"card-body d-flex flex-column align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<span class=\"create-icon\">+</span>\n\t\t\t\t\t\t\t<h5 class=\"card-title mt-2 mb-0\">Create Project</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-for=\"(board, index) in boards\" :key=\"index\" class=\"card project-card text-center\"\n\t\t\t\t\t\t@click=\"join(board.room)\">\n\t\t\t\t\t\t<div class=\"card-body d-flex flex-column card-with-preview\">\n\t\t\t\t\t\t\t<div class=\"preview-section\" v-if=\"images[board.room] && !previewing[board.room]\">\n\t\t\t\t\t\t\t\t<div class=\"preview-image-container\">\n\t\t\t\t\t\t\t\t\t<img :src=\"images[board.room]\" class=\"preview-image\" alt=\"Preview of board\" loading=\"lazy\"\n\t\t\t\t\t\t\t\t\t\tdecoding=\"async\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content-section\">\n\t\t\t\t\t\t\t\t<h5 class=\"card-title fw-bold mb-2\">{{ board.title }}</h5>\n\t\t\t\t\t\t\t\t<p class=\"card-text small\">{{ board.description }}</p>\n\t\t\t\t\t\t\t\t<footer class=\"card-footer\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t<span>Visibility: <span>{{ board.visibility }}</span></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between small \">\n\t\t\t\t\t\t\t\t\t\t<span>Views: <span>{{ board.views }}</span></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t<span>{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t\t\t</div>\n\t\t</main>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { get_cookie } from '@/common';\nimport { BASE_URL, WS_URL, wsConnections } from '../common.js'\nimport SiDebar from './SiDebar.vue'\nimport { VueSpinnerTail } from 'vue3-spinners'\nimport { DateTime } from 'luxon'\n\nconst router = useRouter()\n\nconst loading = ref(false)\nconst csrf = get_cookie('csrftoken')\nconst boards = ref([])\nconst username = ref(\"\")\nconst images = ref({})\nconst previewing = ref({})\nasync function get_username() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/username`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status == 200) username.value = response.username\n\t\telse username.value = \"ERROR 404 NOT FOUND\"\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\nasync function status() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: { 'X-CSRFToken': csrf },\n\t\t\tcredentials: 'include'\n\t\t});\n\t\tconst response = await data.json();\n\t\tif (response.status !== 200 && window.location.pathname !== '/') {\n\t\t\twindow.location.href = '/';\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e);\n\t}\n}\n\nconst get_boards = async () => {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/get_boards`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"timezone\": DateTime.local().zoneName\n\t\t\t}),\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tboards.value = response.boards\n\t\timages.value = response.images\n\t\tpreviewing.value = response.boards.reduce((acc, board) => {\n\t\t\tacc[board.room] = false\n\t\t\treturn acc\n\t\t}, {})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\nasync function join(room) {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/load`, {\n\t\t\t\"method\": \"POST\",\n\t\t\t\"headers\": {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"room\": room\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\trouter.push(`${response.url}?origin=default`)\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nasync function create() {\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/get_project_url`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": 'application/json',\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\trouter.push(`${response.url}?origin=default`)\n\t\t}\n\t\telse {\n\t\t\tconsole.log('error')\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nonMounted(async () => {\n\tloading.value = true\n\tawait Promise.all([\n\t\tstatus(),\n\t\tget_boards(),\n\t\tget_username()\n\t])\n\tawait Promise.all(boards.value.map(board => {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst ws = new WebSocket(`${WS_URL}/${board.room}/`)\n\t\t\tws.onopen = () => {\n\t\t\t\twsConnections[board.room] = ws\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tws.onerror = () => resolve()\n\t\t})\n\t}))\n\tloading.value = false\n})\n</script>\n\n<script>\nexport default {\n\tname: 'MaIn',\n}\n</script>\n\n<style scoped>\n#projects {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\n\tgap: 1.25rem;\n\twidth: 100%;\n\tmin-width: 0;\n\tpadding: 0;\n\tjustify-items: stretch;\n\talign-items: stretch;\n}\n\n@media (max-width: 479px) {\n\t#projects {\n\t\tpadding: 0 0.25rem;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n\t}\n}\n\n@media (min-width: 480px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.4rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(22rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.4rem;\n\t}\n}\n\n@media (min-width: 768px) and (max-width: 991px) {\n\t#projects {\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.9rem;\n\t\tmax-width: 28rem;\n\t\tmargin: 0 auto;\n\t}\n}\n\n@media (min-width: 992px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(22rem, 1fr));\n\t\tgap: 1.25rem;\n\t\tpadding: 0;\n\t\tfont-size: 0.9rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 24rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1280px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 24rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1600px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 26rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n@media (min-width: 1920px) {\n\t#projects {\n\t\tgrid-template-columns: repeat(auto-fill, 28rem);\n\t\tgap: 1.5rem;\n\t}\n}\n\n\n.project-card,\n.create-project-card {\n\theight: 22rem;\n\tmin-height: 22rem;\n\tmin-width: 0;\n\tmax-width: 100%;\n\tcursor: pointer;\n\ttransition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;\n\tborder: 1px solid #374151;\n\tborder-radius: 0.75rem;\n\tbackground: #1f2937;\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n\twidth: 100%;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n\tposition: relative;\n\tcontain: layout style paint;\n}\n\n@media (min-width: 480px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 23rem;\n\t\tmin-height: 23rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 24rem;\n\t\tmin-height: 24rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\n\t.project-card,\n\t.create-project-card {\n\t\theight: 25rem;\n\t\tmin-height: 25rem;\n\t}\n}\n\n.project-card:hover,\n.create-project-card:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);\n\tborder-color: #ffc107;\n}\n\n.card-footer {\n\tmargin-top: auto;\n\tpadding-top: 0.75rem;\n\tborder-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n\t.card-footer {\n\t\tpadding-top: 1rem;\n\t}\n}\n\n.card-footer span {\n\tcolor: #9ca3af;\n\tfont-size: 0.7rem;\n}\n\n@media (min-width: 480px) {\n\t.card-footer span {\n\t\tfont-size: 0.725rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t.card-footer span {\n\t\tfont-size: 0.8125rem;\n\t}\n}\n\n.card-footer span span {\n\tcolor: #d1d5db;\n\tfont-weight: 500;\n}\n\n.create-project-card .card-body {\n\theight: 100%;\n}\n\n.create-icon {\n\tfont-size: 3rem;\n\tcolor: #ffc107;\n\tfont-weight: 300;\n\tline-height: 1;\n}\n\n@media (min-width: 480px) {\n\t.create-icon {\n\t\tfont-size: 3.25rem;\n\t}\n}\n\n@media (min-width: 640px) {\n\t.create-icon {\n\t\tfont-size: 3.5rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\t.create-icon {\n\t\tfont-size: 3.75rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t.create-icon {\n\t\tfont-size: 4rem;\n\t}\n}\n\n.create-project-card .card-title {\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tcolor: #9ca3af;\n\tmargin-top: 0.5rem;\n}\n\n@media (min-width: 640px) {\n\t.create-project-card .card-title {\n\t\tfont-size: 0.9375rem;\n\t\tmargin-top: 0.75rem;\n\t}\n}\n\n.create-project-card:hover .card-title {\n\tcolor: #ffc107;\n}\n\n.spinner-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n}\n\n.main-layout {\n\tdisplay: flex;\n\tmin-height: 100vh;\n\twidth: 100%;\n\tbackground: #111827;\n}\n\n.main-content {\n\tflex: 1;\n\tbackground: #111827;\n\tpadding: 1.5rem 1rem;\n\toverflow-y: auto;\n}\n\n\n\n.preview-toggle.preview-active {\n\tcolor: white;\n}\n\n.preview-image {\n\tmax-width: 100%;\n\tmax-height: calc(100% - 3rem);\n\twidth: 100%;\n\theight: auto;\n\tobject-fit: contain;\n\tflex-shrink: 1;\n}\n\n.card-with-preview {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tpadding: 0;\n}\n\n.preview-section {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 0;\n\tpadding: 0.25rem 0.5rem;\n\tposition: relative;\n}\n\n.preview-section .preview-image-container {\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow: hidden;\n\tmin-height: 0;\n\twidth: 100%;\n}\n\n.preview-section .preview-image {\n\tmax-width: 100%;\n\tmax-height: 100%;\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: contain;\n}\n\n.preview-section .preview-toggle {\n\tposition: absolute;\n\ttop: 0.25rem;\n\tright: 0.25rem;\n\tfont-size: 0.75rem;\n\tpadding: 0.35rem;\n\tcolor: #ffc107;\n\tcursor: pointer;\n\tz-index: 10;\n\tbackground: rgba(31, 41, 55, 0.8);\n\tborder-radius: 0.25rem;\n}\n\n.content-section {\n\tflex-shrink: 0;\n\tpadding: 0.75rem;\n\tbackground: #1f2937;\n\tborder-top: 1px solid #374151;\n}\n\n.content-section .card-title {\n\tfont-size: 1rem;\n\tfont-weight: 600;\n\tmargin-bottom: 0.25rem;\n\tcolor: #f9fafb;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.content-section .card-text {\n\tfont-size: 0.875rem;\n\tcolor: #9ca3af;\n\tline-height: 1.3;\n\tmargin-bottom: 0.5rem;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 1;\n\t-webkit-box-orient: vertical;\n\toverflow: hidden;\n}\n\n.content-section .card-footer {\n\tmargin-top: 0;\n\tpadding-top: 0.5rem;\n\tborder-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n\t.main-content {\n\t\tpadding: 2rem 1.5rem;\n\t}\n}\n\n@media (min-width: 768px) {\n\t.main-content {\n\t\tpadding: 2.25rem 1.75rem;\n\t}\n}\n\n@media (min-width: 1024px) {\n\t.main-content {\n\t\tpadding: 2.5rem 2rem;\n\t}\n}\n</style>\n","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=4b164890&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4b164890\"]])\n\nexport default __exports__","<template class=\"bg-dark\">\n  <div v-if=\"loading\" class=\"spinner-overlay\">\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\n  </div>\n  <Transition name=\"fade-slide\">\n    <div v-if=\"showPopup\"\n      style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n      <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n      <button @click=\"showPopup = false\"\n          style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\n        \n      </button>\n      <p>{{message}}</p>\n      <button @click=\"showPopup = false\" id=\"close_form\"\n          style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n        Close\n      </button>\n      </div>\n    </div>\n  </Transition>\n  <main class=\"main-layout\">\n\t\t<SiDebar/>\n    <div class=\"container flex-grow-1 d-flex flex-column mt-4 mt-md-5 align-items-start\">\n      <h2 class=\"fw-bold mb-4 mb-md-5 text-start\" style=\"color:#ffc107\">{{ username }}'s Boards</h2>\n      <div class=\"boards-wrapper mt-2 justify-content-start\">\n        <div\n          v-for=\"(board, index) in boards\"\n          :key=\"index\"\n          class=\"project-card\"\n        >\n          <div class=\"d-flex justify-content-end align-items-center gap-2\">\n            <div v-if=\"admin\" class=\"w-100\">\n              <div class=\"d-flex justify-content-end align-items-center gap-2\">\n\t\t\t\t\t\t\t\t<button class=\"text-start btn btn-primary\" @click=\"exportImg(previewing[board.room],board.title)\">Export</button>\n                <button class=\"btn btn-success success\" @click=\"join(board.room)\">\n                  Join room\n                </button>\n                <img\n                  v-if=\"!edits[index]\"\n                  :src=\"edit\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                  alt=\"edit\"\n                  @click=\"edits[index] = !edits[index]\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n                <img\n                  v-else\n                  :src=\"save\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                  alt=\"save\"\n                  @click=\"edits[index] = !edits[index];resave(boards[index]);boards[index].modified='Just now'\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n                <img\n                  :src=\"bin\"\n                  loading=\"lazy\"\n                  alt=\"delete\"\n                  decoding=\"async\"\n                  @click=\"delete_board(boards[index].room);boards.splice(index,1)\"\n                  style=\"width:20px;height:20px;cursor:pointer;\"\n                >\n              </div>\n              <div v-if=\"!edits[index]\">\n                <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled />\n                <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\n              </div>\n              <div v-else>\n                <input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" />\n                <input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" />\n              </div>\n            </div>\n            <div v-else class=\"w-100\">\n              <button class=\"btn btn-success success\" @click=\"join(board.room)\">\n                Join room\n              </button>\n              <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\n              <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\n            </div>\n          </div>\n          <div class=\"card-body text-white position-relative flex-grow-1\">\n            <div class=\"d-flex flex-column align-items-start gap-1\"\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Views: <span class=\"text-white\">{{ board.views }}</span>\n              </span>\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Last Modified: <span class=\"text-white\">{{ board.modified }}</span>\n              </span>\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n                Visibility: <span class=\"text-white\">{{ board.visibility }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\t\t\t<div class=\"container mt-4 mt-md-5\" v-if=\"admin\">\n\t\t\t\t<h1 class=\"text-start\" style=\"color:#ffc107\">Bookmarks</h1>\n\t\t\t\t<div class=\"boards-wrapper mt-5 justify-content-start\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"(board, index) in bookmarks\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"project-card\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"d-flex justify-content-end\">\n\t\t\t\t\t\t\t<button class=\"btn btn-success success\" @click=\"join(board.room)\">\n\t\t\t\t\t\t\t\tJoin room\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t:src=\"bin\"\n\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\talt=\"delete\"\n\t\t\t\t\t\t\t\tdecoding=\"async\"\n\t\t\t\t\t\t\t\t@click=\"delete_bookmark(bookmarks[index].room);bookmarks.splice(index,1)\"\n\t\t\t\t\t\t\t\tstyle=\"width:20px;height:20px;cursor:pointer;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\n\t\t\t\t\t\t<input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled/>\n\t\t\t\t\t\t<div class=\"card-body text-white position-relative flex-grow-1\">\n\t\t\t\t\t\t\t<div class=\"d-flex flex-column align-items-start gap-1\"\n\t\t\t\t\t\t\t\tstyle=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tViews: <span class=\"text-white\">{{ board.views }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tLast Modified: <span class=\"text-white\">{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\n\t\t\t\t\t\t\t\t\tVisibility: <span class=\"text-white\">{{ board.visibility }}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"bookmarks.length===0\" class=\"text-center mb-3 fw-semibold\" style=\"color:#ffc107;font-size: 1.2rem;\">\n            No bookmarks yet.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</main>\n</template>\n\n<script setup>\nimport { get_cookie } from '@/common';\nimport { DateTime } from 'luxon';\nimport { onMounted, ref } from 'vue';\nimport { BASE_URL } from '../common.js';\nimport { VueSpinnerTail } from 'vue3-spinners';\nimport SiDebar from './SiDebar.vue'\nimport bin from '@/assets/bin.webp'\nimport save from '@/assets/save.webp'\nimport edit from '@/assets/edit.webp'\n\nconst showPopup=ref(false)\nconst message=ref(null)\nconst username=ref(null)\nconst admin = ref(false)\nconst csrf = get_cookie('csrftoken')\nconst boards = ref([])\nconst loading = ref(true)\nconst edits=ref({})\nconst bookmarks=ref([])\nconst deletes=ref({})\nconst previewing=ref({})\n\nconst delete_board=async(room)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/delete/${room}`,{\n      method:\"GET\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      showPopup.value=true\n      message.value=\"Board was successfully modified.\"\n    }\n    else console.log(\"Board not deleted successfully\")\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst delete_bookmark=async(room)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/delete/bookmark/${room}`,{\n      method:\"GET\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      showPopup.value=true\n      message.value=\"Bookmark successfuly deleted.\"\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst get_bookmarks=async(username)=>{\n  try{\n\t\tif(!admin.value){\n\t\t\treturn\n\t\t}\n    const data=await fetch(`${BASE_URL}/get_bookmarks/${username}`,{\n      method:\"POST\",\n      headers:{\n        \"X-CSRFToken\":csrf,\n\t\t\t\t\"Content-Type\":\"application/json\"\n      },\n      body:JSON.stringify({\n        \"timezone\":DateTime.local().zoneName\n      }),\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    if(response.status===200){\n      bookmarks.value=response.bookmarks\n      deletes.value=response.bookmarks.map(()=>false)\n    }\n    else bookmarks.value=[]\n\n  }catch(e){\n    console.error(e)\n    bookmarks.value=[]\n  }\n}\n\nconst resave=async(board)=>{\n  loading.value=true;\n\tif(board.title.length===0 || board.description.length===0){\n\t\tshowPopup.value=true\n\t\tmessage.value=\"Board title or description cannot be empty\"\n\t}\n  if(board.original_description!==board.description || board.original_title!==board.title){\n    try{\n      const data=await fetch(`${BASE_URL}/codraw/update/${board.room}`,{\n        method:\"POST\",\n        headers:{\n          \"Content-Type\":\"application/json\",\n          \"X-CSRFToken\":csrf\n        },\n        credentials:\"include\",\n        body:JSON.stringify({\n          \"title\":board.title,\n          \"description\":board.description,\n          \"timezone\":DateTime.local().zoneName\n        })\n      })\n      const response=await data.json()\n      if(response.status===200){\n        showPopup.value=true\n        message.value=\"Board was successfully modified.\"\n      }\n    }catch(e){\n      console.error(e)\n    }\n  }\n  loading.value=false;\n}\n\nconst get_status=async(curr_user)=>{\n  try{\n    const data=await fetch(`${BASE_URL}/username`,{\n      method:\"GET\",\n      headers:{\n\t\t\t\t\"Content-Type\":\"application/json\",\n        \"X-CSRFToken\":csrf\n      },\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    let user2=\"\"\n    if(response.status==200) user2=response.username\n    else user2=\"ERROR 404 NOT FOUND\"\n    return user2===curr_user\n  }catch(e){\n    console.error(e)\n  }\n}\n\nconst get_boards = async (username) => {\n  try {\n    const data = await fetch(`${BASE_URL}/codraw/boards/${username}`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      body: JSON.stringify({\n        \"timezone\": DateTime.local().zoneName,\n\t\t\t\t\"mode\":admin.value?\"admin\":\"user\"\n      }),\n      credentials: \"include\"\n    })\n    const response = await data.json()\n    boards.value = response.boards.map(b => ({\n      ...b,\n      original_title: b.title,\n      original_description: b.description\n    }))\n\t\tpreviewing.value=response.images\n    edits.value=response.boards.map(()=>false)\n  } catch (e) {\n    console.error(e)\n  }\n}\n\nconst exportImg=(url,title)=>{\n\tconst link = document.createElement('a');\n\tlink.download = `${title}.png`;\n\tlink.href = url;\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n}\n\nasync function join(room){\n  try{\n    const data=await fetch(`${BASE_URL}/load`,{\n      \"method\":\"POST\",\n      \"headers\":{\n        'Content-Type':'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"room\":room\n      })\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href=`${response.url}?origin=account/${username.value}`\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nonMounted(async () => {\n  loading.value = true;\n  const pathParts = window.location.pathname.split('/');\n  username.value = pathParts[pathParts.length - 1];\n  admin.value=await get_status(username.value);\n\tawait Promise.all[get_boards(username.value),get_bookmarks(username.value)]\n  loading.value = false;\n})\n</script>\n\n<style scoped>\n\n.success{\n  transition: 0.5s ease-in-out;\n}\n\n.success:hover{\n  color:green;\n  background:white;\n}\n\n.boards-wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n  width: 100%;\n  padding: 0 1rem;\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n.main-layout {\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  background: #181818;\n  overflow-y: auto;\n}\n\n/* Small screens - account for sidebar overlay */\n@media (max-width: 500px) {\n  .main-layout {\n    position: relative;\n  }\n\n  /* Add padding to prevent content from being hidden when sidebar is open */\n  .main-layout.sidebar-open {\n    overflow: hidden;\n  }\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.bookmarks{\n  position: absolute;\n  right:5%;\n  top:50px;\n  transition: 0.5s ease-in;\n}\n\n.back{\n  position: absolute;\n  left:5%;\n  top:50px;\n  transition: 0.5s ease-in;\n}\n\n.back:hover{\n  transform: translateX(-15px);\n}\n\n.project-card {\n  background: #1f1f1f;\n  border: 1px solid #333;\n  border-radius: 1rem;\n  width: 100%;\n  min-height: 320px;\n  max-height: 400px;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n.project-card:hover {\n  box-shadow: 0 6px 16px rgba(0,0,0,0.4);\n  transform: translateY(-2px);\n}\n\n/* Mobile responsiveness */\n@media (max-width: 768px) {\n  .project-card {\n    min-height: 280px;\n    max-height: 350px;\n    padding: 0.75rem;\n  }\n\n  .boards-wrapper {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n    padding: 0 0.5rem;\n  }\n\n  .container {\n    padding: 0 0.5rem !important;\n  }\n\n  h2 {\n    font-size: 1.5rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  h1 {\n    font-size: 1.25rem !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .project-card {\n    min-height: 260px;\n    padding: 0.5rem;\n  }\n\n  .boards-wrapper {\n    gap: 0.75rem;\n  }\n\n  .form-control {\n    font-size: 0.875rem !important;\n  }\n\n  .btn {\n    font-size: 0.875rem !important;\n    padding: 0.375rem 0.75rem !important;\n  }\n}\n\n.spinner-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000; background-color: rgba(0, 0, 0, 0.7); }\n\n</style>\n","import script from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccOunt.vue?vue&type=style&index=0&id=527da298&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-527da298\"]])\n\nexport default __exports__","<template>\n\t<div style=\"\n      position: relative;\n      width: 100vw;\n      height: 100vh;\n      overflow: hidden;\n    \">\n\t\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"showPopup\"\n\t\t\t\tstyle=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n\t\t\t\t\t<button @click=\"showPopup = false\"\n\t\t\t\t\t\tstyle=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<p>{{ message }}</p>\n\t\t\t\t\t<button v-if=\"message !== 'Are you sure you would like to clear the board? This action is irreversible.'\"\n\t\t\t\t\t\t@click=\"showPopup = false\" id=\"close_form\"\n\t\t\t\t\t\tstyle=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n\t\t\t\t\t\tClose\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"message === 'Are you sure you would like to clear the board? This action is irreversible.'\"\n\t\t\t\t\t\t@click=\"clearDefinetely(true)\" id=\"confirm_clear\"\n\t\t\t\t\t\tstyle=\"margin-top: 20px;background: green; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\n\t\t\t\t\t\tConfirm\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"toolbar\" :class=\"{ 'vertical-toolbar': windowWidth < 800 }\" style=\"\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 12px;\n\t\t\t\tleft: 3%;\n\t\t\t\tbackground: rgba(30, 30, 30, 0.85);\n\t\t\t\tborder-radius: 16px;\n\t\t\t\tbox-shadow: 0 4px 24px rgba(0,0,0,0.18);\n\t\t\t\tpadding: 20px 32px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 10px;\n\t\t\t\tz-index: 10;\n      \">\n\t\t\t<font-awesome-icon :icon=\"['fas', 'undo']\" class=\"feature-icon\" @click=\"undoWithBroadcast()\"></font-awesome-icon>\n\t\t\t<font-awesome-icon :icon=\"['fas', 'redo']\" class=\"feature-icon\" @click=\"redoWithBroadcast()\"></font-awesome-icon>\n\t\t\t<button @click=\"motiv = !motiv\" style=\"border-radius: 50%;padding: 1rem;border-color: #f68608;border-width: 5px;\"\n\t\t\t\t:style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"></button>\n\t\t\t<text style=\"color: white;\">Brush Color</text>\n\t\t\t<input type=\"color\" v-model=\"color\">\n\t\t\t<font-awesome-icon :icon=\"['fas', 'hand']\" @click=\"togglePane('$event')\" class=\"feature-icon\"\n\t\t\t\t:style=\"{ color: paneToggler ? '#0d6efd' : 'orange' }\"></font-awesome-icon>\n\t\t\t<select v-model=\"tool\" style=\"\n          background: #23272f;\n          color: #fff;\n          border: none;\n          border-radius: 8px;\n          padding: 8px 16px;\n          font-size: 1rem;\n          outline: none;\n          cursor: pointer;\n        \">\n\t\t\t\t<option value=\"brush\">Brush</option>\n\t\t\t\t<option value=\"eraser\">Eraser</option>\n\t\t\t</select>\n\t\t\t<input type=\"range\" v-model=\"width_slider\" min=\"1\" max=\"10\" style=\"\n          accent-color: #4f8cff;\n          width: 60px;\n      \">\n\t\t\t<span style=\"color: #fff; min-width: 32px; text-align: center;\">{{ width_slider }}</span>\n\t\t\t<label aria-label=\"upload\" title=\"upload image\" @click=\"uploadImage\" style=\"cursor: pointer;\">\n\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"16\" fill=\"#ffc107\" class=\"bi bi-upload\"\n\t\t\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5\" />\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z\" />\n\t\t\t\t</svg>\n\t\t\t\t<input type=\"file\" id=\"upload\" style=\"display:none\">\n\t\t\t</label>\n\t\t\t<div style=\"display: flex; align-items: center;cursor: pointer;\">\n\t\t\t\t<img width=\"24\" height=\"24\" loading=\"async\" decoding=\"lazy\" @click=\"toggleShapeSelector\"\n\t\t\t\t\tsrc=\"https://img.icons8.com/external-tal-revivo-filled-tal-revivo/24/external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo.png\"\n\t\t\t\t\talt=\"external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo\" />\n\t\t\t</div>\n\t\t\t<button id=\"save_btn\" v-if=\"(admin || visitor) && MODE === 'default'\" @click=\"check_save('save')\" style=\"\n          background: #4f8cff;\n          color: #fff;\n          border: none;\n          border-radius: 8px;\n          padding: 8px 20px;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: ease-in-out 0.6s;\n        \">Save</button>\n\t\t\t<button @click=\"leave()\" id=\"exit\" style=\"\n        background: #ff4f4f;\n        color: #fff;\n        border: none;\n        border-radius: 8px;\n        padding: 8px 20px;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n      \">Exit</button>\n\t\t\t<button id=\"clearall\" v-if=\"admin || MODE === 'demo'\" style=\"\n        background: #f68608;\n        color: #fff;\n        border: none;\n        border-radius: 8px;\n        padding: 8px 20px;\n        font-size: 1rem;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n      \" @click=\"clear_all()\">\n\t\t\t\tClear all\n\t\t\t</button>\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"showShapeSelector\"\n\t\t\t\tstyle=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\n\t\t\t\t\t<button @click=\"showShapeSelector = false\"\n\t\t\t\t\t\tstyle=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: white; font-size: 20px; cursor: pointer;\">\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<p>Select a Shape</p>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'text-height']\" class=\"feature-icon\" alt=\"text\" ara-label=\"text\"\n\t\t\t\t\t\t\t\t@click=\"createShape('text')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'arrow-up-long']\" class=\"feature-icon\" alt=\"arrow\" ara-label=\"arrow\"\n\t\t\t\t\t\t\t\t@click=\"createShape('arrow')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'circle']\" class=\"feature-icon\" alt=\"circle\" ara-label=\"circle\"\n\t\t\t\t\t\t\t\t@click=\"createShape('circle')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['fas', 'square']\" class=\"feature-icon\" alt=\"square\" ara-label=\"square\"\n\t\t\t\t\t\t\t\t@click=\"createShape('square')\"></font-awesome-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"inv_div\" style=\"position: absolute; top: 12px; right: 1rem; z-index: 10;\">\n\t\t\t<button v-if=\"visitor && MODE !== 'demo' && !admin\" id=\"bookmark-btn\" @click=\"toggleBookmark\" class=\"mb-2\" style=\"\n        background: #4f8cff;\n        color:#fff ;\n        border: none;\n        border-radius: 10px;\n        padding: 10px 18px;\n        font-size: 0.95rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: ease-in-out 0.6s;\n        height: 40px;\n        \" :style=\"{ width: show_text ? '200px' : 'unset' }\">\n\t\t\t\t<img :src=\"bookmarkIcon\" decoding=\"async\" loading=\"lazy\" alt=\"Bookmark\" style=\"width: 18px; height: 18px;\" />\n\t\t\t\t<span v-if=\"show_text\">{{ isBookmarked ? \"Bookmarked\" : \"Bookmark\" }}</span>\n\t\t\t</button>\n\t\t\t<button id=\"inv\" @click=\"copyInvitationLink\" style=\"\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: #4f8cff;\n          color: #fff;\n          border: none;\n          border-radius: 10px;\n          padding: 10px 18px;\n          font-size: 0.95rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: ease-in-out 0.6s;\n          height: 40px;\n        \" :style=\"{ width: show_text ? '200px' : 'unset' }\">\n\t\t\t\t<img :src=\"url\" alt=\"Copy\" style=\"width: 18px; height: 18px;\" />\n\t\t\t\t<span v-if=\"show_text\">Copy invitation link</span>\n\t\t\t</button>\n\t\t</div>\n\t\t<Transition name=\"fade-slide\">\n\t\t\t<div v-if=\"isVisible\" style=\"\n          position: absolute;\n          top: 150px;\n          left: 35%;\n          backdrop-filter: blur(16px);\n          background: rgba(30, 30, 30, 0.75);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 20px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);\n          padding: 32px;\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          z-index: 20;\n          min-width: 30vw;\n          max-width: 90vw;\n          font-family: 'Segoe UI', Roboto, sans-serif;\n          transition: ease-in-out 0.6s;\n          color: #fff;\n        \">\n\t\t\t\t<button @click=\"isVisible = false\" style=\"\n            position: absolute;\n            top: 12px;\n            right: 12px;\n            background: transparent;\n            border: none;\n            color: #ccc;\n            font-size: 20px;\n            cursor: pointer;\n            transition: color 0.2s;\n          \">\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t\t<div style=\"display: flex; flex-direction: column; gap: 6px;\">\n\t\t\t\t\t<label class=\"align-self-start\">Title</label>\n\t\t\t\t\t<div style=\"position: relative;\">\n\t\t\t\t\t\t<input v-model=\"title\" type=\"text\" placeholder=\"Enter title\" style=\"\n                padding: 10px 14px;\n                border-radius: 12px;\n                border: 1px solid rgba(255, 255, 255, 0.1);\n                background: rgba(255, 255, 255, 0.05);\n                color: #fff;\n                font-size: 1rem;\n                outline: none;\n                transition: border 0.2s;\n                width: 100%;\n                box-sizing: border-box;\n              \" />\n\t\t\t\t\t\t<span style=\"\n                position: absolute;\n                right: 10px;\n                bottom: 6px;\n                font-size: 0.75rem;\n                color: #aaa;\n                pointer-events: none;\n              \">{{ (title && title.length) || 0 }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\"display: flex; flex-direction: column; gap: 6px;\">\n\t\t\t\t\t<label class=\"align-self-start\">Description</label>\n\t\t\t\t\t<div style=\"position: relative;\">\n\t\t\t\t\t\t<textarea v-model=\"description\" rows=\"3\" placeholder=\"Enter description\" style=\"\n              padding: 10px 14px;\n              border-radius: 12px;\n              border: 1px solid rgba(255, 255, 255, 0.1);\n              background: rgba(255, 255, 255, 0.05);\n              color: #fff;\n              font-size: 1rem;\n              resize: none;\n              outline: none;\n              transition: border 0.2s;\n              width: 100%;\n              box-sizing: border-box;\n              \"></textarea>\n\t\t\t\t\t\t<span style=\"\n              position: absolute;\n              right: 10px;\n              bottom: 6px;\n              font-size: 0.75rem;\n              color: #aaa;\n              pointer-events: none;\n              \">{{ (description && description.length) || 0 }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\"display: flex; align-items: center; gap: 10px;\">\n\t\t\t\t\t<label style=\"flex-shrink: 0;\">Private</label>\n\t\t\t\t\t<label class=\"switch\">\n\t\t\t\t\t\t<input v-model=\"type\" type=\"checkbox\" :true-value=\"'Private'\" :false-value=\"'Public'\" />\n\t\t\t\t\t\t<span class=\"slider\"></span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<button id=\"save_def\" @click=\"save_definetely()\" style=\"\n            background: #4f8cff;\n            color: #fff;\n            border: none;\n            border-radius: 12px;\n            padding: 12px;\n            font-size: 1rem;\n            font-weight: 500;\n            cursor: pointer;\n            transition: 0.5s ease-out;\n          \" class=\"save\">\n\t\t\t\t\tSave Details\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Transition>\n\t\t<div id=\"zoom\">\n\t\t\t<label style=\"font-size: small; cursor: pointer;width:1.5rem\" @click=\"changeZoom('up')\">+</label>\n\t\t\t<img :src=\"zoom_ico\" decoding=\"async\" loading=\"lazy\" alt=\"zoom\" class=\"img-fluid\"\n\t\t\t\tstyle=\"width:1rem;height: 1rem;\">\n\t\t\t<input v-model=\"zoom\" style=\"width: 60px; text-align: center;border-style: none;font-size: 0.7rem;\" disabled>\n\t\t\t<label style=\"font-size:small; cursor: pointer;width:1.5rem\" @click=\"changeZoom('down')\">-</label>\n\t\t</div>\n\t\t<div class=\"board-wrapper\" :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\">\n\t\t\t<v-stage ref=\"stageRef\" :config=\"stageConfig\" @mousedown=\"handleMouseDown\" @mousemove=\"handleMouseMove\"\n\t\t\t\t@mouseup=\"handleMouseUp\" @wheel=\"handleMouseWheel\" @touchstart=\"handleMouseDown\" @touchmove=\"handleMouseMove\"\n\t\t\t\t@touchend=\"handleMouseUp\" @contextmenu=\"handleContextMenu\" @click=\"(e) => handleStageClick(e)\"\n\t\t\t\tstyle=\"overflow-x: hidden;overflow-y: hidden;border: none !important;\">\n\t\t\t\t<v-layer ref=\"layerRef\">\n\t\t\t\t\t<v-image ref=\"imageRef\" :config=\"imageConfig\" />\n\t\t\t\t</v-layer>\n\t\t\t</v-stage>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport url from '@/assets/email.webp'\nimport zoom_ico from '@/assets/zoom.webp'\nimport { v4 as uuidv4 } from 'uuid'\nimport { get_cookie } from '@/common';\nimport { BASE_URL, WS_URL, wsConnections } from '../common.js'\nimport { VueSpinnerTail } from 'vue3-spinners'\nimport bookmarkIcon from '@/assets/star.webp'\nconst loading = ref(false)\nconst csrf = get_cookie('csrftoken');\nimport { onMounted, ref, onBeforeUnmount, computed, onUnmounted } from 'vue';\nconst currentLine = ref(null)\nconst MODE = new URL(window.location.href).pathname.split('/')[1] == 'demo' ? 'demo' : 'default'\nlet drawFrameId = null\nlet lastWsSendTime = 0\nimport Konva from 'konva';\nimport { watch } from 'vue';\nimport { nextTick } from 'vue';\nconst stageRef = ref(null);\nconst windowWidth = ref(window.innerWidth);\nconst admin = ref(false)\nconst isVisible = ref(false)\nconst showPopup = ref(false)\nconst color = ref(\"#ffffff\")\nconst background = ref(\"#000000\")\nconst title = ref(null)\nconst message = ref(null)\nconst description = ref(null)\nconst type = ref('Public')\nconst tool = ref('brush');\nconst isDrawing = ref(false);\nconst width_slider = ref(5);\nconst list = ref([])\nconst zoom = computed(() => { return `${(zooming.value * 100).toFixed(0)}%` })\nconst zooming = ref(1)\nconst lastPos = ref(null);\nconst imageRef = ref(null);\nconst layerRef = ref(null);\nconst isPanning = ref(false);\nconst motiv = ref(false)\nconst visitor = ref(true)\nconst stroke_history = ref([])\nconst history_index = ref(0)\nconst isBookmarked = ref(false);\nconst paneToggler = ref(false)\nconst showShapeSelector = ref(false)\nconst texts = []\nconst room = ref(new URL(window.location.href).pathname.split('/')[3])\nif (MODE === 'demo') {\n\troom.value = new URL(window.location.href).pathname.split('/')[2]\n}\nconst responded = ref(false)\nconst origin = new URL(window.location.href).searchParams.get('origin')\nconst transformers = []\nconst deleteButtons = []\n\nconst createShape = (shapeName) => {\n\tconst fill = color.value\n\tswitch (shapeName) {\n\t\tcase 'text': {\n\t\t\tconst maintext = new Konva.Text({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\twidth: 220,\n\t\t\t\theight: 80,\n\t\t\t\tfill: fill,\n\t\t\t\tfontSize: 32,\n\t\t\t\tfontFamily: 'Caveat',\n\t\t\t\ttext: 'Write text here',\n\t\t\t\talign: 'center',\n\t\t\t\tverticalAlign: 'middle',\n\t\t\t\tdraggable: true,\n\t\t\t\tname: 'mainText',\n\t\t\t});\n\t\t\ttexts.push(maintext.id())\n\t\t\tmaintext.setAttr('originalFontSize', 32);\n\t\t\tmaintext.setAttr('originalWidth', 220);\n\t\t\tmaintext.setAttr('originalHeight', 80);\n\t\t\tconst previewtext = new Konva.Text({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: maintext.id(),\n\t\t\t\twidth: 220,\n\t\t\t\theight: 80,\n\t\t\t\tfill: fill,\n\t\t\t\tfontSize: 32,\n\t\t\t\tfontFamily: 'Caveat',\n\t\t\t\ttext: 'Write text here',\n\t\t\t\talign: 'center',\n\t\t\t\tverticalAlign: 'middle',\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tpreviewtext.setAttr('originalFontSize', 32);\n\t\t\tpreviewtext.setAttr('originalWidth', 220);\n\t\t\tpreviewtext.setAttr('originalHeight', 80);\n\t\t\tmaintext.on('dragmove', () => {\n\t\t\t\tpreviewtext.position(maintext.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: maintext.position(),\n\t\t\t\t\t\tid: maintext.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tmaintext.on('dragstart', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'grabbing';\n\t\t\t});\n\t\t\tmaintext.on('dragend', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\t\t});\n\t\t\tmaintext.on('mouseenter', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'grab';\n\t\t\t});\n\t\t\tmaintext.on('mouseleave', () => {\n\t\t\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\t\t});\n\t\t\tmaintext.on(\"dblclick\", (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(e.target);\n\t\t\t})\n\t\t\tpreviewtext.on('dragmove', () => {\n\t\t\t\tmaintext.position(previewtext.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: previewtext.position(),\n\t\t\t\t\t\tid: previewtext.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewtext.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(maintext);\n\t\t\t\tdocument.getElementById(\"textarea\").remove()\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(maintext);\n\t\t\tpreviewLayer.add(previewtext);\n\t\t\tpreviewtext.moveToTop();\n\t\t\tmaintext.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\tid: maintext.id(),\n\t\t\t\t\tx: maintext.x(),\n\t\t\t\t\ty: maintext.y(),\n\t\t\t\t\twidth: maintext.width(),\n\t\t\t\t\theight: maintext.height(),\n\t\t\t\t\tfill: maintext.fill(),\n\t\t\t\t\ttext: maintext.text(),\n\t\t\t\t\tfontSize: maintext.fontSize(),\n\t\t\t\t\tfontFamily: maintext.fontFamily(),\n\t\t\t\t\talign: maintext.align(),\n\t\t\t\t\tverticalAlign: maintext.verticalAlign()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'arrow': {\n\t\t\tconst arrow = new Konva.Arrow({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\tpoints: [200, 200, 0, 0],\n\t\t\t\tstroke: fill,\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tpointerLength: 20,\n\t\t\t\tpointerWidth: 20,\n\t\t\t\tfill: fill,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewArrow = new Konva.Arrow({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: arrow.id(),\n\t\t\t\tpoints: [200, 200, 0, 0],\n\t\t\t\tstroke: fill,\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tpointerLength: 20,\n\t\t\t\tpointerWidth: 20,\n\t\t\t\tfill: fill,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tarrow.on('dragmove', () => {\n\t\t\t\tpreviewArrow.position(arrow.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: arrow.position(),\n\t\t\t\t\t\tid: arrow.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewArrow.on('dragmove', () => {\n\t\t\t\tarrow.position(previewArrow.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: previewArrow.position(),\n\t\t\t\t\t\tid: previewArrow.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(arrow);\n\t\t\tpreviewLayer.add(previewArrow);\n\t\t\tarrow.moveToTop();\n\t\t\tpreviewArrow.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\tid: arrow.id(),\n\t\t\t\t\tx: arrow.x(),\n\t\t\t\t\ty: arrow.y(),\n\t\t\t\t\tpoints: arrow.points(),\n\t\t\t\t\tstroke: arrow.stroke(),\n\t\t\t\t\tstrokeWidth: arrow.strokeWidth(),\n\t\t\t\t\tpointerLength: arrow.pointerLength(),\n\t\t\t\t\tpointerWidth: arrow.pointerWidth(),\n\t\t\t\t\tfill: arrow.fill()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'circle': {\n\t\t\tconst circle = new Konva.Circle({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\tradius: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewCircle = new Konva.Circle({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: circle.id(),\n\t\t\t\tradius: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tcircle.on('dragmove', () => {\n\t\t\t\tpreviewCircle.position(circle.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: circle.position(),\n\t\t\t\t\t\tid: circle.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewCircle.on('dragmove', () => {\n\t\t\t\tcircle.position(previewCircle.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: previewCircle.position(),\n\t\t\t\t\t\tid: previewCircle.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(circle);\n\t\t\tpreviewLayer.add(previewCircle);\n\t\t\tcircle.moveToTop();\n\t\t\tpreviewCircle.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\tid: circle.id(),\n\t\t\t\t\tx: circle.x(),\n\t\t\t\t\ty: circle.y(),\n\t\t\t\t\tradius: circle.radius(),\n\t\t\t\t\tfill: circle.fill(),\n\t\t\t\t\tstroke: circle.stroke(),\n\t\t\t\t\tstrokeWidth: circle.strokeWidth()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'square': {\n\t\t\tconst square = new Konva.Rect({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: uuidv4(),\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tconst previewSquare = new Konva.Rect({\n\t\t\t\tx: window.innerWidth / 2,\n\t\t\t\ty: window.innerHeight / 2,\n\t\t\t\tid: square.id(),\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tfill: fill,\n\t\t\t\tstroke: motiv.value === '#000000' ? 'white' : 'black',\n\t\t\t\tstrokeWidth: width_slider.value,\n\t\t\t\tdraggable: true,\n\t\t\t});\n\t\t\tsquare.on('dragmove', () => {\n\t\t\t\tpreviewSquare.position(square.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: square.position(),\n\t\t\t\t\t\tid: square.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewSquare.on('dragmove', () => {\n\t\t\t\tsquare.position(previewSquare.position());\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t});\n\t\t\tlayerRef.value.getNode().add(square);\n\t\t\tpreviewLayer.add(previewSquare);\n\t\t\tsquare.moveToTop();\n\t\t\tpreviewSquare.moveToTop();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"shape\",\n\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\tid: square.id(),\n\t\t\t\t\tx: square.x(),\n\t\t\t\t\ty: square.y(),\n\t\t\t\t\twidth: square.width(),\n\t\t\t\t\theight: square.height(),\n\t\t\t\t\tfill: square.fill(),\n\t\t\t\t\tstroke: square.stroke(),\n\t\t\t\t\tstrokeWidth: square.strokeWidth()\n\t\t\t\t}));\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tshowShapeSelector.value = false\n}\n\nconst handleTextClick = (konvaText) => {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer || !konvaText) return;\n\tkonvaText.draggable(false);\n\tconst tr = new Konva.Transformer({\n\t\tnodes: [konvaText],\n\t\tborderStroke: \"#ffc107\",\n\t\tborderDash: [5, 5],\n\t\tborderStrokeWidth: 1,\n\t\tborderDashOffset: 0,\n\t\tborderJoinStyle: \"round\",\n\t\tscalingEnabled: true,\n\t\tenabledAnchors: [\"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"],\n\t\tkeepRatio: true,\n\t\tkeepRatioByExpanding: true,\n\t\trotateEnabled: false,\n\t\tboundBoxFunc: (oldBox, newBox) => {\n\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\treturn oldBox;\n\t\t\t}\n\t\t\treturn newBox;\n\t\t},\n\t});\n\tlayer.add(tr);\n\tlayer.batchDraw();\n\ttransformers.push(tr);\n\tkonvaText.hide();\n\tconst stage = stageRef.value.getNode();\n\tconst textPosition = konvaText.getAbsolutePosition();\n\tconst stageBox = stage.container().getBoundingClientRect();\n\tconst scale = stage.scaleX();\n\tif (document.getElementById(\"textarea\")) document.getElementById(\"textarea\").remove()\n\tconst textarea = document.createElement(\"textarea\");\n\ttextarea.id = \"textarea\"\n\ttextarea.dataset.textId = konvaText.id();\n\tdocument.body.appendChild(textarea);\n\ttextarea.value = konvaText.text();\n\ttextarea.style.position = 'absolute';\n\ttextarea.style.top = (stageBox.top + textPosition.y * scale + 18) + 'px';\n\ttextarea.style.left = (stageBox.left + textPosition.x * scale) + 'px';\n\tconst textScaleX = konvaText.scaleX() || 1;\n\tconst textScaleY = konvaText.scaleY() || 1;\n\ttextarea.style.width = (konvaText.width() * textScaleX * scale) + 'px';\n\ttextarea.style.height = (konvaText.height() * textScaleY * scale) + 'px';\n\ttextarea.style.fontSize = (konvaText.fontSize() * textScaleX * scale) + 'px';\n\ttextarea.style.fontFamily = konvaText.fontFamily();\n\ttextarea.style.color = konvaText.fill();\n\ttextarea.style.backgroundColor = 'transparent';\n\ttextarea.style.border = 'none';\n\ttextarea.style.outline = 'none';\n\ttextarea.style.resize = 'none';\n\ttextarea.style.textAlign = konvaText.align();\n\ttextarea.style.lineHeight = '1';\n\ttextarea.style.padding = '0';\n\ttextarea.style.margin = '0';\n\ttextarea.style.verticalAlign = 'middle';\n\ttextarea.style.display = 'flex';\n\ttextarea.style.alignItems = 'center';\n\ttextarea.style.justifyContent = 'center';\n\ttextarea.style.whiteSpace = 'pre-wrap';\n\ttextarea.style.overflow = 'hidden';\n\ttextarea.style.transform = 'translate(0, 0)';\n\ttextarea.style.boxSizing = 'border-box';\n\ttextarea.focus();\n\ttextarea.addEventListener('keyup', () => {\n\t\trequestAnimationFrame(() => {\n\t\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\t\tconst scaleY = konvaText.scaleY() || 1;\n\t\t\tconst currentWidth = konvaText.width() * scaleX;\n\t\t\tconst currentHeight = konvaText.height() * scaleY;\n\t\t\tconst textBeforeCursor = textarea.value.substring(0, textarea.selectionStart);\n\t\t\tconst lastNewlineIndex = textBeforeCursor.lastIndexOf('\\n');\n\t\t\tconst textToMeasure = lastNewlineIndex >= 0\n\t\t\t\t? textBeforeCursor.substring(lastNewlineIndex + 1)\n\t\t\t\t: textBeforeCursor;\n\t\t\tconst tempText = new Konva.Text({\n\t\t\t\ttext: textarea.value,\n\t\t\t\tfontSize: konvaText.fontSize(),\n\t\t\t\tfontFamily: konvaText.fontFamily(),\n\t\t\t\twidth: konvaText.width(),\n\t\t\t\talign: konvaText.align(),\n\t\t\t\tverticalAlign: konvaText.verticalAlign()\n\t\t\t});\n\t\t\tconst tempTextForCursor = new Konva.Text({\n\t\t\t\ttext: textToMeasure,\n\t\t\t\tfontSize: konvaText.fontSize(),\n\t\t\t\tfontFamily: konvaText.fontFamily(),\n\t\t\t\twidth: konvaText.width(),\n\t\t\t\talign: konvaText.align(),\n\t\t\t\tverticalAlign: konvaText.verticalAlign()\n\t\t\t});\n\t\t\tconst newTextWidth = tempText.width() * scaleX;\n\t\t\tconst newTextHeight = tempText.height() * scaleY;\n\t\t\tconst cursorLineWidth = tempTextForCursor.width() * scaleX;\n\t\t\tif (newTextWidth > currentWidth || newTextHeight > currentHeight || cursorLineWidth < currentWidth) {\n\t\t\t\tconst newWidth = lastNewlineIndex >= 0\n\t\t\t\t\t? Math.max(konvaText.width(), tempTextForCursor.width())\n\t\t\t\t\t: Math.max(konvaText.width(), tempText.width());\n\t\t\t\tconst heightMargin = 20;\n\t\t\t\tkonvaText.width(newWidth);\n\t\t\t\tkonvaText.height(tempText.height() + heightMargin);\n\t\t\t\ttextarea.style.width = newWidth * scaleX + 'px';\n\t\t\t\ttextarea.style.height = (tempText.height() + heightMargin) * scaleY + 'px';\n\t\t\t\ttr.nodes([konvaText]);\n\t\t\t\ttr.forceUpdate();\n\t\t\t\tlayer.batchDraw();\n\t\t\t}\n\t\t\ttempText.destroy();\n\t\t\ttempTextForCursor.destroy();\n\t\t});\n\t});\n\tconst getDeleteButtonPos = () => {\n\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\treturn { x: konvaText.x() + konvaText.width() * scaleX - 15, y: konvaText.y() - 15 };\n\t};\n\tconst initialPos = getDeleteButtonPos();\n\tconst deleteGroup = new Konva.Group({\n\t\tx: initialPos.x,\n\t\ty: initialPos.y,\n\t\topacity: 0,\n\t\tlistening: true\n\t});\n\tconst deleteCircle = new Konva.Circle({\n\t\tradius: 12,\n\t\tfill: '#dc3545',\n\t\tstroke: '#ffffff',\n\t\tstrokeWidth: 2,\n\t\tshadowColor: '#000',\n\t\tshadowBlur: 6,\n\t\tshadowOffset: { x: 0, y: 2 },\n\t\tshadowOpacity: 0.3\n\t});\n\tconst deleteIcon = new Konva.Path({\n\t\tdata: 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6',\n\t\tstroke: '#fff',\n\t\tstrokeWidth: 2,\n\t\tstrokeLineCap: 'round',\n\t\tstrokeLineJoin: 'round',\n\t\tscaleX: 0.8,\n\t\tscaleY: 0.8,\n\t\tx: -8,\n\t\ty: -8\n\t});\n\tdeleteGroup.add(deleteCircle);\n\tdeleteGroup.add(deleteIcon);\n\tdeleteGroup.on('click', (e) => {\n\t\te.evt.stopPropagation();\n\t\tdeleteImage(konvaText, tr, deleteGroup);\n\t});\n\tdeleteGroup.on('mouseenter', () => {\n\t\tdeleteCircle.fill('#c82333');\n\t\tstageRef.value.getNode().container().style.cursor = 'pointer';\n\t\tlayer.batchDraw();\n\t});\n\tdeleteGroup.on('mouseleave', () => {\n\t\tdeleteCircle.fill('#dc3545');\n\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\tlayer.batchDraw();\n\t});\n\tdeleteButtons.push(deleteGroup);\n\tlayer.add(deleteGroup);\n\tdeleteGroup.to({\n\t\topacity: 1,\n\t\tduration: 0.2\n\t});\n\tconst updateDeleteButtonPosition = () => {\n\t\tconst pos = getDeleteButtonPos();\n\t\tdeleteGroup.x(pos.x);\n\t\tdeleteGroup.y(pos.y);\n\t};\n\n\tconst updateTextareaPosition = () => {\n\t\tconst textarea = document.getElementById(\"textarea\");\n\t\tif (!textarea) return;\n\t\tconst stage = stageRef.value.getNode();\n\t\tconst stageBox = stage.container().getBoundingClientRect();\n\t\tconst stageScale = stage.scaleX();\n\t\tconst textPosition = konvaText.getAbsolutePosition();\n\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\tconst scaleY = konvaText.scaleY() || 1;\n\t\tconst origWidth = konvaText.getAttr('originalWidth') || 220;\n\t\tconst origHeight = konvaText.getAttr('originalHeight') || 80;\n\t\tconst origFontSize = konvaText.getAttr('originalFontSize') || 32;\n\t\tconst newWidth = origWidth * scaleX;\n\t\tconst newHeight = origHeight * scaleY;\n\t\tconst newFontSize = origFontSize * scaleX;\n\t\ttextarea.style.top = (stageBox.top + textPosition.y * stageScale + 20) + 'px';\n\t\ttextarea.style.left = (stageBox.left + textPosition.x * stageScale) + 'px';\n\t\ttextarea.style.width = newWidth * stageScale + 'px';\n\t\ttextarea.style.height = newHeight * stageScale + 'px';\n\t\ttextarea.style.fontSize = newFontSize * stageScale + 'px';\n\t};\n\tconst buffer = []\n\ttextarea.addEventListener('keydown', e => {\n\t\tbuffer.push(e.key)\n\t\tif (lastWsSendTime !== 0 && Date.now() - lastWsSendTime < 16) return\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"text-modify\",\n\t\t\t\ttext: textarea.value,\n\t\t\t\tid: konvaText.id(),\n\t\t\t\tkeys: buffer.join('')\n\t\t\t}));\n\t\t}\n\t})\n\tkonvaText.on('dragmove', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tconst stage = stageRef.value.getNode();\n\t\tstage.container().style.cursor = 'grab';\n\t\tconst previewTextToDrag = previewLayer.findOne(`#${konvaText.id()}`);\n\t\tif (previewTextToDrag) {\n\t\t\tpreviewTextToDrag.position(konvaText.position());\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t});\n\ttr.on('transform', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tupdateTextareaPosition();\n\t\tconst previewTextToResize = previewLayer.findOne(`#${konvaText.id()}`);\n\t\tconst scaleX = konvaText.scaleX() || 1;\n\t\tconst scaleY = konvaText.scaleY() || 1;\n\t\tconst origFontSize = konvaText.getAttr('originalFontSize') || 32;\n\t\tconst origWidth = konvaText.getAttr('originalWidth') || 220;\n\t\tconst origHeight = konvaText.getAttr('originalHeight') || 80;\n\t\tconst newFontSize = origFontSize * scaleX;\n\t\tconst newWidth = origWidth * scaleX;\n\t\tconst newHeight = origHeight * scaleY;\n\t\tif (previewTextToResize) {\n\t\t\tpreviewTextToResize.x(konvaText.x());\n\t\t\tpreviewTextToResize.y(konvaText.y());\n\t\t\tpreviewTextToResize.fontSize(newFontSize);\n\t\t\tpreviewTextToResize.width(newWidth);\n\t\t\tpreviewTextToResize.height(newHeight);\n\t\t\tpreviewTextToResize.scaleX(1);\n\t\t\tpreviewTextToResize.scaleY(1);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"resize-shape\",\n\t\t\t\tid: konvaText.id(),\n\t\t\t\tx: konvaText.x(),\n\t\t\t\ty: konvaText.y(),\n\t\t\t\twidth: newWidth,\n\t\t\t\theight: newHeight,\n\t\t\t\tfontSize: newFontSize,\n\t\t\t}));\n\t\t}\n\t})\n\ttr.on('transformend', () => {\n\t\tupdateTextareaPosition();\n\t})\n\tlayer.draw();\n};\n\n\nconst handleDblClick = (e) => {\n\tconst konvaImg = e.target;\n\tconst layer = layerRef.value.getNode();\n\tif (!layer || !konvaImg) return;\n\tconst tr = new Konva.Transformer({\n\t\tnodes: [konvaImg],\n\t\tborderStroke: \"#ffc107\",\n\t\tborderDash: [5, 5],\n\t\tborderStrokeWidth: 1,\n\t\tborderDashOffset: 0,\n\t\tborderJoinStyle: \"round\",\n\t\tscalingEnabled: true,\n\t\tenabledAnchors: [\"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"],\n\t\tkeepRatio: true,\n\t\tkeepRatioByExpanding: true,\n\t\trotateEnabled: false,\n\t\tboundBoxFunc: (oldBox, newBox) => {\n\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\treturn oldBox;\n\t\t\t}\n\t\t\treturn newBox;\n\t\t},\n\t});\n\tdisableTransformers();\n\ttransformers.push(tr);\n\tlayer.add(tr);\n\tconst getDeleteButtonPos = () => {\n\t\tconst scaleX = konvaImg.scaleX() || 1;\n\t\treturn { x: konvaImg.x() + konvaImg.width() * scaleX - 15, y: konvaImg.y() - 15 };\n\t};\n\tconst initialPos = getDeleteButtonPos();\n\tconst deleteGroup = new Konva.Group({\n\t\tx: initialPos.x,\n\t\ty: initialPos.y,\n\t\topacity: 0,\n\t\tlistening: true\n\t});\n\tconst deleteCircle = new Konva.Circle({\n\t\tradius: 14,\n\t\tfill: '#dc3545',\n\t\tstroke: '#ffffff',\n\t\tstrokeWidth: 2,\n\t\tshadowColor: '#000',\n\t\tshadowBlur: 6,\n\t\tshadowOffset: { x: 0, y: 2 },\n\t\tshadowOpacity: 0.3\n\t});\n\tconst deleteIcon = new Konva.Path({\n\t\tdata: 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6',\n\t\tstroke: '#fff',\n\t\tstrokeWidth: 2,\n\t\tstrokeLineCap: 'round',\n\t\tstrokeLineJoin: 'round',\n\t\tscaleX: 0.8,\n\t\tscaleY: 0.8,\n\t\tx: -8,\n\t\ty: -8\n\t});\n\tdeleteGroup.add(deleteCircle);\n\tdeleteGroup.add(deleteIcon);\n\tdeleteGroup.on('click', (e) => {\n\t\te.evt.stopPropagation();\n\t\tdeleteImage(konvaImg, tr, deleteGroup);\n\t});\n\tdeleteGroup.on('mouseenter', () => {\n\t\tdeleteCircle.fill('#c82333');\n\t\tstageRef.value.getNode().container().style.cursor = 'pointer';\n\t\tlayer.batchDraw();\n\t});\n\tdeleteGroup.on('mouseleave', () => {\n\t\tdeleteCircle.fill('#dc3545');\n\t\tstageRef.value.getNode().container().style.cursor = 'default';\n\t\tlayer.batchDraw();\n\t});\n\tdeleteButtons.push(deleteGroup);\n\tlayer.add(deleteGroup);\n\tdeleteGroup.to({\n\t\topacity: 1,\n\t\tduration: 0.2\n\t});\n\tconst updateDeleteButtonPosition = () => {\n\t\tconst pos = getDeleteButtonPos();\n\t\tdeleteGroup.x(pos.x);\n\t\tdeleteGroup.y(pos.y);\n\t};\n\n\ttr.on('transform', () => {\n\t\tupdateDeleteButtonPosition();\n\t\tlayer.batchDraw();\n\t\tconst previewImageToResize = previewLayer.findOne(`#${konvaImg.id()}`);\n\t\tif (previewImageToResize) {\n\t\t\tpreviewImageToResize.x(konvaImg.x());\n\t\t\tpreviewImageToResize.y(konvaImg.y());\n\t\t\tpreviewImageToResize.width(konvaImg.width() * konvaImg.scaleX());\n\t\t\tpreviewImageToResize.height(konvaImg.height() * konvaImg.scaleY());\n\t\t\tpreviewImageToResize.scaleX(1);\n\t\t\tpreviewImageToResize.scaleY(1);\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"img_resize\",\n\t\t\t\tid: konvaImg.id(),\n\t\t\t\tx: konvaImg.x(),\n\t\t\t\ty: konvaImg.y(),\n\t\t\t\twidth: konvaImg.width() * konvaImg.scaleX(),\n\t\t\t\theight: konvaImg.height() * konvaImg.scaleY()\n\t\t\t}));\n\t\t}\n\t});\n\tlayer.draw();\n}\n\nconst deleteImage = (imageNode, transformer, deleteBtn) => {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer) return;\n\tconst imageId = imageNode.id();\n\tif (texts.includes(imageId)) texts.splice(texts.indexOf(imageId), 1)\n\tif (document.getElementById(\"textarea\")) document.getElementById(\"textarea\").remove()\n\timageNode.destroy();\n\tif (transformer) {\n\t\ttransformer.destroy();\n\t}\n\tif (deleteBtn) {\n\t\tdeleteBtn.destroy();\n\t}\n\tconst trIndex = transformers.indexOf(transformer);\n\tif (trIndex > -1) {\n\t\ttransformers.splice(trIndex, 1);\n\t}\n\tconst btnIndex = deleteButtons.indexOf(deleteBtn);\n\tif (btnIndex > -1) {\n\t\tdeleteButtons.splice(btnIndex, 1);\n\t}\n\tlayer.batchDraw();\n\tconst previewImage = previewLayer.findOne(`#${imageId}`);\n\tif (previewImage) {\n\t\tpreviewImage.destroy();\n\t\tpreviewLayer.batchDraw();\n\t}\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"img_delete\",\n\t\t\tid: imageId\n\t\t}));\n\t}\n\taddToHistory();\n}\n\nconst disableTransformers = () => {\n\tfor (const transformer of transformers) {\n\t\ttransformer.destroy();\n\t}\n\tfor (const btn of deleteButtons) {\n\t\tbtn.destroy();\n\t}\n\ttransformers.length = 0;\n\tdeleteButtons.length = 0;\n}\n\nconst finishTextEditing = () => {\n\tconst textarea = document.getElementById(\"textarea\");\n\tif (!textarea || !textarea.dataset.textId) return;\n\tconst layer = layerRef.value.getNode();\n\tconst konvaText = layer.findOne(`#${textarea.dataset.textId}`);\n\tif (konvaText) {\n\t\tkonvaText.text(textarea.value);\n\t\tlayer.draw();\n\t\tdocument.body.removeChild(textarea);\n\t\tkonvaText.show();\n\t}\n\ttexts.forEach(konvaTextId => {\n\t\tconst found = layer.findOne(`#${konvaTextId}`);\n\t\tif (found) {\n\t\t\tfound.draggable(true);\n\t\t\tfound.show()\n\t\t}\n\t\tconst previewText = previewLayer.findOne(`#${konvaTextId}`);\n\t\tif (previewText) {\n\t\t\tpreviewText.text(konvaText.text());\n\t\t\tpreviewLayer.draw();\n\t\t\tpreviewText.draggable(true);\n\t\t\tpreviewText.show()\n\t\t}\n\t})\n\tdisableTransformers();\n}\n\nconst handleStageClick = (e) => {\n\tconst target = e.target;\n\tif (target && (target.className === 'Transformer' || target.getParent()?.className === 'Transformer')) {\n\t\treturn;\n\t}\n\tfinishTextEditing();\n\tdisableTransformers();\n}\n\nconst check_visitor = async () => {\n\tif (MODE === 'demo') {\n\t\tvisitor.value = true;\n\t\treturn;\n\t}\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/status`, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: { \"X-CSRFToken\": csrf },\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tlet response = await data.json()\n\t\tif (response.status === 200 && response.user) visitor.value = true;\n\t\telse visitor.value = false;\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nconst togglePane = () => {\n\tpaneToggler.value = !paneToggler.value;\n\tconst stage = stageRef.value.getNode();\n\tif (paneToggler.value) {\n\t\tisPanning.value = true;\n\t\tisDrawing.value = false;\n\t\tstage.draggable(true);\n\t\tstage.container().style.cursor = 'grab';\n\t} else {\n\t\tisPanning.value = false;\n\t\tstage.draggable(false);\n\t\tstage.container().style.cursor = 'default';\n\t}\n}\n\nconst toggleShapeSelector = () => {\n\tshowShapeSelector.value = !showShapeSelector.value;\n}\n\nconst toggleBookmark = async () => {\n\tconst me = new URL(window.location.href).pathname.split(\"/\")[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/bookmark/${room.value}`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"user\": me,\n\t\t\t\t\"status\": isBookmarked.value\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200 && response.bookmarked) {\n\t\t\tisBookmarked.value = true;\n\t\t} else {\n\t\t\tisBookmarked.value = false;\n\t\t}\n\t} catch (e) {\n\t\tisBookmarked.value = false;\n\t}\n}\n\nconst check_book_mark = async () => {\n\tconst me = new URL(window.location.href).pathname.split(\"/\")[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/is_bookmarked/${room.value}`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrf\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"user\": me\n\t\t\t}),\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tconst response = await data.json();\n\t\tif (response.status === 200 && response.bookmarked) isBookmarked.value = true;\n\t\telse isBookmarked.value = false;\n\t} catch (e) {\n\t\tisBookmarked.value = false;\n\t}\n}\nconst show_text = computed(() => windowWidth.value > 1300);\nconst stageConfig = {\n\twidth: 2 * document.documentElement.clientWidth,\n\theight: 2 * document.documentElement.clientHeight,\n\tdraggable: false\n};\n\nconst ws = ref(null)\nconst rawUrl = WS_URL\nconst cleanBase = rawUrl.endsWith('/') ? rawUrl.slice(0, -1) : rawUrl;\nconst finalUrl = `${cleanBase}/${room.value}/`;\nif (wsConnections[room.value]) {\n\tws.value = wsConnections[room.value]\n\tdelete wsConnections[room.value]\n} else {\n\tws.value = new WebSocket(finalUrl)\n}\nws.value.onmessage = async (event) => {\n\tconst data = JSON.parse(event.data);\n\tif (!data || !data.type) return;\n\tconst layer = layerRef.value.getNode();\n\tif (data.type === \"start\") {\n\t\tconst isEraserRemote = data.operation === 'destination-out';\n\t\tconst mainLineConfig = {\n\t\t\tstroke: data.stroke,\n\t\t\tstrokeWidth: data.width,\n\t\t\tglobalCompositeOperation: data.operation,\n\t\t\tpoints: data.points,\n\t\t\tlineCap: \"round\",\n\t\t\tlineJoin: \"round\",\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst previewLineConfig = {\n\t\t\tstroke: isEraserRemote ? background.value : data.stroke,\n\t\t\tstrokeWidth: data.width,\n\t\t\tglobalCompositeOperation: data.operation,\n\t\t\tpoints: data.points,\n\t\t\tlineCap: \"round\",\n\t\t\tlineJoin: \"round\",\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst mainLine = new Konva.Line(mainLineConfig);\n\t\tconst previewLine = new Konva.Line(previewLineConfig);\n\t\tmainLine._remote = true;\n\t\tpreviewLine._remote = true;\n\t\tlayer.add(mainLine);\n\t\tmainLine.moveToTop();\n\t\tpreviewLayer.add(previewLine);\n\t\tpreviewLine.moveToTop();\n\t\tcurrentLine.value = { main: mainLine, preview: previewLine, _remote: true };\n\t} else if (data.type === \"draw\" && currentLine.value?._remote) {\n\t\tconst mainPoints = currentLine.value.main.points();\n\t\tmainPoints.push(...data.points);\n\t\tcurrentLine.value.main.points(mainPoints);\n\t\tconst previewPoints = currentLine.value.preview.points();\n\t\tpreviewPoints.push(...data.points);\n\t\tcurrentLine.value.preview.points(previewPoints);\n\t\tlayer.batchDraw();\n\t\tpreviewLayer.batchDraw();\n\t} else if (data.type === \"bg\" && data.bg) {\n\t\tbackground.value = data.bg\n\t\tmotiv.value = data.bg === \"#ffffff\"\n\t} else if (data.type == \"img\") {\n\t\tconst img = new window.Image();\n\t\timg.src = data.src;\n\t\timg.onload = () => {\n\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\tid: data.id,\n\t\t\t\timage: img,\n\t\t\t\tx: data.x,\n\t\t\t\ty: data.y,\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tdraggable: false,\n\t\t\t});\n\t\t\tapplyCrop(konvaImg);\n\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\tlayer.add(konvaImg);\n\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\tid: data.id,\n\t\t\t\timage: img,\n\t\t\t\tx: data.x,\n\t\t\t\ty: data.y,\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t});\n\t\t\tpreviewLayer.add(previewImg);\n\t\t\tpreviewLayer.batchDraw();\n\t\t\tlayer.batchDraw();\n\t\t};\n\t\timg.onerror = () => console.error(\"Remote image failed to load\", data.id);\n\t} else if (data.type === \"img_delete\" && data.id) {\n\t\tconst imageToDelete = layer.findOne(`#${data.id}`);\n\t\tif (imageToDelete) {\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(imageToDelete));\n\t\t\tconst btn = deleteButtons.find(b => {\n\t\t\t\tconst btnX = b.x();\n\t\t\t\tconst btnY = b.y();\n\t\t\t\tconst imgX = imageToDelete.x();\n\t\t\t\tconst imgY = imageToDelete.y();\n\t\t\t\tconst imgWidth = imageToDelete.width();\n\t\t\t\treturn Math.abs(btnX - (imgX + imgWidth - 15)) < 5 && Math.abs(btnY - (imgY - 15)) < 5;\n\t\t\t});\n\t\t\tconst previewImage = previewLayer.findOne(`#${data.id}`);\n\t\t\tif (previewImage) {\n\t\t\t\tpreviewImage.destroy();\n\t\t\t}\n\t\t\timageToDelete.destroy();\n\t\t\tif (tr) {\n\t\t\t\ttr.destroy();\n\t\t\t\tconst trIndex = transformers.indexOf(tr);\n\t\t\t\tif (trIndex > -1) transformers.splice(trIndex, 1);\n\t\t\t}\n\t\t\tif (btn) {\n\t\t\t\tbtn.destroy();\n\t\t\t\tconst btnIndex = deleteButtons.indexOf(btn);\n\t\t\t\tif (btnIndex > -1) deleteButtons.splice(btnIndex, 1);\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t} else if (data.type === \"img_resize\" && data.id) {\n\t\tconst imageToResize = layer.findOne(`#${data.id}`);\n\t\tconst previewImageToResize = previewLayer.findOne(`#${data.id}`);\n\t\tif (imageToResize) {\n\t\t\timageToResize.x(data.x);\n\t\t\timageToResize.y(data.y);\n\t\t\timageToResize.width(data.width);\n\t\t\timageToResize.height(data.height);\n\t\t\timageToResize.scaleX(1);\n\t\t\timageToResize.scaleY(1);\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(imageToResize));\n\t\t\tif (tr) {\n\t\t\t\ttr.forceUpdate();\n\t\t\t}\n\t\t\tconst btn = deleteButtons.find(b => {\n\t\t\t\tconst btnX = b.x();\n\t\t\t\tconst btnY = b.y();\n\t\t\t\tconst imgX = imageToResize.x();\n\t\t\t\tconst imgY = imageToResize.y();\n\t\t\t\tconst imgWidth = imageToResize.width();\n\t\t\t\treturn Math.abs(btnX - (imgX + imgWidth - 15)) < 5 && Math.abs(btnY - (imgY - 15)) < 5;\n\t\t\t});\n\t\t\tif (btn) {\n\t\t\t\tbtn.x(data.x + data.width - 15);\n\t\t\t\tbtn.y(data.y - 15);\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewImageToResize) {\n\t\t\tpreviewImageToResize.x(data.x);\n\t\t\tpreviewImageToResize.y(data.y);\n\t\t\tpreviewImageToResize.width(data.width);\n\t\t\tpreviewImageToResize.height(data.height);\n\t\t\tpreviewImageToResize.scaleX(1);\n\t\t\tpreviewImageToResize.scaleY(1);\n\t\t\tpreviewLayer.draw();\n\t\t}\n\t} else if (data.type === \"history_update\" && data.history) {\n\t\tstroke_history.value = data.history\n\t\thistory_index.value = data.index\n\t} else if (data.type === \"undo\") {\n\t\tawait undo();\n\t} else if (data.type === \"redo\") redo();\n\telse if (data.type === \"sync-request\") {\n\t\tautosave()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tconst storageKey = MODE === 'demo' ? 'demo' : room.value;\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"sync-response\",\n\t\t\t\tcontext: localStorage.getItem(storageKey)\n\t\t\t}))\n\t\t}\n\t} else if (data.type === \"sync-response\") {\n\t\tresponded.value = true\n\t\tif (!layerRef.value) {\n\t\t\tawait nextTick();\n\t\t}\n\t\tif (data.context && layerRef.value) {\n\t\t\tawait applyStateToLayer(data.context);\n\t\t}\n\t} else if (data.type === \"clearall\") {\n\t\tclearDefinetely(false) //prevent recursive ws calls\n\t} else if (data.type === \"shape\" && data.shapeType) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tlet shape;\n\t\tlet previewShape;\n\t\tconst shapeConfig = {\n\t\t\tid: data.id,\n\t\t\tx: data.x,\n\t\t\ty: data.y,\n\t\t\tdraggable: true,\n\t\t};\n\t\tif (data.shapeType === 'text') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tfill: data.fill,\n\t\t\t\tfontSize: data.fontSize,\n\t\t\t\tfontFamily: data.fontFamily,\n\t\t\t\ttext: data.text,\n\t\t\t\talign: data.align,\n\t\t\t\tverticalAlign: data.verticalAlign,\n\t\t\t});\n\t\t\tshape = new Konva.Text(shapeConfig);\n\t\t\tshape.setAttr('originalFontSize', data.fontSize);\n\t\t\tshape.setAttr('originalWidth', data.width);\n\t\t\tshape.setAttr('originalHeight', data.height);\n\t\t\tpreviewShape = new Konva.Text({ ...shapeConfig });\n\t\t\tpreviewShape.setAttr('originalFontSize', data.fontSize);\n\t\t\tpreviewShape.setAttr('originalWidth', data.width);\n\t\t\tpreviewShape.setAttr('originalHeight', data.height);\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"text\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tshape.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(shape);\n\t\t\t});\n\t\t\tpreviewShape.on('dblclick', (e) => {\n\t\t\t\te.evt.stopPropagation();\n\t\t\t\thandleTextClick(shape);\n\t\t\t});\n\t\t} else if (data.shapeType === 'arrow') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\tpoints: data.points,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t\tpointerLength: data.pointerLength,\n\t\t\t\tpointerWidth: data.pointerWidth,\n\t\t\t\tfill: data.fill,\n\t\t\t});\n\t\t\tshape = new Konva.Arrow(shapeConfig);\n\t\t\tpreviewShape = new Konva.Arrow({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"arrow\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (data.shapeType === 'circle') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\tradius: data.radius,\n\t\t\t\tfill: data.fill,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t});\n\t\t\tshape = new Konva.Circle(shapeConfig);\n\t\t\tpreviewShape = new Konva.Circle({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"circle\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (data.shapeType === 'square') {\n\t\t\tObject.assign(shapeConfig, {\n\t\t\t\twidth: data.width,\n\t\t\t\theight: data.height,\n\t\t\t\tfill: data.fill,\n\t\t\t\tstroke: data.stroke,\n\t\t\t\tstrokeWidth: data.strokeWidth,\n\t\t\t});\n\t\t\tshape = new Konva.Rect(shapeConfig);\n\t\t\tpreviewShape = new Konva.Rect({ ...shapeConfig });\n\t\t\tshape.on('dragmove', () => {\n\t\t\t\tpreviewShape.position(shape.position());\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: shape.position(),\n\t\t\t\t\t\tid: shape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\tpreviewShape.on('dragmove', () => {\n\t\t\t\tshape.position(previewShape.position());\n\t\t\t\tlayer.batchDraw();\n\t\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\t\ttype: \"shape-drag\",\n\t\t\t\t\t\tshapeType: \"square\",\n\t\t\t\t\t\tnewpos: previewShape.position(),\n\t\t\t\t\t\tid: previewShape.id(),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (shape && previewShape) {\n\t\t\tlayer.add(shape);\n\t\t\tpreviewLayer.add(previewShape);\n\t\t\tshape.moveToTop();\n\t\t\tpreviewShape.moveToTop();\n\t\t\tlayer.batchDraw();\n\t\t\tpreviewLayer.batchDraw();\n\t\t\tif (data.shapeType === 'text') {\n\t\t\t\ttexts.push(data.id);\n\t\t\t}\n\t\t}\n\t} else if (data.type === \"shape-drag\" && data.shapeType && data.id) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tconst shape = layer.findOne(`#${data.id}`);\n\t\tconst previewShape = previewLayer.findOne(`#${data.id}`);\n\t\tif (shape) {\n\t\t\tshape.position(data.newpos);\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewShape) {\n\t\t\tpreviewShape.position(data.newpos);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t} else if (data.type === \"resize-shape\" && data.id) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tconst shape = layer.findOne(`#${data.id}`);\n\t\tconst previewShape = previewLayer.findOne(`#${data.id}`);\n\t\tif (shape) {\n\t\t\tshape.x(data.x);\n\t\t\tshape.y(data.y);\n\t\t\tif (data.fontSize) {\n\t\t\t\tshape.setAttr('originalFontSize', data.fontSize);\n\t\t\t\tshape.fontSize(data.fontSize);\n\t\t\t}\n\t\t\tif (data.width) {\n\t\t\t\tshape.setAttr('originalWidth', data.width);\n\t\t\t\tshape.width(data.width);\n\t\t\t}\n\t\t\tif (data.height) {\n\t\t\t\tshape.setAttr('originalHeight', data.height);\n\t\t\t\tshape.height(data.height);\n\t\t\t}\n\t\t\tshape.scaleX(1);\n\t\t\tshape.scaleY(1);\n\t\t\tconst tr = transformers.find(t => t.nodes().includes(shape));\n\t\t\tif (tr) {\n\t\t\t\ttr.forceUpdate();\n\t\t\t}\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewShape) {\n\t\t\tpreviewShape.x(data.x);\n\t\t\tpreviewShape.y(data.y);\n\t\t\tif (data.fontSize) {\n\t\t\t\tpreviewShape.fontSize(data.fontSize);\n\t\t\t}\n\t\t\tif (data.width) {\n\t\t\t\tpreviewShape.width(data.width);\n\t\t\t}\n\t\t\tif (data.height) {\n\t\t\t\tpreviewShape.height(data.height);\n\t\t\t}\n\t\t\tpreviewShape.scaleX(1);\n\t\t\tpreviewShape.scaleY(1);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t} else if (data.type === \"text-modify\" && data.id) {\n\t\tconst layer = layerRef.value.getNode();\n\t\tconst shape = layer.findOne(`#${data.id}`);\n\t\tconst previewShape = previewLayer.findOne(`#${data.id}`);\n\t\tif (shape) {\n\t\t\tshape.text(data.text);\n\t\t\tlayer.batchDraw();\n\t\t}\n\t\tif (previewShape) {\n\t\t\tpreviewShape.text(data.text);\n\t\t\tpreviewLayer.batchDraw();\n\t\t}\n\t}\n};\nconst handleContextMenu = (e) => {\n\te.evt.preventDefault();\n};\nconst canvas = document.createElement('canvas');\ncanvas.width = stageConfig.width;\ncanvas.height = stageConfig.height;\nconst isSaved = ref(false)\n\nconst context = canvas.getContext('2d');\ncontext.strokeStyle = color.value;\ncontext.fillStyle = background.value\ncontext.lineJoin = 'round';\ncontext.lineWidth = Number(width_slider.value);\ncontext.lineCap = 'round';\ncontext.lineJoin = 'round';\nconst preview = document.createElement('div');\npreview.id = 'preview';\npreview.style.position = 'absolute';\npreview.style.bottom = '5px';\npreview.style.left = '5px';\npreview.style.border = '5px solid #ffc107';\npreview.style.borderRadius = \"5%\"\npreview.style.backgroundColor = background.value;\ndocument.body.appendChild(preview);\nconst previewStage = new Konva.Stage({\n\tcontainer: 'preview',\n\twidth: window.innerWidth / 8,\n\theight: window.innerHeight / 8,\n\tscaleX: 1 / 32,\n\tscaleY: 1 / 32,\n});\n\nlet previewLayer = new Konva.Layer();\nconst previewBg = new Konva.Rect({\n\tx: 0,\n\ty: 0,\n\twidth: previewStage.width() * 32,\n\theight: previewStage.height() * 32,\n\tfill: background.value,\n\tlistening: false,\n});\npreviewStage.add(previewLayer);\npreviewLayer.add(previewBg)\n\nwatch(color, (newColor) => {\n\tcontext.strokeStyle = newColor;\n});\nwatch(motiv, () => {\n\tbackground.value = motiv.value ? \"#ffffff\" : \"#000000\"\n\tcolor.value = motiv.value ? \"#000000\" : \"#ffffff\"\n\tpreviewBg.fill(background.value);\n\tpreview.style.backgroundColor = background.value;\n\tpreviewLayer.batchDraw();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"bg\",\n\t\t\tbg: background.value\n\t\t}))\n\t}\n}, { immediate: true })\n\nfunction changeZoom(mode) {\n\tconst scrolles = [50, 75, 100, 125, 150, 175, 200]\n\tconst stage = stageRef.value.getNode();\n\tconst oldScale = stage.scaleX() * 100;\n\tconst direction = mode === \"up\" ? 1 : -1;\n\tif ((oldScale === 50 && direction === -1) || (oldScale === 200 && direction === 1)) return;\n\tconst newScale = scrolles[scrolles.indexOf(oldScale) + direction] / 100;\n\tzooming.value = newScale\n\tstage.scale({ x: newScale, y: newScale });\n\tstage.batchDraw();\n}\n\nconst handleMouseWheel = (e) => {\n\te.evt.preventDefault();\n\tchangeZoom(e.evt.deltaY > 0 ? \"up\" : \"down\")\n}\n\nconst check_owner = async () => {\n\ttry {\n\t\tconst parts = new URL(window.location.href).pathname.split('/');\n\t\tconst owner = parts[2];\n\t\tconst data = await fetch(`${BASE_URL}/codraw/check_owner`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"owner\": owner,\n\t\t\t\t\"room\": room.value\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tif (response.status === 200) {\n\t\t\tadmin.value = true\n\t\t}\n\t} catch (e) {\n\t\tadmin.value = false\n\t\tconsole.error(e)\n\t}\n}\n\nconst copyInvitationLink = async () => {\n\ttry {\n\t\tconst link = window.location.href;\n\t\tawait navigator.clipboard.writeText(link);\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Invitation link copied to clipboard!\";\n\t} catch (err) {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Failed to copy the link.\";\n\t}\n};\n\nconst load = async () => {\n\tlet data = null;\n\tif (MODE === 'demo') {\n\t\tdata = localStorage.getItem(\"demo\");\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tdata = localStorage.getItem(parts);\n\t}\n\tif (data) {\n\t\tawait applyStateToLayer(data);\n\t}\n};\nconst save_definetely = async () => {\n\ttry {\n\t\tloading.value = true\n\t\tif (!title.value) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"Please provide a title for your board.\"\n\t\t}\n\t\tif (title.value.length > 66) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"The title length is to large, must be at most 60 characters.\"\n\t\t}\n\t\tif (description.value && description.value.length > 170) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"The description length is to large, must be at most 100 characters.\"\n\t\t}\n\t\tconst formData = new FormData();\n\t\tformData.append(\"project\", room.value);\n\t\tformData.append(\"title\", title.value);\n\t\tformData.append(\"description\", description.value);\n\t\tformData.append(\n\t\t\t\"payload\",\n\t\t\tJSON.stringify([{\n\t\t\t\tid: Date.now(),\n\t\t\t\timage: stageRef.value.getStage().toJSON()\n\t\t\t}])\n\t\t);\n\t\tformData.append(\"bg\", background.value);\n\t\tformData.append(\"preview\", getPreviewPicture());\n\t\tformData.append(\"type\", type.value);\n\t\tconst data = await fetch(`${BASE_URL}/codraw/save_new`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'X-CSRFToken': csrf\n\t\t\t},\n\t\t\tbody: formData,\n\t\t\tcredentials: \"include\"\n\t\t});\n\t\tconst response = await data.json()\n\t\tlet flag = true\n\t\tisVisible.value = false\n\t\tif (response.status === 200) {\n\t\t\tflag = false\n\t\t}\n\t\tawait new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\n\t\tif (!flag) {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"Board saved successfully.\"\n\t\t\tisSaved.value = true\n\t\t\tautosave()\n\t\t} else {\n\t\t\tshowPopup.value = true\n\t\t\tmessage.value = \"There was an error saving your board.\"\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nfunction getCrop(image, size) {\n\tconst width = size.width;\n\tconst height = size.height;\n\tconst aspectRatio = width / height;\n\tlet newWidth;\n\tlet newHeight;\n\tconst imageRatio = image.width / image.height;\n\tif (aspectRatio >= imageRatio) {\n\t\tnewWidth = image.width;\n\t\tnewHeight = image.width / aspectRatio;\n\t} else {\n\t\tnewWidth = image.height * aspectRatio;\n\t\tnewHeight = image.height;\n\t}\n\tlet x = 0;\n\tlet y = 0;\n\tx = (image.width - newWidth) / 2;\n\ty = (image.height - newHeight) / 2\n\treturn {\n\t\tcropX: x,\n\t\tcropY: y,\n\t\tcropWidth: newWidth,\n\t\tcropHeight: newHeight,\n\t};\n}\n\nfunction applyCrop(imgNode) {\n\tconst image = imgNode.image();\n\tif (!image) return;\n\tconst crop = getCrop(image, {\n\t\twidth: imgNode.width(),\n\t\theight: imgNode.height()\n\t});\n\timgNode.setAttrs(crop);\n}\n\n\nconst MAX_HISTORY = 30;\nfunction addToHistory() {\n\tconst layer = layerRef.value.getNode();\n\tif (!layer) return;\n\tconst children = layer.children || [];\n\tconst lastChild = children[children.length - 1];\n\tif (!lastChild) return;\n\tconst childConfig = lastChild.toJSON();\n\tif (history_index.value < stroke_history.value.length - 1) {\n\t\tstroke_history.value = stroke_history.value.slice(0, history_index.value + 1);\n\t}\n\tstroke_history.value.push(childConfig);\n\thistory_index.value = stroke_history.value.length - 1;\n\tif (stroke_history.value.length > MAX_HISTORY) {\n\t\tstroke_history.value.shift();\n\t\thistory_index.value = Math.max(0, history_index.value - 1);\n\t}\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"history_update\",\n\t\t\thistory: stroke_history.value,\n\t\t\tindex: history_index.value\n\t\t}));\n\t}\n}\n\nconst undo = async () => {\n\tif (history_index.value < 0) return;\n\tconst layer = layerRef.value.getNode();\n\tconst children = layer.children || [];\n\tconst lastChild = children[children.length - 1];\n\tif (lastChild) lastChild.destroy();\n\tconst previewChildren = previewLayer.children || [];\n\tconst lastPreviewChild = previewChildren[previewChildren.length - 1];\n\tif (lastPreviewChild) lastPreviewChild.destroy();\n\tdisableTransformers();\n\thistory_index.value--;\n\tpreviewLayer.batchDraw();\n\tlayer.batchDraw();\n}\n\nconst redo = () => {\n\tif (history_index.value >= stroke_history.value.length - 1) return;\n\telse {\n\t\thistory_index.value++;\n\t\tconst layer = layerRef.value.getNode()\n\t\tif (!stroke_history.value[history_index.value]) return;\n\t\tconst history = JSON.parse(stroke_history.value[history_index.value])\n\t\tif (history) {\n\t\t\tif (history.className === \"Image\") {\n\t\t\t\tconst image = new window.Image()\n\t\t\t\timage.src = history.attrs.src\n\t\t\t\timage.onload = () => {\n\t\t\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\t\t\tid: history.attrs.id || uuidv4(),\n\t\t\t\t\t\timage: image,\n\t\t\t\t\t\tx: history.attrs.x,\n\t\t\t\t\t\ty: history.attrs.y,\n\t\t\t\t\t\twidth: history.attrs.width || image.width,\n\t\t\t\t\t\theight: history.attrs.height || image.height,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tsrc: history.attrs.src\n\t\t\t\t\t});\n\t\t\t\t\tapplyCrop(konvaImg)\n\t\t\t\t\tkonvaImg.setAttr(\"src\", history.attrs.src);\n\t\t\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\t\t\tlayer.add(konvaImg);\n\t\t\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\t\t\tid: konvaImg.id(),\n\t\t\t\t\t\timage: image,\n\t\t\t\t\t\tx: history.attrs.x,\n\t\t\t\t\t\ty: history.attrs.y,\n\t\t\t\t\t\twidth: history.attrs.width || image.width,\n\t\t\t\t\t\theight: history.attrs.height || image.height,\n\t\t\t\t\t});\n\t\t\t\t\tpreviewLayer.add(previewImg);\n\t\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\t\tlayer.draw();\n\t\t\t\t}\n\t\t\t\timage.onerror = () => {\n\t\t\t\t\tconsole.error(\"Failed to load image for redo\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst KonvaNodeMain = Konva.Node.create(history)\n\t\t\t\tconst KonvaNodePreview = Konva.Node.create(history)\n\t\t\t\tlayer.add(KonvaNodeMain)\n\t\t\t\tpreviewLayer.add(KonvaNodePreview)\n\t\t\t\tpreviewLayer.draw()\n\t\t\t\tlayer.draw()\n\t\t\t}\n\n\t\t}\n\t}\n\tdisableTransformers();\n}\n\nconst undoWithBroadcast = async () => {\n\tawait undo();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"undo\"\n\t\t}));\n\t}\n}\n\nconst redoWithBroadcast = () => {\n\tredo();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"redo\"\n\t\t}));\n\t}\n}\n\nconst checkSaveStatus = async () => {\n\tconst owner = new URL(window.location.href).pathname.split('/')[2]\n\ttry {\n\t\tconst data = await fetch(`${BASE_URL}/codraw/check_saved`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"project\": room.value,\n\t\t\t\t\"owner\": owner\n\t\t\t})\n\t\t})\n\t\tconst response = await data.json()\n\t\tisSaved.value = response.saved\n\t} catch (e) {\n\t\tconsole.error(e)\n\t\tisSaved.value = false\n\t}\n}\n\nconst dataURLtoBlob = (dataURL) => {\n\tconst byteString = atob(dataURL.split(',')[1]);\n\tconst mimeString = dataURL.split(',')[0].split(':')[1].split(';')[0];\n\tconst ab = new ArrayBuffer(byteString.length);\n\tconst ia = new Uint8Array(ab);\n\tfor (let i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\treturn new Blob([ab], { type: mimeString });\n};\n\nconst getPreviewPicture = () => {\n\tconst stage = stageRef.value.getStage();\n\tconst layer = layerRef.value.getNode();\n\tconst bgRect = new Konva.Rect({\n\t\tx: -stage.x() / stage.scaleX(),\n\t\ty: -stage.y() / stage.scaleY(),\n\t\twidth: stage.width() / stage.scaleX(),\n\t\theight: stage.height() / stage.scaleY(),\n\t\tfill: background.value,\n\t\tlistening: false,\n\t});\n\tlayer.add(bgRect);\n\tbgRect.moveToBottom();\n\tconst dataURL = stage.toDataURL({ pixelRatio: 2 });\n\tbgRect.destroy();\n\tlayer.batchDraw();\n\treturn dataURL;\n}\n\n\nconst processImageFile = (file, x, y) => {\n\tif (!file.type.startsWith('image/')) {\n\t\treturn;\n\t}\n\tconst reader = new FileReader();\n\treader.onload = (e) => {\n\t\tconst img = new window.Image();\n\t\timg.src = e.target.result;\n\t\timg.onload = () => {\n\t\t\tconst konvaImg = new Konva.Image({\n\t\t\t\tid: uuidv4(),\n\t\t\t\timage: img,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: img.width,\n\t\t\t\theight: img.height,\n\t\t\t\tdraggable: false,\n\t\t\t\tsrc: e.target.result\n\t\t\t});\n\t\t\tapplyCrop(konvaImg);\n\t\t\tconst layer = layerRef.value.getNode();\n\t\t\tkonvaImg.setAttr(\"src\", e.target.result);\n\t\t\tkonvaImg.on('dblclick', handleDblClick);\n\t\t\tlayer.add(konvaImg);\n\t\t\tconst previewImg = new Konva.Image({\n\t\t\t\tid: konvaImg.id(),\n\t\t\t\timage: img,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: img.width,\n\t\t\t\theight: img.height,\n\t\t\t});\n\t\t\tpreviewLayer.add(previewImg);\n\t\t\tpreviewLayer.batchDraw();\n\t\t\tlayer.draw();\n\t\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\t\tws.value.send(JSON.stringify({\n\t\t\t\t\ttype: \"img\",\n\t\t\t\t\tid: konvaImg.id(),\n\t\t\t\t\tsrc: e.target.result,\n\t\t\t\t\tx: konvaImg.x(),\n\t\t\t\t\ty: konvaImg.y(),\n\t\t\t\t\twidth: konvaImg.width(),\n\t\t\t\t\theight: konvaImg.height(),\n\t\t\t\t}));\n\t\t\t}\n\t\t\taddToHistory();\n\t\t};\n\t};\n\treader.readAsDataURL(file);\n};\n\nconst handlePaste = (event) => {\n\tevent.preventDefault();\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst pointer = stage.getPointerPosition();\n\tlet point;\n\tif (pointer) {\n\t\tpoint = getRelativePointerPosition(stage);\n\t} else {\n\t\tconst visibleWidth = window.innerWidth / stage.scaleX();\n\t\tconst visibleHeight = window.innerHeight / stage.scaleY();\n\t\tconst centerX = (-stage.x() / stage.scaleX()) + visibleWidth / 2;\n\t\tconst centerY = (-stage.y() / stage.scaleY()) + visibleHeight / 2;\n\t\tpoint = { x: centerX, y: centerY };\n\t}\n\tconst clipboardData = event.clipboardData;\n\tif (!clipboardData || clipboardData.files.length === 0) {\n\t\treturn;\n\t}\n\tconst file = clipboardData.files[0];\n\tprocessImageFile(file, point.x, point.y);\n};\n\n\nconst check_save = async (mode) => {\n\ttry {\n\t\tloading.value = true\n\t\tif (mode === 'save') {\n\t\t\tif (!isSaved.value) {\n\t\t\t\tloading.value = false\n\t\t\t\tisVisible.value = true\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst formData = new FormData();\n\t\t\tconst previewBlob = dataURLtoBlob(getPreviewPicture());\n\t\t\tformData.append(\"project\", room.value);\n\t\t\tformData.append(\"payload\", JSON.stringify(stageRef.value.getStage().toJSON()));\n\t\t\tformData.append(\"bg\", background.value);\n\t\t\tformData.append(\"preview\", previewBlob, `${room.value}.webp`);\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/save_project`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'X-CSRFToken': csrf\n\t\t\t\t},\n\t\t\t\tbody: formData,\n\t\t\t\tcredentials: \"include\"\n\t\t\t});\n\t\t\tconst response = await data.json()\n\t\t\tlet flag = true;\n\t\t\tif (response.status === 200) {\n\t\t\t\tflag = false\n\t\t\t}\n\t\t\tawait new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\n\t\t\tif (!flag) {\n\t\t\t\tautosave()\n\t\t\t\tshowPopup.value = true\n\t\t\t\tmessage.value = \"Board was successfully quick saved.\"\n\t\t\t} else isVisible.value = true\n\t\t} else if (mode === 'load') {\n\t\t\tif (MODE === 'demo') {\n\t\t\t\tconst autosaved = localStorage.getItem(\"demo\")\n\t\t\t\tif (autosaved && !responded.value) {\n\t\t\t\t\tawait applyStateToLayer(autosaved)\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/load_project`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"project\": room.value,\n\t\t\t\t}),\n\t\t\t})\n\t\t\tconst response = await data.json()\n\t\t\tif (response.status === 200) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tconst autosaved = localStorage.getItem(MODE === 'demo' ? 'demo' : room.value)\n\t\t\tif (autosaved && !responded.value) {\n\t\t\t\tawait applyStateToLayer(autosaved)\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nfunction leave() {\n\tconst parts = new URL(window.location.href).pathname.split('/')[3];\n\tlocalStorage.removeItem(parts)\n\tif (origin === 'default') {\n\t\twindow.location.href = '/codraw'\n\t} else if (origin.startsWith(\"search\")) {\n\t\twindow.location.href = `/codraw/${origin}`\n\t} else if (origin.startsWith(\"account\")) {\n\t\twindow.location.href = `/codraw/${origin}`\n\t}\n\telse {\n\t\twindow.location.href = '/'\n\t}\n}\n\nfunction clearDefinetely(native) {\n\tshowPopup.value = false\n\tmessage.value = \"\"\n\tloading.value = true\n\tif (MODE === 'demo') {\n\t\tlocalStorage.removeItem(\"demo\")\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tlocalStorage.removeItem(parts)\n\t}\n\tconst layer = layerRef.value.getNode();\n\tlayer.destroyChildren();\n\tpreviewLayer.destroyChildren();\n\tdisableTransformers();\n\tlayer.batchDraw();\n\tpreviewLayer.batchDraw();\n\tif (ws.value && ws.value.readyState === WebSocket.OPEN && native) {\n\t\tws.value.send(JSON.stringify({\n\t\t\ttype: \"clearall\"\n\t\t}));\n\t}\n\tloading.value = false\n}\n\nfunction clear_all() {\n\tif (admin.value || MODE === 'demo') {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"Are you sure you would like to clear the board? This action is irreversible.\";\n\t} else {\n\t\tshowPopup.value = true;\n\t\tmessage.value = \"You don't have neccessary permissions to clear the board.\"\n\t}\n}\nconst getRelativePointerPosition = (stage) => {\n\tconst transform = stage.getAbsoluteTransform().copy();\n\ttransform.invert();\n\tconst pos = stage.getPointerPosition();\n\treturn transform.point(pos);\n};\nconst autosave = () => {\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst dataUrl = stage.toJSON();\n\tlist.value = [{\n\t\tid: Date.now(),\n\t\timage: dataUrl\n\t}];\n\tif (MODE === 'demo') {\n\t\tlocalStorage.setItem(\"demo\", JSON.stringify(list.value));\n\t} else {\n\t\tconst parts = new URL(window.location.href).pathname.split('/')[3]\n\t\tlocalStorage.setItem(parts, JSON.stringify(list.value));\n\t}\n};\n\nconst imageConfig = {\n\timage: canvas,\n\tx: 0,\n\ty: 0,\n\twidth: canvas.width,\n\theight: canvas.height\n};\nlet lastCenter = null;\nlet lastDist = 0;\nconst handleMouseDown = (e) => {\n\tif (!e.evt.touches || e.evt.touches.length == 1) {\n\t\tconst stage = e.target.getStage();\n\t\tif (e.evt.button === 2 || paneToggler.value) {\n\t\t\tstage.container().style.cursor = 'grab';\n\t\t\tisPanning.value = true;\n\t\t\tstage.draggable(true);\n\t\t\tstage.startDrag();\n\t\t\tlastPos.value = stage.getPointerPosition();\n\t\t\treturn;\n\t\t}\n\t\tif (e.target !== stage && (e.target.draggable() || e.target.getParent()?.draggable())) {\n\t\t\treturn;\n\t\t}\n\t\tisDrawing.value = true;\n\t\tstage.container().style.cursor = 'default';\n\t\tconst pos = getRelativePointerPosition(stage);\n\t\tconst isEraser = tool.value === 'eraser';\n\t\tconst mainStrokeColor = isEraser ? 'rgba(0,0,0,1)' : color.value;\n\t\tconst previewStrokeColor = isEraser ? 'rgba(0,0,0,1)' : color.value;\n\t\tconst mainLineConfig = {\n\t\t\tstroke: mainStrokeColor,\n\t\t\tstrokeWidth: Number(width_slider.value),\n\t\t\tglobalCompositeOperation: isEraser ? 'destination-out' : 'source-over',\n\t\t\tpoints: [pos.x, pos.y],\n\t\t\tlineCap: 'round',\n\t\t\tlineJoin: 'round',\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst previewLineConfig = {\n\t\t\tstroke: previewStrokeColor,\n\t\t\tstrokeWidth: Number(width_slider.value),\n\t\t\tglobalCompositeOperation: isEraser ? 'destination-out' : 'source-over',\n\t\t\tpoints: [pos.x, pos.y],\n\t\t\tlineCap: 'round',\n\t\t\tlineJoin: 'round',\n\t\t\ttension: 0.5\n\t\t};\n\t\tconst mainLine = new Konva.Line(mainLineConfig);\n\t\tconst previewLine = new Konva.Line(previewLineConfig);\n\t\tpreviewLayer.add(previewLine);\n\t\tpreviewLine.moveToTop();\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"start\",\n\t\t\t\tstroke: color.value,\n\t\t\t\twidth: Number(width_slider.value),\n\t\t\t\toperation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\n\t\t\t\tpoints: [pos.x, pos.y]\n\t\t\t}));\n\t\t}\n\t\tconst mainLayer = layerRef.value.getNode();\n\t\tmainLayer.add(mainLine);\n\t\tmainLine.moveToTop();\n\t\tpreviewLayer.draw()\n\t\tcurrentLine.value = { main: mainLine, preview: previewLine };\n\t} else if (e.evt.touches && e.evt.touches.length == 2) {\n\t\tif (e.evt.cancelable) {\n\t\t\te.evt.preventDefault();\n\t\t}\n\t\tisDrawing.value = false;\n\t\tcurrentLine.value = null;\n\t\tconst touch1 = e.evt.touches[0];\n\t\tconst touch2 = e.evt.touches[1];\n\t\tlastDist = Math.sqrt(\n\t\t\tMath.pow(touch2.clientX - touch1.clientX, 2) +\n\t\t\tMath.pow(touch2.clientY - touch1.clientY, 2)\n\t\t);\n\t\tlastCenter = {\n\t\t\tx: (touch1.clientX + touch2.clientX) / 2,\n\t\t\ty: (touch1.clientY + touch2.clientY) / 2,\n\t\t};\n\t}\n};\n\nconst handleMouseUp = (e) => {\n\tisDrawing.value = false;\n\tcurrentLine.value = null;\n\tlastDist = 0;\n\tlastCenter = null;\n\taddToHistory()\n\tif (isPanning.value) {\n\t\tconst stage = e.target.getStage();\n\t\tstage.draggable(false);\n\t\tisPanning.value = false;\n\t}\n\tif (drawFrameId !== null) {\n\t\tcancelAnimationFrame(drawFrameId);\n\t\tdrawFrameId = null;\n\t\tlayerRef.value.getNode().batchDraw();\n\t\tpreviewLayer.batchDraw();\n\t}\n};\n\nconst handleMouseMove = (e) => {\n\tif (!e.evt.touches || e.evt.touches.length == 1) {\n\t\tif (!isDrawing.value || !currentLine.value) return;\n\t\tconst stage = e.target.getStage();\n\t\tconst point = getRelativePointerPosition(stage);\n\t\tconst mainPoints = currentLine.value.main.points();\n\t\tmainPoints.push(point.x, point.y);\n\t\tcurrentLine.value.main.points(mainPoints);\n\t\tconst previewPoints = currentLine.value.preview.points();\n\t\tpreviewPoints.push(point.x, point.y);\n\t\tcurrentLine.value.preview.points(previewPoints);\n\t\tconst now = Date.now();\n\t\tif (now - lastWsSendTime >= 16 && ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tlastWsSendTime = now;\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"draw\",\n\t\t\t\tpoints: [point.x, point.y]\n\t\t\t}));\n\t\t}\n\t\tif (drawFrameId === null) {\n\t\t\tdrawFrameId = requestAnimationFrame(() => {\n\t\t\t\tlayerRef.value.getNode().batchDraw();\n\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\tdrawFrameId = null;\n\t\t\t});\n\t\t}\n\t} else if (e.evt.touches && e.evt.touches.length == 2 && lastCenter) {\n\t\tif (e.evt.cancelable) {\n\t\t\te.evt.preventDefault();\n\t\t}\n\t\tconst stage = stageRef.value.getNode();\n\t\tconst touch1 = e.evt.touches[0];\n\t\tconst touch2 = e.evt.touches[1];\n\t\tconst dist = Math.sqrt(\n\t\t\tMath.pow(touch2.clientX - touch1.clientX, 2) +\n\t\t\tMath.pow(touch2.clientY - touch1.clientY, 2)\n\t\t);\n\t\tconst newCenter = {\n\t\t\tx: (touch1.clientX + touch2.clientX) / 2,\n\t\t\ty: (touch1.clientY + touch2.clientY) / 2,\n\t\t};\n\t\tconst pointTo = {\n\t\t\tx: (newCenter.x - stage.x()) / stage.scaleX(),\n\t\t\ty: (newCenter.y - stage.y()) / stage.scaleX(),\n\t\t};\n\t\tconst scaleBy = dist / lastDist;\n\t\tconst newScale = stage.scaleX() * scaleBy;\n\t\tif (newScale > 0.05 && newScale < 5) {\n\t\t\tstage.scale({ x: newScale, y: newScale });\n\t\t\tconst newPos = {\n\t\t\t\tx: newCenter.x - pointTo.x * newScale,\n\t\t\t\ty: newCenter.y - pointTo.y * newScale,\n\t\t\t};\n\t\t\tstage.position(newPos);\n\t\t\tstage.batchDraw();\n\t\t}\n\t\tlastDist = dist;\n\t\tlastCenter = newCenter;\n\t}\n};\n\nconst handleStageResize = () => {\n\twindowWidth.value = window.innerWidth;\n\tconst stage = stageRef.value?.getNode();\n\tconst image = imageRef.value?.getNode();\n\tif (!stage || !image) return;\n\tconst newWidth = window.innerWidth;\n\tconst newHeight = window.innerHeight;\n\tcanvas.width = newWidth * 4;\n\tcanvas.height = newHeight * 4;\n\tstage.width(canvas.width);\n\tstage.height(canvas.height);\n\timage.width(canvas.width);\n\timage.height(canvas.height);\n\tconst layer = image.getLayer();\n\tif (layer) layer.batchDraw();\n};\n\nconst applyStateToLayer = async (data) => {\n\tif (!data) return;\n\tconst layer = layerRef.value?.getNode();\n\tif (!layer) {\n\t\tawait nextTick();\n\t\treturn applyStateToLayer(data);\n\t}\n\tconst parsed = typeof data === 'string' ? JSON.parse(data) : data;\n\tlet stageData = null;\n\tif (Array.isArray(parsed) && parsed[0]?.image) {\n\t\tstageData = typeof parsed[0].image === 'string' ? JSON.parse(parsed[0].image) : parsed[0].image;\n\t} else if (parsed.image) {\n\t\tstageData = typeof parsed.image === 'string' ? JSON.parse(parsed.image) : parsed.image;\n\t} else if (parsed.className === 'Stage' || parsed.children) {\n\t\tstageData = parsed;\n\t}\n\tif (!stageData) {\n\t\treturn;\n\t}\n\tlayer.destroyChildren();\n\tdisableTransformers();\n\tconst savedChildren = stageData.children?.[0]?.children || [];\n\tsavedChildren.forEach(shapeJson => {\n\t\tconst previewShape = Konva.Node.create(shapeJson);\n\t\tconst mainShape = Konva.Node.create(shapeJson);\n\t\tpreviewLayer.add(previewShape);\n\t\tlayer.add(mainShape);\n\t\tif (mainShape.className === 'Image') {\n\t\t\tapplyCrop(mainShape);\n\t\t\tmainShape.on('dblclick', handleDblClick);\n\t\t\tif (shapeJson.attrs.src) {\n\t\t\t\tconst img = new window.Image();\n\t\t\t\timg.crossOrigin = \"Anonymous\";\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tmainShape.image(img);\n\t\t\t\t\tconst previewImg = previewLayer.findOne(`#${mainShape.id()}`);\n\t\t\t\t\tif (previewImg) previewImg.image(img);\n\t\t\t\t\tlayer.batchDraw();\n\t\t\t\t\tpreviewLayer.batchDraw();\n\t\t\t\t};\n\t\t\t\timg.src = shapeJson.attrs.src;\n\t\t\t}\n\t\t}\n\t});\n\tpreviewLayer.batchDraw();\n\tlayer.batchDraw();\n};\n\nconst get_details_and_load = async () => {\n\ttry {\n\t\tif (MODE === 'default') {\n\t\t\tconst data = await fetch(`${BASE_URL}/codraw/get_details`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"project\": room.value\n\t\t\t\t})\n\t\t\t})\n\t\t\tconst response = await data.json()\n\t\t\tconst saved_json = response.canva;\n\t\t\tconst bg = response.bg;\n\t\t\tconst last_access = response.last\n\t\t\tif (bg) {\n\t\t\t\tbackground.value = bg\n\t\t\t\tmotiv.value = bg === \"#ffffff\"\n\t\t\t}\n\t\t\tconst localData = localStorage.getItem(room.value);\n\t\t\tif (localData && localData.length > saved_json.length) {\n\t\t\t\tconst parsedLocal = JSON.parse(localData);\n\t\t\t\tif (parsedLocal && parsedLocal[0] && parsedLocal[0].id > last_access) {\n\t\t\t\t\tawait load();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (saved_json) {\n\t\t\t\tawait applyStateToLayer(saved_json)\n\t\t\t}\n\t\t} else if (MODE === 'demo') {\n\t\t\tconst localData = localStorage.getItem(room.value);\n\t\t\tif (localData) {\n\t\t\t\tconst parsedLocal = JSON.parse(localData);\n\t\t\t\tif (parsedLocal && parsedLocal[0]) {\n\t\t\t\t\tawait load();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nconst handleFiles = (event) => {\n\tconst stage = stageRef.value?.getNode?.();\n\tif (!stage) return;\n\tconst files = event.target.files;\n\tif (!files || files.length === 0) return;\n\tconst visibleWidth = window.innerWidth / stage.scaleX();\n\tconst visibleHeight = window.innerHeight / stage.scaleY();\n\tconst centerX = (-stage.x() / stage.scaleX()) + visibleWidth / 2;\n\tconst centerY = (-stage.y() / stage.scaleY()) + visibleHeight / 2;\n\tArray.from(files).forEach((file, index) => {\n\t\tif (file.type.startsWith('image/')) {\n\t\t\tconst offsetX = (index % 3) * 30;\n\t\t\tconst offsetY = Math.floor(index / 3) * 30;\n\t\t\tprocessImageFile(file, centerX + offsetX, centerY + offsetY);\n\t\t}\n\t});\n\tevent.target.value = '';\n}\n\nconst keyhandler = async (event) => {\n\tif (event.ctrlKey && (event.key === 'z' || event.key === 'Z')) {\n\t\tevent.preventDefault();\n\t\tawait undo()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"undo\"\n\t\t\t}))\n\t\t}\n\t}\n\telse if (event.ctrlKey && (event.key === 'y' || event.key === 'Y')) {\n\t\tevent.preventDefault();\n\t\tredo()\n\t\tif (ws.value && ws.value.readyState === WebSocket.OPEN) {\n\t\t\tws.value.send(JSON.stringify({\n\t\t\t\ttype: \"redo\"\n\t\t\t}))\n\t\t}\n\t}\n}\n\nlet autosaveInterval = null;\n\nconst waitForSync = () => new Promise(resolve => {\n\tconst check = setInterval(() => {\n\t\tif (responded.value) {\n\t\t\tclearInterval(check);\n\t\t\tresolve();\n\t\t}\n\t}, 100);\n\tsetTimeout(() => { clearInterval(check); resolve(); }, 5000);\n});\n\nconst loadBoardData = async () => {\n\tif (await check_save('load')) {\n\t\tif (!responded.value) {\n\t\t\tget_details_and_load()\n\t\t}\n\t}\n}\n\nconst initializeBoard = async () => {\n\tif (MODE === 'demo') {\n\t\tvisitor.value = true;\n\t\tawait loadBoardData();\n\t} else {\n\t\tawait Promise.all([check_visitor(), checkSaveStatus(), loadBoardData()])\n\t\tif (visitor.value) {\n\t\t\tawait check_book_mark();\n\t\t}\n\t}\n}\n\nonMounted(async () => {\n\tloading.value = true\n\tawait nextTick();\n\tawait check_owner();\n\tif (admin.value) {\n\t\tawait loadBoardData();\n\t\tawait initializeBoard();\n\t} else {\n\t\tawait waitForSync();\n\t\tawait initializeBoard();\n\t}\n\tautosaveInterval = setInterval(() => autosave(), 60000)\n\twindow.addEventListener('keydown', keyhandler)\n\twindow.addEventListener('resize', handleStageResize);\n\twindow.addEventListener('paste', handlePaste)\n\tconst inputElement = document.getElementById(\"upload\");\n\tinputElement.addEventListener(\"change\", handleFiles);\n\tloading.value = false\n})\nonBeforeUnmount(() => {\n\tif (ws.value) {\n\t\tws.value.close()\n\t}\n\tloading.value = true\n})\nonUnmounted(() => {\n\tclearInterval(autosaveInterval)\n\twindow.removeEventListener('paste', handlePaste)\n\twindow.removeEventListener(\"keydown\", keyhandler)\n\twindow.removeEventListener(\"resize\", handleStageResize)\n\tconst inputElement = document.getElementById(\"upload\");\n\tif (inputElement) {\n\t\tinputElement.removeEventListener(\"change\", handleFiles);\n\t}\n})\n</script>\n\n<style>\nhtml,\nbody {\n\tmargin: 0;\n\theight: 100%;\n\toverflow: hidden !important;\n}\n</style>\n\n<style scoped>\n.vertical-toolbar {\n\tjustify-content: center;\n\tflex-direction: column !important;\n\tpadding: 15px 15px !important;\n}\n\n#toolbar {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 20px;\n}\n\n@media(max-width:800px) {\n\t#toolbar {\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20px 20px;\n\t\ttop: 50% !important;\n\t\ttransform: translateY(-90%) !important;\n\t\tmax-width: 70px;\n\t\tleft: 10px;\n\t}\n\n\t#toolbar input[type=\"range\"] {\n\t\twidth: 50px !important;\n\t}\n\n\t#toolbar select {\n\t\tmargin-top: 8px !important;\n\t\tfont-size: 1rem !important;\n\t\tborder-radius: 4px !important;\n\t\twidth: 50px !important;\n\t}\n\n\t#save_btn,\n\t#clearall,\n\t#exit {\n\t\twidth: 50px !important;\n\t\tfont-size: 0.5rem !important;\n\t\tpadding: 10px 10px !important;\n\t}\n}\n\n.feature-icon {\n\tfont-size: 1.25rem;\n\tcolor: orange;\n\ttransition: transform 0.3s ease;\n}\n\n#confirm_clear {\n\tbackground-color: green !important;\n\ttransition: 0.3s ease !important;\n}\n\n#confirm_clear:hover {\n\tbackground-color: #00cc00 !important;\n}\n\n.feature-icon:hover {\n\ttransform: scale(1.2) rotate(5deg);\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n\topacity: 0;\n\ttransform: translateY(-20px);\n}\n\n.spinner-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1000;\n\tbackground-color: rgba(255, 255, 255, 0.8);\n}\n\n.board-wrapper {\n\twidth: 100%;\n\theight: 100%;\n\ttouch-action: none;\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n\ttransition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n\topacity: 1;\n\ttransform: translateY(0);\n}\n\n.save:hover {\n\tbackground: #fff;\n\tcolor: #4f8cff;\n}\n\n.switch {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 40px;\n\theight: 22px;\n}\n\n.switch input {\n\topacity: 0;\n\twidth: 0;\n\theight: 0;\n}\n\n.slider {\n\tposition: absolute;\n\tcursor: pointer;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: #ccc;\n\ttransition: 0.3s;\n\tborder-radius: 34px;\n}\n\n.slider::before {\n\tposition: absolute;\n\tcontent: \"\";\n\theight: 16px;\n\twidth: 16px;\n\tleft: 3px;\n\ttop: 3px;\n\tbackground-color: white;\n\ttransition: 0.3s;\n\tborder-radius: 50%;\n}\n\ninput:checked+.slider {\n\tbackground-color: #4f8cff;\n}\n\ninput:checked+.slider::before {\n\ttransform: translateX(18px);\n}\n\n@media(max-width:1500px) {\n\t#toolbar {\n\t\tfont-size: 0.8rem;\n\t\tgap: 10px;\n\t}\n}\n\n@media(max-width:1330px) {\n\t#toolbar {\n\t\tleft: 2% !important;\n\t}\n\n\t#inv {\n\t\tright: 0.5rem;\n\t\tfont-size: 0.5rem;\n\t}\n}\n\n@media(max-width:1150px) {\n\t#toolbar {\n\t\tgap: 5px !important;\n\t}\n}\n\n@media(max-width:950px) {\n\t#inv_div {\n\t\ttop: 140px !important;\n\t\tposition: fixed !important;\n\t}\n}\n\n@media(max-width:800px) {\n\t#inv_div {\n\t\ttop: 10px !important;\n\t}\n}\n\n#zoom {\n\tposition: fixed;\n\tright: 10px;\n\tbottom: 10px;\n\tbackground-color: white;\n\tz-index: 10;\n}\n\n\n#inv:hover,\n#bookmark-btn:hover,\n#save_btn:hover,\n#save_def:hover,\n#close_form:hover {\n\tbackground: #fff !important;\n\tcolor: #4f8cff !important;\n}\n\n#exit:hover {\n\tbackground: #fff !important;\n\tcolor: #ff4f4f !important;\n}\n\n#clearall:hover {\n\tbackground: #fff !important;\n\tcolor: #f68608 !important;\n}\n</style>\n","import script from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BoArd.vue?vue&type=style&index=0&id=2d78578a&lang=css\"\nimport \"./BoArd.vue?vue&type=style&index=1&id=2d78578a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d78578a\"]])\n\nexport default __exports__","<template>\n    <div class=\"d-flex flex-column min-vh-100\">\n        <div class=\"flex-grow-1 d-flex flex-column justify-content-center align-items-center mt-2 mb-3\">\n        <h1 class=\"my-4\" style=\"color: yellow;\">Password Restoration</h1>\n        <Transition name=\"fade-slide\">\n            <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\n                role=\"alert\"\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\n                <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n                    <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\n                </div>\n            </div>\n        </Transition>\n        <Transition name=\"fade-slide\">\n            <div v-if=\"updated\" class=\"alert alert-success text-center custom-alert p-2\"\n                role=\"alert\"\n                style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(40,167,69,0.10); background: #222; border: 1.5px solid #28a745;\">\n                <button @click=\"updated=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #28a745; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\n                <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\n                    <strong style=\"color: #28a745; font-size: 1rem;\">Password successfully updated!</strong>\n                    <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">You can now sign in with your new password. You will be redirected in 10 seconds to the sign in page.</div>\n                </div>\n            </div>\n        </Transition>\n        <div v-if=\"loading\" class=\"spinner-overlay d-flex justify-content-center align-items-center\">\n            <VueSpinnerTail size=\"60\" color=\"orange\" />\n        </div>\n        <Transition name=\"fade-slide\">\n            <div class=\"container align-items-center w-25 mt-4 bg-white rounded p-4\">\n                <h2 class=\"text-center mb-5 text-black\">Enter New Password</h2>\n                <div class=\"input-group\">\n                    <input type=\"password\" id=\"new\" v-model=\"new_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Enter new password\" required/>\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('new_password')\" />\n                </div>\n                <div class=\"input-group\">\n                    <input type=\"password\" id=\"confirm\" v-model=\"confirm_password\" class=\"form-control bg-dark text-black bg-white border-secondary mb-3\" placeholder=\"Confirm new password\" required/>\n                    <font-awesome-icon :icon=\"['fas', 'eye']\" class=\"input-icon mt-2 mx-2\" style=\"cursor: pointer;\" @click=\"togglePasswordVisibility('confirm_password')\" />\n                </div>\n                <div v-if=\"new_password===confirm_password && new_password.length>0\">\n                    <button @click=\"init()\" class=\"btn btn-primary w-100 mt-2\">Restore Password</button>\n                </div>\n                <div v-else>\n                    <button disabled class=\"btn btn-secondary w-100 mt-2\">Restore Password</button>\n                    <label class=\"text-danger mt-2 d-block text-center\">Passwords do not match.</label>\n                </div>\n            </div>\n        </Transition>\n        </div>\n        <Footer />\n    </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue'\nimport {BASE_URL} from '../common.js'\nimport { get_cookie } from '@/common'\nimport {VueSpinnerTail} from 'vue3-spinners'\nimport Footer from '@/components/Footer.vue'\nconst message = ref('')\nconst invalid = ref(false)\nconst loading=ref(false);\nconst updated=ref(false);\nconst new_password=ref('');\nconst confirm_password=ref('');\n\nfunction togglePasswordVisibility(field) {\n    const inputField = field === 'new_password' ? document.querySelector('#new') : document.querySelector('#confirm');\n    if (inputField.type === 'password') {\n        inputField.type = 'text';\n    } else {\n        inputField.type = 'password';\n    }\n}\n\nasync function restorePassword(){\n    try{\n        loading.value=true;\n        const code =new URL(window.location.href).pathname.split('/')[2]\n        const data=await fetch(`${BASE_URL}/recover/${code}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': get_cookie('csrftoken')\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n                new_password: new_password.value,\n            })\n        })\n        const response=await data.json()\n        return response.status===200\n    }catch(err){\n        loading.value=false;\n        message.value=\"An error occurred. Please try again.\";\n        invalid.value=true;\n    }\n    loading.value=false;\n}\n\nconst init=()=>{\n    restorePassword().then((res)=>{\n    loading.value=false;\n    if(res){\n        updated.value=true;\n        setTimeout(()=>{\n            window.location.href=`${window.location.origin}/signin`\n        },10000)\n    }else{\n        message.value=\"Failed to update password. The recovery link may be invalid or expired.\";\n        invalid.value=true;\n    }\n    })\n}\n\n\n\nonMounted(()=>{\n    loading.value=true;\n    const code =ref(new URL(window.location.href).pathname.split('/')[2])\n    async function isValid(){\n        try{\n            const data=await fetch(`${BASE_URL}/recover/${code.value}`, {\n                method: 'GET',\n                headers: {\n                    'X-CSRFToken': get_cookie('csrftoken')\n                },\n                credentials: 'include'\n            })\n            const response=await data.json()\n            return response.status===200\n        }catch(err){\n            window.location.href='/signin'\n        }\n    }\n    isValid().then((res)=>{\n        loading.value=false;\n        if(!res){\n            message.value=\"Recovery link is either invalid or expired.\"\n            invalid.value=true;\n        }\n    })\n})\n</script>\n\n<style>\n.code-input {\n    width: 5rem;\n    height: 5rem;\n    margin: 0 0.3rem;\n    font-size: 2rem;\n    text-align: center;\n    border: 2px solid #ffc107;\n    border-radius: 8px;\n    background: #222;\n    color: #fff;\n    outline: none;\n    transition: border 0.2s, background 0.2s;\n}\n.code-input:focus {\n  border-color: #007bff;\n  background: #333;\n}\n.popup-card .btn-primary {\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\n  color: #181818;\n  font-weight: 700;\n  border: none;\n  border-radius: 0.7rem;\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  margin-top: 1.2rem;\n}\n.popup-card .btn-primary:hover {\n  background: #007bff !important;\n  color: #fff !important;\n  transform: scale(1.05);\n}\n\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n  opacity: 0;\n  transform:translateY(-20px);\n}\n\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\n}\n\n.fade-slide-enter-to,\n.fade-slide-leave-from {\n  opacity: 1;\n  transform:translateY(0);\n}\n\n.spinner-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n</style>\n","import script from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RestorePassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RestorePassword.vue?vue&type=style&index=0&id=b52fa55a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"learn-more-container\" id=\"learn-more\">\n    <div class=\"content-wrapper\">\n      <img\n        :src=\"logo\"\n        alt=\"CoDraw Logo\"\n        class=\"learn-more-logo\"\n      >\n      <h1 class=\"learn-more-title\">About CoDraw</h1>\n      <section class=\"learn-more-section\">\n        <p class=\"learn-more-text\">\n          CoDraw is an innovative platform designed to facilitate collaborative drawing and creativity. Whether you're an artist looking to share your work or someone who enjoys doodling with friends, CoDraw provides the perfect space to connect and create together.\n        </p>\n        <p class=\"learn-more-text\">\n          Our mission is to bring people together through art, fostering a community where creativity knows no bounds. With a variety of tools and features, CoDraw makes it easy for users of all skill levels to participate in collaborative projects.\n        </p>\n        <p class=\"learn-more-text\">\n          Join us today and start creating amazing artwork with others! If you are interested in contributing to the development of CoDraw, check out our <a href=\"https://github.com/Damian0563/CoDraw\" class=\"github-link\">GitHub</a>\n        </p>\n      </section>\n    </div>\n  </div>\n  <FoOter/>\n</template>\n\n<script>\nimport logo from '@/assets/logo.webp';\nimport FoOter from './Footer.vue';\nexport default {\n  name: \"LearnMore\",\n  components: {\n    FoOter\n  },\n  data() {\n    return {\n      logo,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.learn-more-container {\n  background: linear-gradient(135deg, #000000, #111111, #0a0a0a);\n  background-size: 400% 400%;\n  animation: gradientMove 12s ease infinite;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 120px 2rem 4rem 2rem;\n  color: white;\n}\n\n@keyframes gradientMove {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n.content-wrapper {\n  max-width: 800px;\n  text-align: center;\n}\n\n.learn-more-logo {\n  max-height: 200px;\n  border-radius: 1rem;\n  box-shadow: 0 0 30px rgba(255, 255, 0, 0.2);\n  transition: transform 0.5s ease;\n  margin-bottom: 2rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.learn-more-logo:hover {\n  transform: scale(1.05) rotate(1deg);\n}\n\n.learn-more-title {\n  font-size: 3rem;\n  font-weight: 700;\n  color: yellow;\n  margin-bottom: 2rem;\n  letter-spacing: 2px;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.2s;\n}\n\n.learn-more-section {\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.4s;\n}\n\n.learn-more-text {\n  color: #e0e0e0;\n  font-size: 1.2rem;\n  line-height: 1.8;\n  margin-bottom: 1.5rem;\n}\n\n.github-link {\n  color: yellow;\n  font-weight: 600;\n  text-decoration: none;\n  border-bottom: 2px solid transparent;\n  transition: all 0.3s ease;\n}\n\n.github-link:hover {\n  color: gold;\n  border-bottom-color: gold;\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@media (max-width: 768px) {\n  .learn-more-container {\n    padding: 2rem 1rem;\n  }\n\n  .learn-more-title {\n    font-size: 2rem;\n  }\n\n  .learn-more-text {\n    font-size: 1rem;\n  }\n\n  .learn-more-logo {\n    max-height: 150px;\n  }\n}\n</style>\n","import { render } from \"./LearnMore.vue?vue&type=template&id=3d77b7a4&scoped=true\"\nimport script from \"./LearnMore.vue?vue&type=script&lang=js\"\nexport * from \"./LearnMore.vue?vue&type=script&lang=js\"\n\nimport \"./LearnMore.vue?vue&type=style&index=0&id=3d77b7a4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d77b7a4\"]])\n\nexport default __exports__","<template>\n  <div class=\"not-found-background\">\n    <div class=\"not-found-content\">\n      <font-awesome-icon :icon=\"['fas', 'exclamation-triangle']\" class=\"not-found-icon\" />\n      <h1 class=\"not-found-title\">404 - Page Not Found</h1>\n      <p class=\"not-found-text\">\n        Oops! The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL.\n      </p>\n      <router-link to=\"/\" class=\"not-found-btn\" aria-label=\"Go back to home\">\n        Go Home\n      </router-link>\n    </div>\n  </div>\n\t<FoOter />\n</template>\n\n<script>\nimport FoOter from './Footer.vue'\n\nexport default {\n  name: 'NotFound',\n  components: {\n    FoOter\n  }\n}\n</script>\n\n<style scoped>\n.not-found-background {\n  background: linear-gradient(180deg, #0a0a0f 0%, #0d0d15 50%, #0a0a0f 100%);\n  width: 100%;\n  min-height: 55vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding: 3rem 2rem 0 2rem;\n  color: white;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.not-found-content {\n  max-width: 700px;\n  width: 100%;\n}\n\n.not-found-icon {\n  font-size: 4rem;\n  color: yellow;\n  filter: drop-shadow(0 0 15px rgba(255, 255, 0, 0.5));\n  margin-bottom: 1rem;\n}\n\n.not-found-title {\n  font-size: 4rem;\n  font-weight: 700;\n  letter-spacing: 2px;\n  margin-bottom: 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n}\n\n.not-found-text {\n  font-size: 1.3rem;\n  max-width: 700px;\n  line-height: 1.6;\n  color: #e0e0e0;\n  margin-bottom: 2rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeInUp 1s ease forwards;\n  animation-delay: 0.3s;\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.not-found-btn {\n  background: linear-gradient(90deg, yellow, gold);\n  color: black;\n  font-weight: 600;\n  padding: 0.9rem 2.4rem;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n  box-shadow: 0 0 10px rgba(255, 255, 0, 0.4);\n  transition: all 0.3s ease;\n  font-size: 1.1rem;\n  text-decoration: none;\n}\n\n.not-found-btn:hover {\n  background: linear-gradient(90deg, gold, yellow);\n  box-shadow: 0 0 25px rgba(255, 255, 0, 0.6);\n  transform: translateY(-3px);\n}\n\n@media (max-width: 768px) {\n  .not-found-title {\n    font-size: 3rem;\n  }\n  .not-found-text {\n    font-size: 1.1rem;\n  }\n  .not-found-icon {\n    font-size: 3rem;\n  }\n}\n</style>\n","import { render } from \"./NotFound.vue?vue&type=template&id=174e3a39&scoped=true\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js\"\n\nimport \"./NotFound.vue?vue&type=style&index=0&id=174e3a39&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-174e3a39\"]])\n\nexport default __exports__","<template>\n\t<div v-if=\"loading\" class=\"spinner-overlay\">\n\t\t<VueSpinnerTail size=\"60\" color=\"orange\" />\n\t</div>\n\t<div class=\"main-layout\">\n\t\t<SiDebar/>\n\t\t<div class=\"flex-grow-1 d-flex justify-content-center align-items-start p-3 p-md-5\">\n\t\t\t<div class=\"my-5 border rounded justify-content-center\" style=\"background-color: #ffc107;width:90%;height: 110vh;\">\n\t\t\t\t<div class=\"text-center mb-4\">\n\t\t\t\t\t<h2 class=\"fw-bold mt-4\">Browse Public Projects</h2>\n\t\t\t\t\t<p class=\"text-muted\">Find boards and ideas shared by the community</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row justify-content-center mx-2\">\n\t\t\t\t\t<div class=\"col-md-6 col-sm-10 col-12\">\n\t\t\t\t\t\t<div class=\"input-group shadow-sm rounded mx-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control border-0 p-3 minput\"\n\t\t\t\t\t\t\t\tplaceholder=\"Search public boards...\"\n\t\t\t\t\t\t\t\taria-label=\"Search public boards\"\n\t\t\t\t\t\t\t\tv-model=\"input\"\n\t\t\t\t\t\t\t\t@keyup.enter=\"search(input)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\" type=\"button\" @click=\"search(input)\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"bi bi-search\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t\t\t\t<path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1\n\t\t\t\t\t\t\t\t\t\t1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242\n\t\t\t\t\t\t\t\t\t\t1.656a5.5 5.5 0 1 1 0-11 5.5\n\t\t\t\t\t\t\t\t\t\t5.5 0 0 1 0 11z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section id=\"results\" class=\"my-4 mx-3\">\n\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t<div class=\"row g-1 justify-content-start gap-2\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"(board, index) in popular\"\n\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t:class=\"popular.length < 3 ? 'col-12 col-md-6 col-xl-4' : 'col-12 col-lg-4 col-xl-3'\"\n\t\t\t\t\t\t\t\tclass=\"card result-card project-card text-center\"\n\t\t\t\t\t\t\t\tstyle=\"height: 20rem; width: 18rem; cursor: pointer; position: relative;\"\n\t\t\t\t\t\t\t\t@click=\"join(board.room)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"card-body d-flex flex-column\" style=\"height: 100%;\">\n\t\t\t\t\t\t\t\t\t<h5 class=\"card-title fw-bold mb-2\">{{ board.title }}</h5>\n\t\t\t\t\t\t\t\t\t<p class=\"card-text small\">{{ board.description }}</p>\n\t\t\t\t\t\t\t\t\t<footer class=\"card-footer\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Visibility: <span>Public</span></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Views: <span>{{ board.views }}</span></span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ board.modified }}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-start small\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Owner: <a :href=\"`/codraw/account/${board.owner}`\" @click.stop style=\"color:#ff4f4f !important;\">{{ board.owner }}</a></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"popular.length===0\" class=\"justify-content-center\" style=\"min-height: 12rem;\">\n\t\t\t\t\t\t\t\t<text>No results found :(</text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { get_cookie } from '@/common';\nimport {DateTime} from 'luxon'\nimport {BASE_URL} from '@/common'\nimport SiDebar from './SiDebar.vue'\nimport {VueSpinnerTail} from 'vue3-spinners'\nconst loading = ref(false)\nconst popular=ref([])\nconst input=ref('')\nconst csrf=get_cookie('csrftoken')\n\nasync function search(sentence){\n  try{\n    loading.value=true;\n    const data=await fetch(`${BASE_URL}/search`,{\n      method:\"POST\",\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"query\":sentence,\n        \"timezone\":DateTime.local().zoneName\n      })\n    })\n    const response=await data.json()\n\t\tconsole.log(response)\n    if(response.status===200 && response.boards){\n      popular.value=JSON.parse(response.boards)\n    }\n    loading.value=false\n  }catch(e){\n    console.error(e)\n  }\n}\n\nasync function load_popular(){\n  try{\n    const data=await fetch(`${BASE_URL}/get_popular`,{\n      method:\"POST\",\n      headers:{\n        \"Content-Type\":\"application/json\",\n        \"X-CSRFToken\":csrf\n      },\n      body:JSON.stringify({\n        \"timezone\":DateTime.local().zoneName\n      }),\n      credentials:\"include\"\n    })\n    const response=await data.json()\n    popular.value=response.boards\n  }catch(e){\n    console.error(e)\n  }\n}\n\nasync function join(room){\n  try{\n    const data=await fetch(`${BASE_URL}/load`,{\n      \"method\":\"POST\",\n      \"headers\":{\n        'Content-Type':'application/json',\n        'X-CSRFToken':csrf\n      },\n      credentials:\"include\",\n      body:JSON.stringify({\n        \"room\":room\n      })\n    })\n    const response=await data.json()\n    if(response.status===200){\n      window.location.href=`${response.url}?origin=search`\n    }\n  }catch(e){\n    console.error(e)\n  }\n}\n\nonMounted(async() => {\n  loading.value=true\n  await load_popular()\n  loading.value=false\n})\n</script>\n\n\n<style scoped>\n.minput:focus{\n\toutline: none;\n\tbox-shadow: none;\n}\n\n.project-card,\n.result-card {\n  height: 16rem;\n  min-height: 16rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 1px solid #374151;\n  border-radius: 0.75rem;\n  background: #1f2937;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  width: 100%;\n}\n\n@media (min-width: 480px) {\n  .project-card,\n  .result-card {\n    height: 17rem;\n    min-height: 17rem;\n  }\n}\n\n@media (min-width: 640px) {\n  .project-card,\n  .result-card {\n    height: 18rem;\n    min-height: 18rem;\n  }\n}\n\n@media (min-width: 768px) {\n  .project-card,\n  .result-card {\n    height: 20rem;\n    min-height: 20rem;\n  }\n}\n.spinner-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\n.result-card .card-body {\n  height: 100%;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  color: #e5e7eb;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-body {\n    padding: 1.25rem;\n  }\n}\n\n @media (min-width: 1024px) {\n   .result-card .card-body {\n     padding: 1.5rem;\n   }\n }\n\n.result-card .card-title {\n  font-size: 0.9375rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #f9fafb;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-title {\n    font-size: 1rem;\n  }\n}\n\n.result-card .card-text {\n  font-size: 0.8125rem;\n  color: #9ca3af;\n  line-height: 1.4;\n  flex-grow: 1;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n@media (min-width: 640px) {\n  .result-card .card-text {\n    font-size: 0.875rem;\n  }\n}\n\n.card-footer {\n  margin-top: auto;\n  padding-top: 0.75rem;\n  border-top: 1px solid #374151;\n}\n\n@media (min-width: 640px) {\n  .card-footer {\n    padding-top: 1rem;\n  }\n}\n\n.card-footer span {\n  color: #9ca3af;\n  font-size: 0.7rem;\n}\n\n@media (min-width: 480px) {\n  .card-footer span {\n    font-size: 0.725rem;\n  }\n}\n\n@media (min-width: 640px) {\n  .card-footer span {\n    font-size: 0.8125rem;\n  }\n}\n\n.card-footer span span {\n  color: #d1d5db;\n  font-weight: 500;\n}\n.main-layout {\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  background: #181818;\n}\n.result-card:hover{\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);\n  border-color: #ffc107;\n}\n</style>\n","import script from \"./SeArch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeArch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SeArch.vue?vue&type=style&index=0&id=df9b94b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df9b94b4\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport VueKonva from 'vue-konva';\nimport { createWebHistory, createRouter } from 'vue-router'\n\nimport SignIn from './components/SignIn.vue'\nimport SignUp from './components/SignUp.vue'\nimport HeRo from './components/Hero.vue'\nimport MaIn from './components/Main.vue'\nimport AccOunt from './components/AccOunt.vue'\nimport BoArd from './components/BoArd.vue'\nimport RestorePassword from './components/RestorePassword.vue'\nimport LearnMore from './components/LearnMore.vue';\nimport NotFound from './components/NotFound.vue'\nimport SeArch from './components/SeArch.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { createGtag } from \"vue-gtag\"\nimport { faTextHeight, faCircle, faSquare, faArrowUpLong, faPalette, faHome, faBolt, faLightbulb, faUndo, faRedo, faSearch, faUser, faEye, faPencil, faFeatherPointed, faPaintBrush, faPaintRoller, faHand, faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\nimport { faGithub } from '@fortawesome/free-brands-svg-icons'\nlibrary.add(faPalette, faCircle, faTextHeight, faArrowUpLong, faSquare, faHome, faBolt, faLightbulb, faUndo, faRedo, faSearch, faExclamationTriangle, faUser, faEye, faPencil, faFeatherPointed, faPaintBrush, faPaintRoller, faGithub, faHand)\n\nconst routes = [\n\t{ path: '/', component: HeRo, meta: { showNav: true } },\n\t{ path: '/signup', component: SignUp, meta: { showNav: true } },\n\t{ path: '/signin', component: SignIn, meta: { showNav: true } },\n\t{ path: '/codraw', component: MaIn, meta: { showNav: false } },\n\t{ path: '/codraw/search', component: SeArch, meta: { showNav: false } },\n\t{ path: '/codraw/account/:username', component: AccOunt, meta: { showNav: false } },\n\t{ path: '/board/:id/:room', component: BoArd, meta: { showNav: false } },\n\t{ path: '/demo/:room', component: BoArd, meta: { showNav: false } },\n\t{ path: '/learn-more', component: LearnMore, meta: { showNav: true } },\n\t{ path: '/recover/:code', component: RestorePassword, meta: { showNav: true } },\n\t{ path: '/:pathMatch(.*)*', component: NotFound, meta: { showNav: true } }\n]\n\nconst router = createRouter({\n\thistory: createWebHistory(),\n\troutes,\n})\n\nrouter.afterEach(() => {\n\twindow.scrollTo({ top: 0, behavior: 'instant' })\n})\ncreateApp(App)\n\t.use(router)\n\t.use(\n\t\tcreateGtag({\n\t\t\ttagId: process.env.VUE_APP_GTAG,\n\t\t\tconfig: {\n\t\t\t\tparams: {\n\t\t\t\t\tdebug_mode: true,\n\t\t\t\t\tapp_name: \"CoDraw\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tpageTracker: {\n\t\t\t\trouter,\n\t\t\t\tuseScreenview: true\n\t\t\t}\n\t\t})\n\t)\n\t.use(VueKonva)\n\t.component('font-awesome-icon', FontAwesomeIcon)\n\t.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9016); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_ctx","$route","meta","showNav","_createBlock","_component_NavBar","key","_createVNode","_component_router_view","__default__","name","props","msg","String","navigateAndClose","offcanvas","document","getElementById","bsOffcanvas","bootstrap","Offcanvas","getInstance","hide","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_component_RouterLink","class","to","src","_unref","imageUrl","alt","loading","decoding","height","type","_hoisted_4","id","_hoisted_5","_hoisted_6","_hoisted_7","onClick","_cache","_hoisted_8","__exports__","components","NavBar","render","BASE_URL","process","WS_URL","GOOGLE_ID","wsConnections","reactive","get_cookie","cookieValue","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","href","_hoisted_3","_component_router_link","_component_font_awesome_icon","icon","_toDisplayString","Date","getFullYear","message","ref","invalid","ticked","name_or_mail","password","validated","recovery","recoverySuccess","formRef","async","sendReset","event","form","currentTarget","value","checkValidity","preventDefault","stopPropagation","data","fetch","method","headers","credentials","response","json","status","e","console","error","SignIn","classList","add","csrf","body","JSON","stringify","window","location","handleCredentialResponse","payload","parse","atob","credential","sub","email","result","log","onMounted","google","accounts","initialize","client_id","callback","renderButton","theme","size","_Transition","$event","_isRef","style","VueSpinnerTail","color","_normalizeClass","novalidate","onSubmit","_withModifiers","for","placeholder","required","_hoisted_9","_hoisted_10","_hoisted_11","autocomplete","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","FoOter","visible","username","mail","ZeroInput","OneInput","TwoInput","ThreeInput","FourInput","zero","one","two","three","four","pathname","SignUp","username_input","password_input","mail_input","nextTick","focus","handleInput","index","startsWith","includes","getCode","verifyCode","text","maxlength","onKeyup","pattern","inputmode","$options","getDemoPath","_Fragment","_renderList","$data","features","feature","_normalizeStyle","transitionDelay","title","logo","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","faqs","faq","question","_hoisted_23","_hoisted_25","answer","_component_FoOter","fullText","typewriterIndex","typewriterTimeout","mounted","this","check","startTypewriter","initScrollReveal","beforeUnmount","clearTimeout","methods","uuidv4","typeNextChar","$refs","typewriterText","textContent","charAt","setTimeout","observerOptions","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","target","unobserve","elements","querySelectorAll","el","observe","sidebarOpen","isMobile","onPage","checkCurrentPage","path","log_out","get_username","checkMobile","innerWidth","closeSidebarOnOverlayClick","sidebar","closest","addEventListener","toggle","url","router","useRouter","boards","images","previewing","get_boards","DateTime","local","zoneName","reduce","acc","board","room","join","push","create","Promise","all","map","resolve","ws","WebSocket","onopen","onerror","SiDebar","_component_RouterView","description","visibility","views","_hoisted_16","modified","showPopup","admin","edits","bookmarks","deletes","delete_board","delete_bookmark","get_bookmarks","resave","original_description","original_title","get_status","user2","curr_user","b","exportImg","link","createElement","download","appendChild","click","removeChild","pathParts","save","edit","bin","splice","readonly","disabled","_hoisted_22","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","MAX_HISTORY","currentLine","MODE","URL","drawFrameId","lastWsSendTime","stageRef","windowWidth","isVisible","background","tool","isDrawing","width_slider","list","zoom","computed","zooming","toFixed","lastPos","imageRef","layerRef","isPanning","motiv","visitor","stroke_history","history_index","isBookmarked","paneToggler","showShapeSelector","texts","responded","origin","searchParams","get","transformers","deleteButtons","createShape","shapeName","fill","maintext","Konva","x","y","innerHeight","width","fontSize","fontFamily","align","verticalAlign","draggable","setAttr","previewtext","on","position","previewLayer","batchDraw","readyState","OPEN","send","shapeType","newpos","getNode","container","cursor","evt","handleTextClick","remove","moveToTop","arrow","points","stroke","strokeWidth","pointerLength","pointerWidth","previewArrow","circle","radius","previewCircle","square","previewSquare","konvaText","layer","tr","nodes","borderStroke","borderDash","borderStrokeWidth","borderDashOffset","borderJoinStyle","scalingEnabled","enabledAnchors","keepRatio","keepRatioByExpanding","rotateEnabled","boundBoxFunc","oldBox","newBox","stage","textPosition","getAbsolutePosition","stageBox","getBoundingClientRect","scale","scaleX","textarea","dataset","textId","top","left","textScaleX","textScaleY","scaleY","backgroundColor","border","outline","resize","textAlign","lineHeight","padding","margin","display","alignItems","justifyContent","whiteSpace","overflow","transform","boxSizing","requestAnimationFrame","currentWidth","currentHeight","textBeforeCursor","selectionStart","lastNewlineIndex","lastIndexOf","textToMeasure","tempText","tempTextForCursor","newTextWidth","newTextHeight","cursorLineWidth","newWidth","Math","max","heightMargin","forceUpdate","destroy","getDeleteButtonPos","initialPos","deleteGroup","opacity","listening","deleteCircle","shadowColor","shadowBlur","shadowOffset","shadowOpacity","deleteIcon","strokeLineCap","strokeLineJoin","deleteImage","duration","updateDeleteButtonPosition","pos","updateTextareaPosition","stageScale","origWidth","getAttr","origHeight","origFontSize","newHeight","newFontSize","buffer","now","keys","previewTextToDrag","findOne","previewTextToResize","draw","handleDblClick","konvaImg","disableTransformers","previewImageToResize","imageNode","transformer","deleteBtn","imageId","indexOf","trIndex","btnIndex","previewImage","addToHistory","btn","finishTextEditing","show","konvaTextId","found","previewText","handleStageClick","className","getParent","check_visitor","user","togglePane","toggleShapeSelector","toggleBookmark","me","bookmarked","check_book_mark","show_text","stageConfig","documentElement","clientWidth","clientHeight","rawUrl","cleanBase","endsWith","slice","finalUrl","onmessage","isEraserRemote","operation","mainLineConfig","globalCompositeOperation","lineCap","lineJoin","tension","previewLineConfig","mainLine","previewLine","_remote","main","preview","mainPoints","previewPoints","bg","img","Image","onload","image","applyCrop","previewImg","imageToDelete","find","t","btnX","btnY","imgX","imgY","imgWidth","abs","imageToResize","history","undo","redo","autosave","storageKey","context","localStorage","getItem","applyStateToLayer","clearDefinetely","shape","previewShape","shapeConfig","Object","assign","handleContextMenu","canvas","isSaved","getContext","strokeStyle","fillStyle","lineWidth","Number","bottom","borderRadius","previewStage","previewBg","changeZoom","mode","scrolles","oldScale","direction","newScale","watch","newColor","immediate","handleMouseWheel","deltaY","check_owner","parts","owner","copyInvitationLink","navigator","clipboard","writeText","err","load","save_definetely","formData","FormData","append","getStage","toJSON","getPreviewPicture","flag","getCrop","aspectRatio","imageRatio","cropX","cropY","cropWidth","cropHeight","imgNode","crop","setAttrs","children","lastChild","childConfig","shift","previewChildren","lastPreviewChild","attrs","KonvaNodeMain","KonvaNodePreview","undoWithBroadcast","redoWithBroadcast","checkSaveStatus","saved","dataURLtoBlob","dataURL","byteString","mimeString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","bgRect","moveToBottom","toDataURL","pixelRatio","processImageFile","file","reader","FileReader","readAsDataURL","handlePaste","pointer","getPointerPosition","point","getRelativePointerPosition","visibleWidth","visibleHeight","centerX","centerY","clipboardData","files","check_save","previewBlob","autosaved","leave","removeItem","native","destroyChildren","clear_all","getAbsoluteTransform","copy","invert","dataUrl","setItem","imageConfig","lastCenter","lastDist","handleMouseDown","touches","cancelable","touch1","touch2","sqrt","pow","clientX","clientY","button","startDrag","isEraser","mainStrokeColor","previewStrokeColor","mainLayer","handleMouseUp","cancelAnimationFrame","handleMouseMove","dist","newCenter","pointTo","scaleBy","newPos","handleStageResize","getLayer","parsed","stageData","Array","isArray","savedChildren","shapeJson","mainShape","crossOrigin","get_details_and_load","saved_json","canva","last_access","last","localData","parsedLocal","handleFiles","from","offsetX","offsetY","floor","keyhandler","ctrlKey","autosaveInterval","waitForSync","setInterval","clearInterval","loadBoardData","initializeBoard","inputElement","onBeforeUnmount","close","onUnmounted","removeEventListener","min","args","uploadImage","xmlns","viewBox","d","bookmarkIcon","rows","_hoisted_24","zoom_ico","_component_v_stage","config","onMousedown","onMousemove","onMouseup","onWheel","onTouchstart","onTouchmove","onTouchend","onContextmenu","_component_v_layer","_component_v_image","updated","new_password","confirm_password","togglePasswordVisibility","field","inputField","querySelector","restorePassword","code","init","then","res","isValid","Footer","popular","input","search","sentence","load_popular","_withKeys","library","faPalette","faCircle","faTextHeight","faArrowUpLong","faSquare","faHome","faBolt","faLightbulb","faUndo","faRedo","faSearch","faExclamationTriangle","faUser","faEye","faPencil","faFeatherPointed","faPaintBrush","faPaintRoller","faGithub","faHand","routes","component","HeRo","MaIn","SeArch","AccOunt","BoArd","LearnMore","RestorePassword","NotFound","createRouter","createWebHistory","afterEach","scrollTo","behavior","createApp","App","use","createGtag","tagId","params","debug_mode","app_name","pageTracker","useScreenview","VueKonva","FontAwesomeIcon","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","Function","hmd","set","Error","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}