(function(){"use strict";var e={1461:function(e,t,o){var a=o(3751),n=o(641);function l(e,t,o,a,l,i){const r=(0,n.g2)("NavBar"),s=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,["/codraw"!==e.$route.path.substring(0,7)&&"/board"!==e.$route.path.substring(0,6)?((0,n.uX)(),(0,n.Wv)(r,{key:0})):(0,n.Q3)("",!0),(0,n.bF)(s)],64)}var i=o(953),r=o.p+"img/logo.10045025.webp";const s={class:"navbar navbar-expand-lg navbar-dark bg-dark shadow p-3"},c={class:"offcanvas offcanvas-end mx-2",style:{"background-color":"black"},tabindex:"-1",id:"offcanvas","aria-labelledby":"offcanvasLabel"},d={class:"offcanvas-body"},u=["src"],A={class:"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-row align-items-center"},f={class:"nav-item mx-2"},g={class:"nav-item mx-2"},p={class:"nav-item mx-2"},v={name:"NavBar",props:{msg:String}};var h=Object.assign(v,{setup(e){return(e,t)=>{const o=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)("nav",s,[t[4]||(t[4]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas","aria-controls":"offcanvas","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.bF)(o,{class:"navbar-brand d-flex align-items-center",to:"/"},{default:(0,n.k6)(()=>[(0,n.Lk)("img",{src:(0,i.R1)(r),alt:"logo",height:"90",class:"me-3"},null,8,u),t[0]||(t[0]=(0,n.Lk)("span",null,"CoDraw",-1))]),_:1}),(0,n.Lk)("ul",A,[(0,n.Lk)("li",f,[(0,n.bF)(o,{class:"nav-link",to:"/#about",href:"#"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("About",-1)])]),_:1})]),(0,n.Lk)("li",g,[(0,n.bF)(o,{class:"btn me-2",to:"/signup",id:"sign",style:{"border-color":"yellow",color:"yellow"}},{default:(0,n.k6)(()=>[...t[2]||(t[2]=[(0,n.eW)("Sign up",-1)])]),_:1})]),(0,n.Lk)("li",p,[(0,n.bF)(o,{class:"btn btn-outline-light",id:"sing",to:"/signin"},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)("Sign in",-1)])]),_:1})])])])])])}}}),m=o(6262);const w=(0,m.A)(h,[["__scopeId","data-v-e440355c"]]);var b=w,k={name:"App",components:{NavBar:b}};const y=(0,m.A)(k,[["render",l]]);var x=y,L=o(5916),E=o(5220),C=o(33);const R="http://localhost:8000";function B(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let a=0;a<o.length;a++){const n=o[a].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}const j={style:{"background-color":"black"}},D=["src"],P={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},I={class:"alert-content",style:{"padding-top":"0.2rem"}},Q={style:{color:"#ffc107","font-size":"1rem"}},T={class:"d-flex justify-content-center pt-5",style:{"background-color":"black","min-height":"40vh"}},M={class:"card p-3 shadow-lg",style:{"max-width":"400px",width:"100%",background:"white",border:"none","min-height":"unset"}},S={class:"mb-2"},K={class:"mb-2"},J={class:"form-check d-flex align-items-center mb-3 w-100 flex-wrap",style:{padding:"0 !important",gap:"2rem"}},z={class:"text-center mt-2"};var O={__name:"SignIn",setup(e){let t=(0,i.KR)(""),o=(0,i.KR)(!1),l=(0,i.KR)(!1);const s=(0,i.KR)(""),c=(0,i.KR)(""),d=(0,i.KR)(null);async function u(e){e.preventDefault();const a=d.value;if(a.classList.add("was-validated"),a.checkValidity())try{const e=B("csrftoken"),a=await fetch(`${R}/signin`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include",body:JSON.stringify({mail:s.value,password:c.value,remember:l.value})}),n=await a.json();200===n.status?window.location.href="/codraw":(o.value=!0,t.value="Invalid credentials. Please try again.")}catch(e){console.error(e),o.value=!0,t.value="An error occurred while signing in."}else e.stopPropagation()}async function A(){try{const e=B("csrftoken"),t=await fetch(`${R}/signin`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),o=await t.json();300===o.status&&(window.location.href="/codraw")}catch(e){console.error(e)}}return A(),(e,A)=>{const f=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",j,[(0,n.Lk)("img",{src:(0,i.R1)(r),class:"img-fluid border rounded-circle",style:{width:"10vw",height:"auto","margin-top":"2%","border-color":"yellow"}},null,8,D)]),(0,n.bF)(a.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,i.R1)(o)?((0,n.uX)(),(0,n.CE)("div",P,[(0,n.Lk)("button",{onClick:A[0]||(A[0]=e=>(0,i.i9)(o)?o.value=!1:o=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",I,[(0,n.Lk)("strong",Q,(0,C.v_)((0,i.R1)(t)),1),A[4]||(A[4]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",T,[(0,n.Lk)("div",M,[A[13]||(A[13]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign In",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:d,onSubmit:u,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",S,[A[5]||(A[5]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":A[1]||(A[1]=e=>s.value=e),class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[a.Jo,s.value]]),A[6]||(A[6]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",K,[A[7]||(A[7]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":A[2]||(A[2]=e=>c.value=e),class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[a.Jo,c.value]]),A[8]||(A[8]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),(0,n.Lk)("div",J,[A[9]||(A[9]=(0,n.Lk)("label",{class:"form-check-label text-black fw-medium mb-0",for:"rememberMe"}," Remember me ",-1)),(0,n.Lk)("input",{type:"checkbox",ref_key:"ticked",ref:l,onClick:A[3]||(A[3]=e=>(0,i.i9)(l)?l.value=!(0,i.R1)(l):l=!(0,i.R1)(l)),id:"rememberMe",style:{"accent-color":"#ffc107",margin:"0 !important",width:"1.25rem",height:"1.25rem"}},null,512)]),A[10]||(A[10]=(0,n.Lk)("button",{id:"sign",type:"submit",class:"btn btn-success w-100 mt-2",style:{"background-color":"yellow",color:"black"}},"Sign In",-1))],544),(0,n.Lk)("div",z,[A[12]||(A[12]=(0,n.Lk)("span",{class:"text-secondary"},"Do not have an account?",-1)),(0,n.bF)(f,{to:"/signup",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...A[11]||(A[11]=[(0,n.eW)("Sign up",-1)])]),_:1})])])])],64)}}};const F=(0,m.A)(O,[["__scopeId","data-v-08ed81a2"]]);var H=F;const N={style:{"background-color":"black"}},X=["src"],Y={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},G={class:"alert-content",style:{"padding-top":"0.2rem"}},U={style:{color:"#ffc107","font-size":"1rem"}},V={key:0,class:"overlay"},W={class:"popup-card"},_={class:"d-flex justify-content-center mb-3"},Z={class:"d-flex justify-content-center pt-5",style:{"background-color":"black","min-height":"40vh"}},q={class:"card p-3 shadow-lg",style:{"max-width":"400px",width:"100%",background:"white",border:"none","min-height":"unset"}},$={class:"mb-2"},ee={class:"mb-2"},te={class:"mb-2"},oe={class:"text-center mt-2"};var ae={__name:"SignUp",setup(e){let t=(0,i.KR)(!1),o=(0,i.KR)(null),l=(0,i.KR)(!1),s=(0,i.KR)("");const c=(0,i.KR)(""),d=(0,i.KR)(""),u=(0,i.KR)(""),A=(0,i.KR)(null),f=(0,i.KR)(null),g=(0,i.KR)(null),p=(0,i.KR)(null),v=(0,i.KR)(null);async function h(){try{const e=B("csrftoken"),t=await fetch(`${R}/signup`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),o=await t.json();300===o.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}}async function m(e){e.preventDefault();const a=o.value;if(a.classList.add("was-validated"),!a.checkValidity())return void e.stopPropagation();const n=B("csrftoken"),i=c.value,r=d.value,f=u.value;try{const e=await fetch(`${R}/signup`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify({username:i,mail:f,password:r}),credentials:"include"}),o=await e.json();200===o.status?(t.value=!0,A.value.focus()):(l.value=!0,s.value="Account already registered under this email. Did you forget your password?")}catch(e){console.error(e)}}function w(e){2===e&&f.value&&f.value.focus(),3===e&&g.value&&g.value.focus(),4===e&&p.value&&p.value.focus(),5===e&&v.value&&v.value.focus()}h();const b=(0,i.KR)(""),k=(0,i.KR)(""),y=(0,i.KR)(""),x=(0,i.KR)(""),L=(0,i.KR)("");function E(){return`${b.value}${k.value}${y.value}${x.value}${L.value}`}async function j(){const e=B("csrftoken"),o=c.value,a=u.value,n=await fetch(`${R}/verify`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({username:o,mail:a,code:E()})}),i=await n.json();200===i.status?window.location.href="/codraw":(t.value=!1,l.value=!0,b.value="",k.value="",y.value="",x.value="",L.value="",s.value="Invalid verification code. Please try again- new verification code has been sent.")}return(e,h)=>{const E=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",N,[(0,n.Lk)("img",{src:(0,i.R1)(r),class:"img-fluid border rounded-circle border-danger-subtle",style:{width:"10vw",height:"auto","margin-top":"2%"}},null,8,X)]),(0,n.bF)(a.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,i.R1)(l)?((0,n.uX)(),(0,n.CE)("div",Y,[(0,n.Lk)("button",{onClick:h[0]||(h[0]=e=>(0,i.i9)(l)?l.value=!1:l=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",G,[(0,n.Lk)("strong",U,(0,C.v_)((0,i.R1)(s)),1),h[14]||(h[14]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,i.R1)(t)?((0,n.uX)(),(0,n.CE)("div",V,[(0,n.Lk)("div",W,[(0,n.Lk)("button",{onClick:h[1]||(h[1]=e=>(0,i.i9)(t)?t.value=!1:t=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"red",color:"white"}},"×"),h[15]||(h[15]=(0,n.Lk)("br",null,null,-1)),h[16]||(h[16]=(0,n.Lk)("br",null,null,-1)),h[17]||(h[17]=(0,n.Lk)("h4",{class:"mb-3"},"Enter Verification Code",-1)),(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"1",onInput:h[2]||(h[2]=e=>w(2)),ref_key:"ZeroInput",ref:A,"onUpdate:modelValue":h[3]||(h[3]=e=>b.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[a.Jo,b.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"2",onInput:h[4]||(h[4]=e=>w(3)),"onUpdate:modelValue":h[5]||(h[5]=e=>k.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric",ref_key:"OneInput",ref:f},null,544),[[a.Jo,k.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"3",onInput:h[6]||(h[6]=e=>w(4)),"onUpdate:modelValue":h[7]||(h[7]=e=>y.value=e),ref_key:"TwoInput",ref:g,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[a.Jo,y.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"4",onInput:h[8]||(h[8]=e=>w(5)),"onUpdate:modelValue":h[9]||(h[9]=e=>x.value=e),ref_key:"ThreeInput",ref:p,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[a.Jo,x.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"5",class:"code-input","onUpdate:modelValue":h[10]||(h[10]=e=>L.value=e),ref_key:"FourInput",ref:v,type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,512),[[a.Jo,L.value]])]),(0,n.Lk)("button",{class:"btn btn-primary w-100",onClick:j},"Verify")])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Z,[(0,n.Lk)("div",q,[h[27]||(h[27]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign Up",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:o,onSubmit:m,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",$,[h[18]||(h[18]=(0,n.Lk)("label",{for:"username",class:"form-label text-black text-start w-100"},"Username",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":h[11]||(h[11]=e=>c.value=e),type:"text",class:"form-control bg-dark text-white border-secondary",id:"username",placeholder:"Enter username",style:{color:"white"},required:""},null,512),[[a.Jo,c.value]]),h[19]||(h[19]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify username. ",-1))]),(0,n.Lk)("div",ee,[h[20]||(h[20]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":h[12]||(h[12]=e=>u.value=e),type:"email",class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[a.Jo,u.value]]),h[21]||(h[21]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",te,[h[22]||(h[22]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":h[13]||(h[13]=e=>d.value=e),type:"password",class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[a.Jo,d.value]]),h[23]||(h[23]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),h[24]||(h[24]=(0,n.Lk)("button",{id:"sign",class:"btn btn-success w-100 mt-2",type:"submit",style:{"background-color":"yellow",color:"black"}},"Sign Up",-1))],544),(0,n.Lk)("div",oe,[h[26]||(h[26]=(0,n.Lk)("span",{class:"text-secondary"},"Already have an account?",-1)),(0,n.bF)(E,{to:"/signin",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...h[25]||(h[25]=[(0,n.eW)("Sign In",-1)])]),_:1})])])])],64)}}};const ne=(0,m.A)(ae,[["__scopeId","data-v-4daa0bd3"]]);var le=ne;function ie(e,t,o,a,l,i){return t[0]||(t[0]=(0,n.Fv)('<div class="hero-background p-5 col-lg-4" style="background-color: black;height:60vh" data-v-679fee6c><h1 class="hero-title" style="color:white;" data-v-679fee6c> CoDraw<br data-v-679fee6c></h1><p style="color:white;" data-v-679fee6c> CoDraw is a real-time collaborative drawing platform that lets you and your friends create, share, and edit artwork together from anywhere. Experience seamless teamwork, intuitive tools, and instant updates as you bring your creative ideas to life together! </p></div><div style="background-color:black;overflow-x:hidden;margin-top:2%;" data-v-679fee6c><div class="container" data-v-679fee6c><div class="row justify-content-center" data-v-679fee6c><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Modern and Slick</h5><p class="card-text" data-v-679fee6c>A visually appealing interface designed for a seamless and enjoyable drawing experience.</p></div></div></div><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Performance Oriented</h5><p class="card-text" data-v-679fee6c>Optimized for speed and responsiveness, ensuring smooth collaboration in real time.</p></div></div></div><div class="col-md-3 mb-3" data-v-679fee6c><div class="card h-100 bg-dark text-white shadow-lg" id="card" style="border-color:yellow;" data-v-679fee6c><div class="card-body text-center" data-v-679fee6c><h5 class="card-title" data-v-679fee6c>Intuitive Design</h5><p class="card-text" data-v-679fee6c>Easy-to-use tools and layout, making creativity accessible for everyone.</p></div></div></div></div></div></div>',2))}var re={name:"HeRo",props:{msg:String},mounted(){this.check()},methods:{async check(){try{const e=B("csrftoken"),t=await fetch(`${R}/home`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include"}),o=await t.json();300===o.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}}}};const se=(0,m.A)(re,[["render",ie],["__scopeId","data-v-679fee6c"]]);var ce=se,de=(o(8111),o(1701),o(4641)),ue=o.p+"img/sidebar.9317e3f0.webp",Ae=o.p+"img/information.fad38640.webp",fe=o(9876);const ge={class:"main-layout"},pe={class:"sidebar-header d-flex flex-column align-items-center mb-4"},ve=["src"],he=["src"],me={class:"main-content flex-grow-1"},we={class:"mb-4"},be={id:"projects",class:"container"},ke=["onClick"],ye={class:"card-body d-flex flex-column text-white",style:{height:"100%"}},xe=["onClick"],Le=["src"],Ee={key:0,class:"w-100"},Ce={class:"d-flex flex-column align-items-start gap-1",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)",padding:"0.5rem"}},Re={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Be={class:"text-white"},je={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},De={class:"text-white"},Pe={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Ie={class:"text-white"},Qe={key:1,class:"w-100"},Te={class:"card-title fw-bold mt-2"},Me={class:"card-text",style:{"font-size":"0.8rem"}},Se={key:0,class:"spinner-overlay"},Ke={class:"my-5 border rounded justify-content-center",style:{"background-color":"#ffc107",width:"100%",height:"auto"}},Je={class:"row justify-content-center"},ze={class:"col-md-6 col-sm-8 col-7"},Oe={class:"input-group shadow-sm rounded mx-2"},Fe={id:"results",class:"my-4 mx-3"},He={class:"container"},Ne={class:"row g-4"},Xe=["onClick"],Ye={class:"card-body d-flex flex-column text-white",id:"shown",style:{height:"100%"}},Ge={class:"card-title fw-bold"},Ue={class:"card-text",style:{"font-size":"0.8rem"}},Ve={class:"d-flex flex-column py-2",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)","border-top":"1px solid #ffc107"}},We={class:"d-flex align-items-center gap-2 mx-2 mb-2"},_e=["href"],Ze={class:"d-flex align-items-center gap-2 mx-2"},qe=["value"],$e=["value"],et={key:0,class:"justify-content-center",style:{"min-height":"12rem"}},tt={name:"MaIn"};var ot=Object.assign(tt,{setup(e){const t=(0,i.KR)(!1),o=(0,i.KR)({}),l=B("csrftoken"),s=(0,i.KR)(!0),c=(0,i.KR)([]),d=(0,i.KR)([]),u=(0,i.KR)(""),A=(0,i.KR)("");async function f(){try{const e=await fetch(`${R}/username`,{method:"GET",headers:{"X-CSRFToken":l},credentials:"include"}),t=await e.json();200==t.status?A.value=t.username:A.value="ERROR 404 NOT FOUND"}catch(e){console.error(e)}}async function g(){try{const e=await fetch(`${R}/log_out`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include"}),t=await e.json();200===t.status&&(window.location.href="/")}catch(e){console.error(e)}}async function p(e){try{t.value=!0;const o=await fetch(`${R}/search`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({query:e,timezone:de.c9.local().zoneName})}),a=await o.json();200===a.status&&(d.value=JSON.parse(a.boards)),t.value=!1}catch(o){console.error(o)}}async function v(){try{const e=await fetch(`${R}/codraw`,{method:"GET",headers:{"X-CSRFToken":l},credentials:"include"}),t=await e.json();200!==t.status&&"/"!==window.location.pathname&&(window.location.href="/")}catch(e){console.error(e)}}const h=async()=>{try{const e=await fetch(`${R}/codraw/get_boards`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),t=await e.json();c.value=t.boards,o.value=t.boards.map(()=>!1)}catch(e){console.error(e)}};async function m(e){try{const t=await fetch(`${R}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({room:e})}),o=await t.json();200===o.status&&(window.location.href=`${o.url}`)}catch(t){console.error(t)}}async function w(){try{const e=await fetch(`${R}/get_project_url`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include"}),t=await e.json();200===t.status?window.location.href=`${t.url}`:console.log("error")}catch(e){console.error(e)}}async function b(){try{const e=await fetch(`${R}/get_popular`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),t=await e.json();d.value=t.boards}catch(e){console.error(e)}}return(0,n.sV)(async()=>{t.value=!0,await Promise.all([v(),h(),b(),f()]),t.value=!1}),(e,l)=>{const f=(0,n.g2)("RouterLink"),v=(0,n.g2)("RouterView");return(0,n.uX)(),(0,n.CE)("div",ge,[(0,n.Lk)("aside",{class:(0,C.C4)(["sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark",{"sidebar-collapsed":!s.value}])},[(0,n.Lk)("div",pe,[(0,n.Lk)("img",{class:(0,C.C4)(["toggle mb-3 align-self-end",{"align-self-center":!s.value}]),onClick:l[0]||(l[0]=e=>s.value=!s.value),src:(0,i.R1)(ue),style:{cursor:"pointer",width:"2rem",height:"2rem"}},null,10,ve),(0,n.Lk)("img",{src:(0,i.R1)(r),alt:"logo",class:"logo mb-3 img-fluid rounded rounded-circle",style:{"max-height":"20vh"}},null,8,he),(0,n.bF)(f,{to:`/codraw/account/${A.value}`,class:"nav-link account-link mb-2 w-100 text-center"},{default:(0,n.k6)(()=>[...l[6]||(l[6]=[(0,n.eW)(" My Account ",-1)])]),_:1},8,["to"]),(0,n.bF)(f,{to:"/codraw/settings",class:"nav-link settings-link mb-2 w-100 text-center"},{default:(0,n.k6)(()=>[...l[7]||(l[7]=[(0,n.eW)(" Settings ",-1)])]),_:1}),(0,n.Lk)("button",{class:"btn btn-danger w-100",onClick:l[1]||(l[1]=e=>g()),id:"out"},"Log out")])],2),(0,n.Lk)("main",me,[(0,n.bF)(v),l[17]||(l[17]=(0,n.Lk)("h1",null,"Welcome to CoDraw!",-1)),(0,n.Lk)("div",we,[l[12]||(l[12]=(0,n.Lk)("h2",{class:"mb-4 text-start"},"My Projects",-1)),(0,n.Lk)("div",be,[(0,n.Lk)("div",{class:"card create-project-card my text-center bg-dark",onClick:l[2]||(l[2]=e=>w()),style:{"min-height":"14rem","min-width":"14rem",cursor:"pointer"}},[...l[8]||(l[8]=[(0,n.Lk)("div",{class:"card-body d-flex flex-column align-items-center justify-content-center",style:{height:"100%"}},[(0,n.Lk)("span",{style:{"font-size":"3rem",color:"#ffc107"}},"+"),(0,n.Lk)("h5",{class:"card-title mt-2 mb-0",style:{color:"#ffc107"}},"Create Project")],-1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"card create-project-card my text-center bg-dark",onClick:t=>m(e.room),style:{"min-height":"14rem","min-width":"14rem",cursor:"pointer",position:"relative"}},[(0,n.Lk)("div",ye,[(0,n.Lk)("div",{class:"w-100",onClick:(0,a.D$)(e=>o.value[t]=!o.value[t],["stop"])},[(0,n.Lk)("img",{src:(0,i.R1)(Ae),style:{width:"30px",height:"30px",position:"absolute",right:"0",top:"0"},alt:"info icon"},null,8,Le)],8,xe),o.value[t]?((0,n.uX)(),(0,n.CE)("div",Ee,[(0,n.Lk)("div",Ce,[(0,n.Lk)("span",Re,[l[9]||(l[9]=(0,n.eW)("Views: ",-1)),(0,n.Lk)("span",Be,(0,C.v_)(e.views),1)]),(0,n.Lk)("span",je,[l[10]||(l[10]=(0,n.eW)("Last Modified: ",-1)),(0,n.Lk)("span",De,(0,C.v_)(e.modified),1)]),(0,n.Lk)("span",Pe,[l[11]||(l[11]=(0,n.eW)("Visibility: ",-1)),(0,n.Lk)("span",Ie,(0,C.v_)(e.visibility),1)])])])):((0,n.uX)(),(0,n.CE)("div",Qe,[(0,n.Lk)("h5",Te,(0,C.v_)(e.title),1),(0,n.Lk)("p",Me,(0,C.v_)(e.description),1)]))])],8,ke))),128))])]),t.value?((0,n.uX)(),(0,n.CE)("div",Se,[(0,n.bF)((0,i.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ke,[l[16]||(l[16]=(0,n.Lk)("div",{class:"text-center mb-4"},[(0,n.Lk)("h2",{class:"fw-bold mt-4"},"Browse Public Projects"),(0,n.Lk)("p",{class:"text-muted"},"Find boards and ideas shared by the community")],-1)),(0,n.Lk)("div",Je,[(0,n.Lk)("div",ze,[(0,n.Lk)("div",Oe,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control border-0 p-3",placeholder:"Search public boards...","aria-label":"Search public boards","onUpdate:modelValue":l[3]||(l[3]=e=>u.value=e),onKeyup:l[4]||(l[4]=(0,a.jR)(e=>p(u.value),["enter"]))},null,544),[[a.Jo,u.value]]),(0,n.Lk)("button",{class:"btn btn-primary",type:"button",onClick:l[5]||(l[5]=e=>p(u.value))},[...l[13]||(l[13]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 \r\n                          1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242 \r\n                          1.656a5.5 5.5 0 1 1 0-11 5.5 \r\n                          5.5 0 0 1 0 11z"})],-1)])])])])]),(0,n.Lk)("section",Fe,[(0,n.Lk)("div",He,[(0,n.Lk)("div",Ne,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,C.C4)(d.value.length<3?"col-12 col-md-6 col-xl-4":"col-12 col-lg-4 col-xl-3")},[(0,n.Lk)("div",{class:"card create-project-card text-center bg-dark",onClick:t=>m(e.room),style:{"min-height":"12rem","min-width":"10rem",cursor:"pointer",position:"relative"}},[(0,n.Lk)("div",Ye,[(0,n.Lk)("h5",Ge,(0,C.v_)(e.title),1),(0,n.Lk)("p",Ue,(0,C.v_)(e.description),1),(0,n.Lk)("footer",Ve,[(0,n.Lk)("div",We,[l[14]||(l[14]=(0,n.Lk)("span",{class:"fw-semibold text-warning"},"Owner:",-1)),(0,n.Lk)("a",{href:`/codraw/account/${e.owner}`,style:{color:"#ff4f4f !important"}},(0,C.v_)(e.owner),9,_e)]),(0,n.Lk)("div",Ze,[(0,n.Lk)("input",{class:"form-control form-control-sm",readonly:"",disabled:"",value:"Views: "+e.views,style:{width:"150px"}},null,8,qe),(0,n.Lk)("input",{class:"form-control form-control-sm",readonly:"",disabled:"",value:e.modified,style:{width:"150px"}},null,8,$e)])])])],8,Xe)],2))),128)),0===d.value.length?((0,n.uX)(),(0,n.CE)("div",et,[...l[15]||(l[15]=[(0,n.Lk)("text",null,"No results found :(",-1)])])):(0,n.Q3)("",!0)])])])])])])}}});const at=(0,m.A)(ot,[["__scopeId","data-v-a1df3486"]]);var nt=at;const lt={name:"SeTtings"};var it=Object.assign(lt,{setup(e){const t=B("csrftoken");return console.log(t),(e,t)=>" settings "}});const rt=it;var st=rt,ct="data:image/webp;base64,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",dt=o.p+"img/bin.16bd31d4.webp",ut=o.p+"img/save.9ae805ea.webp",At=o.p+"img/edit.72b2dc1f.webp";const ft={key:0,class:"spinner-overlay"},gt={class:"flex-grow-1 text-white py-5"},pt=["src"],vt={class:"container"},ht={class:"fw-bold mb-5 text-center"},mt={class:"boards-wrapper mt-2"},wt={class:"d-flex justify-content-end align-items-center gap-2"},bt={key:0,class:"w-100"},kt={class:"d-flex justify-content-end align-items-center gap-2"},yt=["src","onClick"],xt=["src","onClick"],Lt=["src","onClick"],Et={key:0},Ct=["onUpdate:modelValue"],Rt=["onUpdate:modelValue"],Bt={key:1},jt=["onUpdate:modelValue"],Dt=["onUpdate:modelValue"],Pt={key:1,class:"w-100"},It=["onUpdate:modelValue"],Qt=["onUpdate:modelValue"],Tt={class:"card-body text-white position-relative flex-grow-1"},Mt={class:"d-flex flex-column align-items-start gap-1",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)",padding:"0.5rem"}},St={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Kt={class:"text-white"},Jt={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},zt={class:"text-white"},Ot={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Ft={class:"text-white"};var Ht={__name:"AccOunt",setup(e){const t=(0,i.KR)(null),o=(0,i.KR)(!1),l=B("csrftoken"),r=(0,i.KR)([]),s=(0,i.KR)(!0),c=(0,i.KR)({}),d=async e=>{try{const t=await fetch(`${R}/delete/${e}`,{method:"GET",headers:{"X-CSRFToken":l},credentials:"include"}),o=await t.json();200===o.status?console.log("Board deleted successfully"):console.log("Board not deleted successfully")}catch(t){console.error(t)}},u=async e=>{if(s.value=!0,e.original_description!==e.description||e.original_title!==e.title)try{const t=await fetch(`${R}/codraw/update/${e.room}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({title:e.title,description:e.description,timezone:de.c9.local().zoneName})}),o=await t.json();200===o.status?console.log("board saved successfully"):console.log("board saved unsuccessfully")}catch(t){console.error(t)}s.value=!1},A=async e=>{try{const t=await fetch(`${R}/username`,{method:"GET",headers:{"X-CSRFToken":l},credentials:"include"}),o=await t.json();let a="";return a=200==o.status?o.username:"ERROR 404 NOT FOUND",a===e}catch(t){console.error(t)}},f=async e=>{try{const t=await fetch(`${R}/codraw/boards/${e}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({timezone:de.c9.local().zoneName}),credentials:"include"}),o=await t.json();r.value=o.boards.map(e=>({...e,original_title:e.title,original_description:e.description})),console.log(o),c.value=o.boards.map(()=>!1)}catch(t){console.error(t)}};return(0,n.sV)(async()=>{s.value=!0;const e=window.location.pathname.split("/");t.value=e[e.length-1],o.value=await A(t.value),await f(t.value),s.value=!1}),(e,l)=>{const A=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[s.value?((0,n.uX)(),(0,n.CE)("div",ft,[(0,n.bF)((0,i.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("main",gt,[(0,n.bF)(A,{to:"/codraw"},{default:(0,n.k6)(()=>[(0,n.Lk)("img",{src:(0,i.R1)(ct),class:"back",style:{width:"50px",height:"50px"}},null,8,pt)]),_:1}),l[9]||(l[9]=(0,n.Lk)("button",{class:"bookmarks btn btn-primary"},"Bookmarks",-1)),(0,n.Lk)("div",vt,[(0,n.Lk)("h2",ht,(0,C.v_)(t.value)+"'s Boards",1),(0,n.Lk)("div",mt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"project-card"},[(0,n.Lk)("div",wt,[o.value?((0,n.uX)(),(0,n.CE)("div",bt,[(0,n.Lk)("div",kt,[c.value[t]?((0,n.uX)(),(0,n.CE)("img",{key:1,src:(0,i.R1)(ut),onClick:e=>{c.value[t]=!c.value[t],u(r.value[t]),r.value[t].modified="Just now"},style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,xt)):((0,n.uX)(),(0,n.CE)("img",{key:0,src:(0,i.R1)(At),onClick:e=>c.value[t]=!c.value[t],style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,yt)),(0,n.Lk)("img",{src:(0,i.R1)(dt),onClick:e=>{d(r.value[t].room),r.value.splice(t,1)},style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,Lt)]),c.value[t]?((0,n.uX)(),(0,n.CE)("div",Bt,[(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-white text-dark","onUpdate:modelValue":t=>e.title=t,onClick:l[2]||(l[2]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Title"},null,8,jt),[[a.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-white text-dark","onUpdate:modelValue":t=>e.description=t,onClick:l[3]||(l[3]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Description"},null,8,Dt),[[a.Jo,e.description]])])):((0,n.uX)(),(0,n.CE)("div",Et,[(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-dark text-white","onUpdate:modelValue":t=>e.title=t,onClick:l[0]||(l[0]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Title",readonly:"",disabled:""},null,8,Ct),[[a.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-dark text-white","onUpdate:modelValue":t=>e.description=t,onClick:l[1]||(l[1]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Description",readonly:"",disabled:""},null,8,Rt),[[a.Jo,e.description]])]))])):((0,n.uX)(),(0,n.CE)("div",Pt,[(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-dark text-white","onUpdate:modelValue":t=>e.title=t,onClick:l[4]||(l[4]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Title",readonly:"",disabled:""},null,8,It),[[a.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-dark text-white","onUpdate:modelValue":t=>e.description=t,onClick:l[5]||(l[5]=(0,a.D$)(()=>{},["stop"])),placeholder:"Board Description",readonly:"",disabled:""},null,8,Qt),[[a.Jo,e.description]])]))]),(0,n.Lk)("div",Tt,[(0,n.Lk)("div",Mt,[(0,n.Lk)("span",St,[l[6]||(l[6]=(0,n.eW)(" Views: ",-1)),(0,n.Lk)("span",Kt,(0,C.v_)(e.views),1)]),(0,n.Lk)("span",Jt,[l[7]||(l[7]=(0,n.eW)(" Last Modified: ",-1)),(0,n.Lk)("span",zt,(0,C.v_)(e.modified),1)]),(0,n.Lk)("span",Ot,[l[8]||(l[8]=(0,n.eW)(" Visibility: ",-1)),(0,n.Lk)("span",Ft,(0,C.v_)(e.visibility),1)])])])]))),128))])])])],64)}}};const Nt=(0,m.A)(Ht,[["__scopeId","data-v-41492dc4"]]);var Xt=Nt,Yt=(o(7588),o(4603),o(7566),o(8721),o.p+"img/email.54f0aca4.webp"),Gt=o.p+"img/zoom.91d1cc83.webp",Ut=o(2611),Vt=o(5778),Wt=o.n(Vt);const _t={style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden"}},Zt={key:0,class:"spinner-overlay"},qt={key:0,style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)","z-index":"100",display:"flex","align-items":"center","justify-content":"center"}},$t={style:{background:"#23272f",color:"#fff",padding:"32px 40px","border-radius":"16px","min-width":"320px","box-shadow":"0 8px 32px rgba(0,0,0,0.25)",position:"relative"}},eo={id:"toolbar",style:{position:"absolute",top:"32px",left:"5%",background:"rgba(30, 30, 30, 0.85)","border-radius":"16px","box-shadow":"0 4px 24px rgba(0,0,0,0.18)",padding:"20px 32px",display:"flex","align-items":"center",gap:"20px","z-index":"10"}},to={style:{color:"#fff","min-width":"32px","text-align":"center"}},oo={id:"inv_div",style:{position:"absolute",top:"32px",right:"1rem","z-index":"10"}},ao=["src"],no=["src"],lo={key:0},io={key:0,style:{position:"absolute",top:"150px",left:"35%","backdrop-filter":"blur(16px)",background:"rgba(30, 30, 30, 0.75)",border:"1px solid rgba(255, 255, 255, 0.1)","border-radius":"20px","box-shadow":"0 8px 32px rgba(0, 0, 0, 0.25)",padding:"32px",display:"flex","flex-direction":"column",gap:"20px","z-index":"20","min-width":"30vw","max-width":"90vw","font-family":"'Segoe UI', Roboto, sans-serif",transition:"ease-in-out 0.6s",color:"#fff"}},ro={style:{display:"flex","flex-direction":"column",gap:"6px"}},so={style:{position:"relative"}},co={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},uo={style:{display:"flex","flex-direction":"column",gap:"6px"}},Ao={style:{position:"relative"}},fo={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},go={style:{display:"flex","align-items":"center",gap:"10px"}},po={class:"switch"},vo={id:"zoom"},ho=["src"];var mo={__name:"BoArd",setup(e){const t=(0,i.KR)(!1),o=B("csrftoken"),l=(0,i.KR)(null),r=(0,i.KR)(null),s=(0,i.KR)(window.innerWidth),c=(0,i.KR)(!1),d=(0,i.KR)(!1),u=(0,i.KR)(!1),A=(0,i.KR)("#ffffff"),f=(0,i.KR)("#000000"),g=(0,i.KR)(null),p=(0,i.KR)(null),v=(0,i.KR)(null),h=(0,i.KR)("Public"),m=(0,i.KR)("brush"),w=(0,i.KR)(!1),b=(0,i.KR)(5),k=(0,i.KR)([]),y=(0,n.EW)(()=>`${(100*x.value).toFixed(0)}%`),x=(0,i.KR)(1),L=(0,i.KR)(null),E=(0,i.KR)(null),j=(0,i.KR)(null),D=(0,i.KR)(!1),P=(0,i.KR)(!1),I=(0,i.KR)(!0),Q=(0,i.KR)(!1),T=async()=>{if(c.value)I.value=!1;else try{const e=await fetch(`${R}/status`,{method:"GET",headers:{"X-CSRFToken":o},credentials:"include"});let t=await e.json();200===t.status&&t.user?I.value=!0:I.value=!1}catch(e){console.error(e)}},M=async()=>{const e=new URL(window.location.href).pathname.split("/")[2],t=new URL(window.location.href).pathname.split("/")[2];try{const a=await fetch(`${R}/is_bookmarked/${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({user:e}),credentials:"include"}),n=await a.json();200===n.status&&n.bookmarked?Q.value=!0:Q.value=!1}catch(a){Q.value=!1,console.error(a)}},S=(0,n.EW)(()=>s.value>1330),K={width:4*document.documentElement.clientWidth,height:4*document.documentElement.clientHeight,draggable:!1},J=(0,i.KR)(null),z=(0,i.KR)(new URL(window.location.href).pathname.split("/")[3]);J.value=new WebSocket(`ws://localhost:8000/ws/socket/${z.value}/`),J.value.onmessage=e=>{const t=JSON.parse(e.data);if(!t||!t.type)return;const o=j.value.getNode();if("start"===t.type){const e=new(Wt().Line)({stroke:t.stroke,strokeWidth:t.width,globalCompositeOperation:t.operation,points:t.points,lineCap:"round",lineJoin:"round"});e._remote=!0,o.add(e),l.value=e}else if("draw"===t.type&&l.value?._remote){const e=l.value.points().concat(t.points);l.value.points(e),o.batchDraw()}else"bg"===t.type&&t.bg&&(f.value=t.bg,P.value="#ffffff"===t.bg)};const O=e=>{e.evt.preventDefault()},F=document.createElement("canvas");F.width=K.width,F.height=K.height;const H=F.getContext("2d");function N(e){const t=r.value.getNode(),o=1.25,a=t.scaleX(),n="up"===e?1:-1;if(1===a&&-1===n)return;const l=n>0?a*o:a/o;x.value=l,t.scale({x:l,y:l}),t.batchDraw()}H.strokeStyle=A.value,H.fillStyle=f.value,H.lineJoin="round",H.lineWidth=b.value,H.lineCap="round",H.lineJoin="round",(0,n.wB)(A,e=>{H.strokeStyle=e});const X=async()=>{try{const e=new URL(window.location.href).pathname.split("/"),t=e[2],a=e[3],n=await fetch(`${R}/codraw/check_owner`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},credentials:"include",body:JSON.stringify({owner:t,room:a})}),l=await n.json();200===l.status&&(c.value=!0)}catch(e){c.value=!1,console.error(e)}},Y=async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),u.value=!0,p.value="Invitation link copied to clipboard!"}catch(e){console.error("Failed to copy: ",e),u.value=!0,p.value="Failed to copy the link."}},G=()=>{const e=localStorage.getItem("storage");if(e&&(k.value=JSON.parse(e),k.value.length>0)){const e=new window.Image;e.src=k.value[k.value.length-1].image,e.onload=()=>{H.clearRect(0,0,F.width,F.height),H.drawImage(e,0,0),j.value.getNode().batchDraw()}}},U=async()=>{try{t.value=!0;const e=new URL(window.location.href).pathname.split("/"),a=e[3];g.value||(u.value=!0,p.value="Please provide a title for your board."),g.value.length>66&&(u.value=!0,p.value="The title length is to large, must be at most 60 characters."),v.value&&v.value.length>170&&(u.value=!0,p.value="The description length is to large, must be at most 100 characters.");const n=await fetch(`${R}/codraw/save_new`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({project:a,payload:JSON.stringify(r.value.getStage().toJSON()),title:g.value,description:v.value,type:h.value,bg:f.value}),credentials:"include"}),l=await n.json();let i=!0;d.value=!1,200===l.status&&(i=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),i?(u.value=!0,p.value="There was an error saving your board."):(u.value=!0,p.value="Board saved successfully.",te())}catch(e){console.error(e)}};function V(e,t){const o=t.width,a=t.height,n=o/a;let l,i;const r=e.width/e.height;n>=r?(l=e.width,i=e.width/n):(l=e.height*n,i=e.height);let s=0,c=0;return s=(e.width-l)/2,c=(e.height-i)/2,{cropX:s,cropY:c,cropWidth:l,cropHeight:i}}function W(e){const t=V(e.image(),{width:e.width(),height:e.height()});e.setAttrs(t)}const _=e=>{e.preventDefault();const t=r.value?.getNode?.();if(!t)return;const o=t.getPointerPosition()||{x:t.width()/2,y:t.height()/2},a=ee(t,o),n=e.clipboardData;if(!n||0===n.files.length)return;const l=n.files[0];if(!l.type.startsWith("image/"))return;const i=new FileReader;i.onload=e=>{const t=new window.Image;t.src=e.target.result,t.onload=()=>{const o=new(Wt().Image)({id:(0,Ut.A)(),image:t,x:a.x,y:a.y,width:t.width,height:t.height,draggable:!1});W(o);const n=j.value.getNode();o.setAttr("src",e.target.result),n.add(o);const l=new(Wt().Transformer)({nodes:[o],keepRatio:!1,flipEnabled:!1,boundBoxFunc:(e,t)=>Math.abs(t.width)<10||Math.abs(t.height)<10?e:t});n.add(l),n.draw()},i.onloadstart=function(){console.error("Starting")},i.onerror=function(e){console.error("FileReader error:",e.target.error)}},i.readAsDataURL(l)},Z=async e=>{try{t.value=!0;const a=new URL(window.location.href).pathname.split("/"),n=a[3];if("save"===e){const e=await fetch(`${R}/codraw/save_project`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({project:n,payload:JSON.stringify(r.value.getStage().toJSON()),bg:f.value}),credentials:"include"}),a=await e.json();let l=!0;200===a.status&&(l=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),l?d.value=!0:(te(),u.value=!0,p.value="Board was successfully quick saved.")}else if("load"===e){const e=await fetch(`${R}/codraw/save_project`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:n})}),t=await e.json();return 200===t.status}}catch(a){console.error(a)}};function q(){localStorage.removeItem("storage"),c.value?window.location.href="http://localhost:8081/codraw":window.location.href="http://localhost:8081/"}function $(){c.value?(localStorage.removeItem("storage"),H.clearRect(0,0,F.width,F.height),j.value.getNode().clear(),j.value.getNode().batchDraw()):(u.value=!0,p.value="You don't have neccessary permissions to clear the board.")}const ee=e=>{const t=e.getAbsoluteTransform().copy();t.invert();const o=e.getPointerPosition();return t.point(o)},te=()=>{const e=r.value?.getNode?.();if(!e)return;const t=e.toDataURL();k.value=[{id:Date.now(),image:t}],localStorage.setItem("storage",JSON.stringify(k.value))},oe={image:F,x:0,y:0,width:F.width,height:F.height},ae=e=>{const t=e.target.getStage();if(2===e.evt.button)return D.value=!0,t.draggable(!0),t.startDrag(),void(L.value=t.getPointerPosition());w.value=!0;const o=ee(t),a=new(Wt().Line)({stroke:A.value,strokeWidth:b.value,globalCompositeOperation:"eraser"===m.value?"destination-out":"source-over",points:[o.x,o.y],lineCap:"round",lineJoin:"round"});J.value.send(JSON.stringify({type:"start",stroke:A.value,width:b.value,operation:"eraser"===m.value?"destination-out":"source-over",points:[o.x,o.y]})),j.value.getNode().add(a),l.value=a},ne=e=>{if(w.value=!1,l.value=null,D.value){const t=e.target.getStage();t.draggable(!1),D.value=!1}},le=e=>{if(!w.value||!l.value)return;const t=e.target.getStage(),o=ee(t),a=l.value.points().concat([o.x,o.y]);l.value.points(a),j.value.getNode().batchDraw(),J.value.send(JSON.stringify({type:"draw",points:[o.x,o.y]}))},ie=async()=>{try{const e=new URL(window.location.href).pathname.split("/"),t=e[3],o=await fetch(`${R}/codraw/get_details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:t})}),a=await o.json(),n=a.canva,l=a.bg;if(l&&(f.value=l,P.value="#ffffff"===l),n){const e=JSON.parse(n),t=j.value.getNode();t.destroyChildren(),e.children[0].children.forEach(e=>{if("Image"===e.className&&e.attrs.src){const t=new window.Image;t.src=e.attrs.src,e.attrs.image=t}const o=Wt().Node.create(e);t.add(o)}),t.draw()}}catch(e){console.error(e)}};return(0,n.sV)(async()=>{t.value=!0,await(0,n.dY)(),G(),await Z("load")&&setTimeout(()=>ie(),100),await X(),await T(),I.value&&await M();const e=r.value.getNode(),o=1.1;e.on("wheel",t=>{t.evt.preventDefault();const a=e.scaleX(),n=e.getPointerPosition(),l={x:(n.x-e.x())/a,y:(n.y-e.y())/a},i=t.evt.deltaY>0?1:-1;if(1===a&&-1===i)return;const r=i>0?a*o:a/o;x.value=r,e.scale({x:r,y:r});const s={x:n.x-l.x*r,y:n.y-l.y*r};e.position(s),e.batchDraw()});let a=null;window.addEventListener("resize",()=>{clearTimeout(a),a=setTimeout(()=>{const e=r.value?.getNode(),t=E.value?.getNode();if(!e||!t)return;const o=window.innerWidth,a=window.innerHeight;F.width=4*o,F.height=4*a,e.width(F.width),e.height(F.height),t.width(F.width),t.height(F.height);const n=t.getLayer();n&&n.batchDraw()},100)});const l=()=>{s.value=window.innerWidth};window.addEventListener("resize",l),window.addEventListener("paste",_);const i=document.createElement("div");i.id="preview",i.style.position="absolute",i.style.bottom="15px",i.style.left="15px",i.style.border="5px solid #ffc107",i.style.borderRadius="5%",i.style.backgroundColor="lightgrey",document.body.appendChild(i);const c=new(Wt().Stage)({container:"preview",width:window.innerWidth/8,height:window.innerHeight/8,scaleX:1/32,scaleY:1/32});let d=j.value.getNode(),u=new(Wt().Layer);const g=new(Wt().Rect)({x:0,y:0,width:32*c.width(),height:32*c.height(),fill:f.value,listening:!1});function p(){const e=JSON.parse(r.value.getStage().toJSON());u.destroyChildren(),u.add(g),e.children[0].children.forEach(e=>{const t=Wt().Node.create(e);u.add(t)}),u.draw()}c.add(u),u.add(g),(0,n.wB)(P,()=>{f.value=P.value?"#ffffff":"#000000",A.value=P.value?"#000000":"#ffffff",g.fill(f.value),u.batchDraw(),J.value.readyState===WebSocket.OPEN&&J.value.send(JSON.stringify({type:"bg",bg:f.value}))},{immediate:!0}),t.value=!1,d.on("add destroy change",p),p()}),setInterval(()=>te(),6e4),(0,n.xo)(()=>{J.value&&J.value.close(),t.value=!0}),(0,n.hi)(()=>{window.removeEventListener("paste",_)}),(e,o)=>{const l=(0,n.g2)("v-image"),s=(0,n.g2)("v-layer"),f=(0,n.g2)("v-stage");return(0,n.uX)(),(0,n.CE)("div",_t,[t.value?((0,n.uX)(),(0,n.CE)("div",Zt,[(0,n.bF)((0,i.R1)(fe.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(a.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[u.value?((0,n.uX)(),(0,n.CE)("div",qt,[(0,n.Lk)("div",$t,[(0,n.Lk)("button",{onClick:o[0]||(o[0]=e=>u.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}}," ✕ "),(0,n.Lk)("p",null,(0,C.v_)(p.value),1),(0,n.Lk)("button",{onClick:o[1]||(o[1]=e=>u.value=!1),id:"close_form",style:{"margin-top":"20px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer"}}," Close ")])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",eo,[(0,n.Lk)("button",{onClick:o[2]||(o[2]=e=>P.value=!P.value),style:(0,C.Tr)([{"border-radius":"50%",padding:"1rem","border-color":"#f68608","border-width":"5px"},{backgroundColor:P.value?"#ffffff":"#000000"}])},null,4),o[19]||(o[19]=(0,n.Lk)("text",{style:{color:"white"}},"Brush Color",-1)),(0,n.bo)((0,n.Lk)("input",{type:"color","onUpdate:modelValue":o[3]||(o[3]=e=>A.value=e)},null,512),[[a.Jo,A.value]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>m.value=e),style:{background:"#23272f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 16px","font-size":"1rem",outline:"none",cursor:"pointer"}},[...o[18]||(o[18]=[(0,n.Lk)("option",{value:"brush"},"Brush",-1),(0,n.Lk)("option",{value:"eraser"},"Eraser",-1)])],512),[[a.u1,m.value]]),o[20]||(o[20]=(0,n.Lk)("label",{style:{color:"#fff","font-size":"1rem","margin-right":"8px"}}," Line Width ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"range","onUpdate:modelValue":o[5]||(o[5]=e=>b.value=e),min:"1",max:"20",style:{"accent-color":"#4f8cff",width:"60px","margin-right":"8px"}},null,512),[[a.Jo,b.value]]),(0,n.Lk)("span",to,(0,C.v_)(b.value),1),c.value||I.value?((0,n.uX)(),(0,n.CE)("button",{key:0,id:"save_btn",onClick:o[6]||(o[6]=e=>Z("save")),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Save")):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:o[7]||(o[7]=e=>q()),id:"exit",style:{background:"#ff4f4f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Exit"),c.value?((0,n.uX)(),(0,n.CE)("button",{key:1,id:"clearall",style:{background:"#f68608",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"},onClick:o[8]||(o[8]=e=>$())}," Clear all ")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",oo,[I.value?((0,n.uX)(),(0,n.CE)("button",{key:0,id:"bookmark-btn",onClick:o[9]||(o[9]=(...t)=>e.toggleBookmark&&e.toggleBookmark(...t)),class:"mb-2",style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"10px",padding:"10px 18px","font-size":"0.95rem","font-weight":"500",cursor:"pointer",transition:"ease-in-out 0.6s"}},[(0,n.Lk)("img",{src:e.bookmarkIcon,alt:"Bookmark",style:{width:"18px",height:"18px"}},null,8,ao),(0,n.Lk)("span",null,(0,C.v_)(Q.value?"Bookmarked":"Bookmark"),1)])):(0,n.Q3)("",!0),(0,n.Lk)("button",{id:"inv",onClick:Y,style:{display:"flex","align-items":"center",gap:"8px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"10px",padding:"10px 18px","font-size":"0.95rem","font-weight":"500",cursor:"pointer",transition:"ease-in-out 0.6s"}},[(0,n.Lk)("img",{src:(0,i.R1)(Yt),alt:"Copy",style:{width:"18px",height:"18px"}},null,8,no),S.value?((0,n.uX)(),(0,n.CE)("span",lo,"Copy invitation link")):(0,n.Q3)("",!0)])]),(0,n.bF)(a.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[d.value?((0,n.uX)(),(0,n.CE)("div",io,[(0,n.Lk)("button",{onClick:o[10]||(o[10]=e=>d.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer",transition:"color 0.2s"}}," ✕ "),(0,n.Lk)("div",ro,[o[21]||(o[21]=(0,n.Lk)("label",{class:"align-self-start"},"Title",-1)),(0,n.Lk)("div",so,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":o[11]||(o[11]=e=>g.value=e),type:"text",placeholder:"Enter title",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[a.Jo,g.value]]),(0,n.Lk)("span",co,(0,C.v_)(g.value&&g.value.length||0),1)])]),(0,n.Lk)("div",uo,[o[22]||(o[22]=(0,n.Lk)("label",{class:"align-self-start"},"Description",-1)),(0,n.Lk)("div",Ao,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":o[12]||(o[12]=e=>v.value=e),rows:"3",placeholder:"Enter description",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",resize:"none",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[a.Jo,v.value]]),(0,n.Lk)("span",fo,(0,C.v_)(v.value&&v.value.length||0),1)])]),(0,n.Lk)("div",go,[o[24]||(o[24]=(0,n.Lk)("label",{style:{"flex-shrink":"0"}},"Private",-1)),(0,n.Lk)("label",po,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>h.value=e),type:"checkbox","true-value":"private","false-value":"public"},null,512),[[a.lH,h.value]]),o[23]||(o[23]=(0,n.Lk)("span",{class:"slider"},null,-1))])]),(0,n.Lk)("button",{id:"save_def",onClick:o[14]||(o[14]=e=>U()),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"12px",padding:"12px","font-size":"1rem","font-weight":"500",cursor:"pointer",transition:"0.5s ease-out"},class:"save"}," Save Details ")])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",vo,[(0,n.Lk)("label",{style:{"font-size":"larger",cursor:"pointer",width:"2rem"},onClick:o[15]||(o[15]=e=>N("up"))},"+"),(0,n.Lk)("img",{src:(0,i.R1)(Gt),class:"img-fluid",style:{width:"1.2rem",height:"1.2rem"}},null,8,ho),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":o[16]||(o[16]=e=>y.value=e),style:{width:"60px","text-align":"center","border-style":"none"},disabled:""},null,512),[[a.Jo,y.value]]),(0,n.Lk)("label",{style:{"font-size":"larger",cursor:"pointer",width:"2rem"},onClick:o[17]||(o[17]=e=>N("down"))},"-")]),(0,n.Lk)("div",{class:"board-wrapper",style:(0,C.Tr)({backgroundColor:P.value?"#ffffff":"#000000"})},[(0,n.bF)(f,{ref_key:"stageRef",ref:r,config:K,onMousedown:ae,onMousemove:le,onMouseup:ne,onTouchstart:ae,onTouchmove:le,onTouchend:ne,onContextmenu:O,style:{"overflow-x":"hidden","overflow-y":"hidden",border:"none !important"}},{default:(0,n.k6)(()=>[(0,n.bF)(s,{ref_key:"layerRef",ref:j},{default:(0,n.k6)(()=>[(0,n.bF)(l,{ref_key:"imageRef",ref:E,config:oe},null,512)]),_:1},512)]),_:1},512)],4)])}}};const wo=(0,m.A)(mo,[["__scopeId","data-v-1fc982f2"]]);var bo=wo;const ko=[{path:"/",component:ce},{path:"/signup",component:le},{path:"/signin",component:H},{path:"/codraw",component:nt},{path:"/codraw/settings",component:st},{path:"/codraw/account/:username",component:Xt},{path:"/board/:id/:room",component:bo}],yo=(0,E.aE)({history:(0,E.LA)(),routes:ko});(0,a.Ef)(x).use(yo).use(L.A).mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,l){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],l=e[d][2];for(var r=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(o.O).every(function(e){return o.O[e](a[s])})?a.splice(s--,1):(r=!1,l<i&&(i=l));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,n,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,l,i=a[0],r=a[1],s=a[2],c=0;if(i.some(function(t){return 0!==e[t]})){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var d=s(o)}for(t&&t(a);c<i.length;c++)l=i[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],function(){return o(1461)});a=o.O(a)})();
//# sourceMappingURL=app.2ed21e43.js.map