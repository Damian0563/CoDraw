(function(){"use strict";var e={9016:function(e,t,a){var o=a(3751),n=a(641);function i(e,t,a,o,i,l){const r=(0,n.g2)("NavBar"),s=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.$route.meta.showNav?((0,n.uX)(),(0,n.Wv)(r,{key:0})):(0,n.Q3)("",!0),(0,n.bF)(s)],64)}var l=a(953),r=a.p+"img/logo.10045025.webp";const s={class:"navbar navbar-expand-lg navbar-dark hero-background shadow p-3",style:{"background-color":"black !important"}},c={class:"container-fluid"},d=["src"],u={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNavbar",style:{"background-color":"black","max-width":"80vw"}},p={class:"offcanvas-body"},v={class:"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-column flex-lg-row align-items-center"},h={class:"nav-item my-2 my-lg-0 mx-2"},f={class:"nav-item my-2 my-lg-0 mx-2"},g={name:"NavBar",props:{msg:String}};var m=Object.assign(g,{setup(e){const t=()=>{const e=document.getElementById("offcanvasNavbar"),t=bootstrap.Offcanvas.getInstance(e);t&&t.hide()};return(e,a)=>{const o=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)("nav",s,[(0,n.Lk)("div",c,[(0,n.bF)(o,{class:"navbar-brand d-flex align-items-center",to:"/"},{default:(0,n.k6)(()=>[(0,n.Lk)("img",{src:(0,l.R1)(r),alt:"logo",loading:"lazy",decoding:"async",height:"60",class:"me-2"},null,8,d),a[0]||(a[0]=(0,n.Lk)("span",null,"CoDraw",-1))]),_:1}),a[4]||(a[4]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,n.Lk)("div",u,[a[3]||(a[3]=(0,n.Lk)("div",{class:"offcanvas-header border-bottom border-secondary"},[(0,n.Lk)("h5",{class:"offcanvas-title text-white",id:"offcanvasNavbarLabel"},"Menu"),(0,n.Lk)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),(0,n.Lk)("div",p,[(0,n.Lk)("ul",v,[(0,n.Lk)("li",h,[(0,n.bF)(o,{class:"btn btn-signup w-100",to:"/signup",onClick:t},{default:(0,n.k6)(()=>[...a[1]||(a[1]=[(0,n.eW)("Sign up",-1)])]),_:1})]),(0,n.Lk)("li",f,[(0,n.bF)(o,{class:"btn btn-signin w-100",to:"/signin",onClick:t},{default:(0,n.k6)(()=>[...a[2]||(a[2]=[(0,n.eW)("Sign in",-1)])]),_:1})])])])])])])}}}),y=a(6262);const w=(0,y.A)(m,[["__scopeId","data-v-e6cab236"]]);var b=w,k={name:"App",components:{NavBar:b}};const x=(0,y.A)(k,[["render",i]]);var L=x,S=a(5916),C=a(1029),T=(a(9112),a(3110),a(4979),a(33));const R="http://localhost:8000",O="ws://localhost:8000/ws/socket",N="373387543374-fsreaovr782e5faifv2f7128jq6ch4n3",E=(0,l.Kh)({});function F(e){let t=null;if(document.cookie&&""!==document.cookie){const a=document.cookie.split(";");for(let o=0;o<a.length;o++){const n=a[o].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}var _=a(5279);const z={class:"footer-section"},D={class:"container text-center"},X={class:"row justify-content-center"},W={class:"col-md-2 mb-3 footer-links"},j={class:"col-md-3 mb-3 footer-social"},P={class:"social-icons"},J={href:"https://github.com/Damian0563/CoDraw"},K={class:"footer-copy"};function A(e,t,a,o,i,l){const r=(0,n.g2)("router-link"),s=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("footer",z,[(0,n.Lk)("div",D,[(0,n.Lk)("div",X,[t[4]||(t[4]=(0,n.Lk)("div",{class:"col-md-4 mb-3 footer-brand"},[(0,n.Lk)("h3",{class:"footer-title"},"CoDraw"),(0,n.Lk)("p",{class:"footer-desc"}," Collaborative drawing made simple, fast, and fun. Create together from anywhere. ")],-1)),(0,n.Lk)("div",W,[t[2]||(t[2]=(0,n.Lk)("h5",null,"Explore",-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(r,{to:"/"},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)("Home",-1)])]),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(r,{to:"/signup"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("Get Started",-1)])]),_:1})])])]),(0,n.Lk)("div",j,[t[3]||(t[3]=(0,n.Lk)("h5",null,"Follow Us",-1)),(0,n.Lk)("div",P,[(0,n.Lk)("a",J,[(0,n.bF)(s,{icon:["fab","github"]})])])])]),t[5]||(t[5]=(0,n.Lk)("hr",{class:"footer-divider"},null,-1)),(0,n.Lk)("p",K," © "+(0,T.v_)((new Date).getFullYear())+" CoDraw. All rights reserved. ",1)])])}var $={name:"FoOter"};const I=(0,y.A)($,[["render",A],["__scopeId","data-v-0c2a4688"]]);var U=I;const B={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},V={class:"alert-content",style:{"padding-top":"0.2rem"}},M={style:{color:"#ffc107","font-size":"1rem"}},q={key:0,class:"alert alert-success text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(40,167,69,0.10)",background:"#222",border:"1.5px solid #28a745"}},Y={class:"alert-content",style:{"padding-top":"0.2rem"}},Q={style:{color:"#28a745","font-size":"1rem"}},H={key:0,class:"spinner-overlay d-flex justify-content-center align-items-center"},G={key:0,class:"recovery-container",role:"alert"},Z={class:"d-flex justify-content-center pt-5 mb-5 hero-background"},ee={class:"card p-3 shadow-lg w-60 mx-5",style:{"max-width":"1000px",width:"100%",background:"white",border:"none","min-height":"unset"}},te={class:"mb-2"},ae={class:"mb-2"},oe={class:"form-check d-flex align-items-center mb-3 w-100 flex-wrap",style:{padding:"0 !important",gap:"1.2rem"}},ne={class:"text-center mt-2"},ie={class:"text-center mt-2"};var le={__name:"SignIn",setup(e){let t=(0,l.KR)(""),a=(0,l.KR)(!1),i=(0,l.KR)(!1);const r=(0,l.KR)(!1),s=(0,l.KR)(""),c=(0,l.KR)(""),d=(0,l.KR)(!1),u=(0,l.KR)(!1),p=(0,l.KR)(!1),v=(0,l.KR)(null);async function h(e){try{const o=e.currentTarget;if(d.value=!0,!o.checkValidity())return e.preventDefault(),void e.stopPropagation();u.value=!1,r.value=!0,a.value=!1,p.value=!1;const n=await fetch(`${R}/restore_password/${s.value}`,{method:"GET",headers:{"X-CSRFToken":F("csrftoken")},credentials:"include"}),i=await n.json();r.value=!1,200===i.status?(t.value="Recovery link sent, its validity is 5 minutes! Please check your email.",p.value=!0):(t.value="This email is not registered. Please check your email address.",a.value=!0)}catch(o){console.error(o),r.value=!1,t.value="An error occurred while sending reset email. Please try again later.",a.value=!0}}async function f(e){e.preventDefault();const o=v.value;if(o.classList.add("was-validated"),o.checkValidity()){r.value=!0;try{const e=F("csrftoken"),o=await fetch(`${R}/signin`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include",body:JSON.stringify({mail:s.value,password:c.value,remember:i.value})}),n=await o.json();200===n.status?window.location.href="/codraw":(a.value=!0,t.value="Invalid credentials. Please try again."),r.value=!1}catch(e){console.error(e),a.value=!0,t.value="An error occurred while signing in.",r.value=!1}}else e.stopPropagation()}async function g(){try{const e=F("csrftoken"),t=await fetch(`${R}/signin`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&(window.location.href="/codraw")}catch(e){console.error(e)}}async function m(e){try{r.value=!0;const o=F("csrftoken"),n=JSON.parse(atob(e.credential.split(".")[1])),i=await fetch(`${R}/google-signin`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},credentials:"include",body:JSON.stringify({token:n.sub,email:n.email,name:n.name})}),l=await i.json();console.log(l.status),200===l.status?window.location.href="/codraw":401===l.status?(a.value=!0,t.value="Google sign-in failed, the following email is already registered. Did you forget your password?"):(a.value=!0,t.value="Google sign-in failed. Please sign up first.")}catch(o){a.value=!0,t.value="An error occurred during Google sign-in."}finally{r.value=!1}}return(0,n.sV)(()=>{window.google.accounts.id.initialize({client_id:`${N}.apps.googleusercontent.com`,callback:m}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large"}),g()}),(e,g)=>{const m=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,l.R1)(a)?((0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("button",{onClick:g[0]||(g[0]=e=>(0,l.i9)(a)?a.value=!1:a=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",V,[(0,n.Lk)("strong",M,(0,T.v_)((0,l.R1)(t)),1)])])):(0,n.Q3)("",!0)]),_:1}),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[p.value?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("button",{onClick:g[1]||(g[1]=e=>p.value=!1),class:"float-end",style:{background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}},"✕"),(0,n.Lk)("div",Y,[(0,n.Lk)("strong",Q,(0,T.v_)((0,l.R1)(t)),1)])])):(0,n.Q3)("",!0)]),_:1}),r.value?((0,n.uX)(),(0,n.CE)("div",H,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[u.value?((0,n.uX)(),(0,n.CE)("div",G,[(0,n.Lk)("button",{onClick:g[2]||(g[2]=e=>u.value=!1),class:"float-end",style:{background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}},"✕"),g[11]||(g[11]=(0,n.Lk)("h2",{class:"recovery-title"},"Input your email, recovery link will be sent to you!",-1)),(0,n.Lk)("form",{class:(0,T.C4)(["mb-3 needs-validation",{"was-validated":d.value}]),novalidate:"",onSubmit:(0,o.D$)(h,["prevent"])},[g[8]||(g[8]=(0,n.Lk)("label",{for:"emailInput",class:"form-label recovery-label"},"Email Address",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control form-control-lg mb-3 recovery-input",placeholder:"e.g. name@example.com",required:"","onUpdate:modelValue":g[3]||(g[3]=e=>s.value=e)},null,512),[[o.Jo,s.value]]),g[9]||(g[9]=(0,n.Lk)("div",{class:"invalid-feedback mb-2 recovery-invalid-feedback"}," Please specify a valid email address. ",-1)),g[10]||(g[10]=(0,n.Lk)("button",{type:"submit",class:"btn recovery-btn btn-lg w-100 shadow-sm mt-3"}," Send Recovery Link ",-1))],34)])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",Z,[(0,n.Lk)("div",ee,[g[21]||(g[21]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign In",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:v,onSubmit:f,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",te,[g[12]||(g[12]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100",autocomplete:"on"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":g[4]||(g[4]=e=>s.value=e),class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[o.Jo,s.value]]),g[13]||(g[13]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",ae,[g[14]||(g[14]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100",autocomplete:"on"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":g[5]||(g[5]=e=>c.value=e),class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[o.Jo,c.value]]),g[15]||(g[15]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),(0,n.Lk)("div",oe,[g[16]||(g[16]=(0,n.Lk)("label",{class:"form-check-label text-black fw-medium mb-0",for:"rememberMe"}," Remember me ",-1)),(0,n.Lk)("input",{type:"checkbox",ref_key:"ticked",ref:i,onClick:g[6]||(g[6]=e=>(0,l.i9)(i)?i.value=!(0,l.R1)(i):i=!(0,l.R1)(i)),id:"rememberMe",style:{"accent-color":"#ffc107",margin:"0 !important",width:"1.25rem",height:"1.25rem"}},null,512)]),g[17]||(g[17]=(0,n.Lk)("button",{id:"sign",type:"submit",class:"btn btn-success w-50 mt-2",style:{"background-color":"yellow",color:"black"}},"Sign In",-1)),g[18]||(g[18]=(0,n.Lk)("div",{class:"d-flex justify-content-center mt-2"},[(0,n.Lk)("div",{id:"google-signin-button",class:"g-signin2"})],-1))],544),(0,n.Lk)("div",ne,[g[20]||(g[20]=(0,n.Lk)("span",{class:"text-secondary"},"Do not have an account?",-1)),(0,n.bF)(m,{to:"/signup",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...g[19]||(g[19]=[(0,n.eW)("Sign up",-1)])]),_:1})]),(0,n.Lk)("div",ie,[(0,n.Lk)("text",{onClick:g[7]||(g[7]=e=>u.value=!0),class:"ms-2 text-info",style:{cursor:"pointer"}},"Forgot your password?")])])]),(0,n.bF)(U)],64)}}};const re=(0,y.A)(le,[["__scopeId","data-v-1f6b470a"]]);var se=re;const ce={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},de={class:"alert-content",style:{"padding-top":"0.2rem"}},ue={style:{color:"#ffc107","font-size":"1rem"}},pe={key:0,class:"overlay"},ve={class:"popup-card"},he={class:"d-flex justify-content-center mb-3"},fe={key:1,class:"spinner-overlay d-flex justify-content-center align-items-center"},ge={class:"d-flex justify-content-center pt-5 mb-5 hero-background"},me={class:"card p-3 shadow-lg w-60 mx-5",style:{"max-width":"1000px",width:"100%",background:"white",border:"none","min-height":"unset"}},ye={class:"mb-2"},we={class:"mb-2"},be={class:"mb-2"},ke={class:"text-center mt-2"};var xe={__name:"SignUp",setup(e){let t=(0,l.KR)(!1),a=(0,l.KR)(null),i=(0,l.KR)(!1),r=(0,l.KR)("");const s=(0,l.KR)(!1),c=(0,l.KR)(""),d=(0,l.KR)(""),u=(0,l.KR)(""),p=(0,l.KR)(null),v=(0,l.KR)(null),h=(0,l.KR)(null),f=(0,l.KR)(null),g=(0,l.KR)(null),m=(0,l.KR)(""),y=(0,l.KR)(""),w=(0,l.KR)(""),b=(0,l.KR)(""),k=(0,l.KR)("");async function x(){try{const e=F("csrftoken"),t=await fetch(`${R}/signup`,{method:"GET",headers:{"X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}}async function L(e){e.preventDefault();const o=a.value;if(o.classList.add("was-validated"),!o.checkValidity())return void e.stopPropagation();const l=F("csrftoken"),s=c.value,v=d.value,h=u.value;try{const e=await fetch(`${R}/signup`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({username:s,mail:h,password:v}),credentials:"include"}),a=await e.json();200===a.status?(t.value=!0,await(0,n.dY)(),p.value.focus()):(i.value=!0,r.value="Account already registered under this email. Did you forget your password?")}catch(e){console.error(e)}}function S(e,t){!e.key.startsWith("Arrow")&&"0123456789".includes(e.key)&&("Backspace"===e.key||"Del"==e.key?3!==t||y.value?5!==t||b.value?4!==t||w.value?6!==t||k.value||f.value.focus():v.value.focus():h.value.focus():p.value.focus():2===t&&v.value?v.value.focus():3===t&&h.value?h.value.focus():4===t&&f.value?f.value.focus():5===t&&g.value&&g.value.focus())}function C(){return`${m.value}${y.value}${w.value}${b.value}${k.value}`}async function O(){const e=F("csrftoken"),a=c.value,o=u.value,n=await fetch(`${R}/verify`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({username:a,mail:o,code:C()})}),l=await n.json();200===l.status?window.location.href="/codraw":(t.value=!1,i.value=!0,m.value="",y.value="",w.value="",b.value="",k.value="",r.value="Invalid verification code. Please try again- new verification code has been sent.")}async function E(e){try{s.value=!0;const t=F("csrftoken"),a=JSON.parse(atob(e.credential.split(".")[1])),o=await fetch(`${R}/google-signup`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},credentials:"include",body:JSON.stringify({token:a.sub,email:a.email,name:a.name})}),n=await o.json();300===n.status?window.location.href="/codraw":(i.value=!0,r.value="Google sign-up failed. An account with this email already exists. Did you forget your password?")}catch(t){i.value=!0,r.value="An error occurred during Google sign-up."}finally{s.value=!1}}return x(),(0,n.sV)(()=>{s.value=!0,window.google.accounts.id.initialize({client_id:`${N}.apps.googleusercontent.com`,callback:E}),window.google.accounts.id.renderButton(document.getElementById("google-signup-button"),{theme:"outline",size:"large",text:"signup"}),s.value=!1}),(e,x)=>{const C=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,l.R1)(i)?((0,n.uX)(),(0,n.CE)("div",ce,[(0,n.Lk)("button",{onClick:x[0]||(x[0]=e=>(0,l.i9)(i)?i.value=!1:i=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",de,[(0,n.Lk)("strong",ue,(0,T.v_)((0,l.R1)(r)),1),x[15]||(x[15]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,l.R1)(t)?((0,n.uX)(),(0,n.CE)("div",pe,[(0,n.Lk)("div",ve,[(0,n.Lk)("button",{onClick:x[1]||(x[1]=e=>(0,l.i9)(t)?t.value=!1:t=!1),"aria-label":"Close",class:"float-end",style:{background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}},"✕"),x[16]||(x[16]=(0,n.Lk)("h4",{class:"mb-3"},"Enter Verification Code",-1)),(0,n.Lk)("div",he,[(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"1",onKeyup:x[2]||(x[2]=e=>S(e,2)),ref_key:"ZeroInput",ref:p,"onUpdate:modelValue":x[3]||(x[3]=e=>m.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,m.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"2",onKeyup:x[4]||(x[4]=e=>S(e,3)),"onUpdate:modelValue":x[5]||(x[5]=e=>y.value=e),class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric",ref_key:"OneInput",ref:v},null,544),[[o.Jo,y.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"3",onKeyup:x[6]||(x[6]=e=>S(e,4)),"onUpdate:modelValue":x[7]||(x[7]=e=>w.value=e),ref_key:"TwoInput",ref:h,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,w.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"4",onKeyup:x[8]||(x[8]=e=>S(e,5)),"onUpdate:modelValue":x[9]||(x[9]=e=>b.value=e),ref_key:"ThreeInput",ref:f,class:"code-input",type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,b.value]]),(0,n.bo)((0,n.Lk)("input",{maxlength:"1",id:"5",onKeyup:x[10]||(x[10]=e=>S(e,6)),class:"code-input","onUpdate:modelValue":x[11]||(x[11]=e=>k.value=e),ref_key:"FourInput",ref:g,type:"text",pattern:"[0-9]*",inputmode:"numeric"},null,544),[[o.Jo,k.value]])]),(0,n.Lk)("button",{class:"btn btn-primary w-100",onClick:O},"Verify")])])):(0,n.Q3)("",!0),s.value?((0,n.uX)(),(0,n.CE)("div",fe,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("div",ge,[(0,n.Lk)("div",me,[x[26]||(x[26]=(0,n.Lk)("h2",{class:"text-center mb-3 text-black"},"Sign Up",-1)),(0,n.Lk)("form",{ref_key:"formRef",ref:a,onSubmit:L,class:"needs-validation",novalidate:""},[(0,n.Lk)("div",ye,[x[17]||(x[17]=(0,n.Lk)("label",{for:"username",class:"form-label text-black text-start w-100"},"Username",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":x[12]||(x[12]=e=>c.value=e),type:"text",class:"form-control bg-dark text-white border-secondary",id:"username",placeholder:"Enter username",style:{color:"white"},required:""},null,512),[[o.Jo,c.value]]),x[18]||(x[18]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify username. ",-1))]),(0,n.Lk)("div",we,[x[19]||(x[19]=(0,n.Lk)("label",{for:"email",class:"form-label text-black text-start w-100"},"Email address",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":x[13]||(x[13]=e=>u.value=e),type:"email",class:"form-control bg-dark text-white border-secondary",id:"email",placeholder:"Enter email",required:""},null,512),[[o.Jo,u.value]]),x[20]||(x[20]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify email. ",-1))]),(0,n.Lk)("div",be,[x[21]||(x[21]=(0,n.Lk)("label",{for:"password",class:"form-label text-black text-start w-100"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":x[14]||(x[14]=e=>d.value=e),type:"password",class:"form-control bg-dark text-white border-secondary",id:"password",placeholder:"Enter password",required:""},null,512),[[o.Jo,d.value]]),x[22]||(x[22]=(0,n.Lk)("div",{class:"invalid-feedback"}," Please specify password. ",-1))]),x[23]||(x[23]=(0,n.Lk)("button",{id:"sign",class:"btn btn-success w-50 mt-2",type:"submit",style:{"background-color":"yellow",color:"black"}},"Sign Up",-1))],544),x[27]||(x[27]=(0,n.Lk)("div",{class:"d-flex justify-content-center mt-2"},[(0,n.Lk)("div",{id:"google-signup-button",class:"g-signup2"})],-1)),(0,n.Lk)("div",ke,[x[25]||(x[25]=(0,n.Lk)("span",{class:"text-secondary"},"Already have an account?",-1)),(0,n.bF)(C,{to:"/signin",class:"ms-2 text-info"},{default:(0,n.k6)(()=>[...x[24]||(x[24]=[(0,n.eW)("Sign In",-1)])]),_:1})])])]),(0,n.bF)(U)],64)}}};const Le=(0,y.A)(xe,[["__scopeId","data-v-47f7bfd5"]]);var Se=Le;const Ce={class:"hero-background"},Te={class:"d-flex align-items-center justify-content-center gap-5 flex-wrap"},Re={class:"hero-subtitle mb-0 mx-2"},Oe={ref:"typewriterText",class:"typewriter-text"},Ne={class:"features-section"},Ee={class:"container"},Fe={class:"row justify-content-center"},_e={class:"card-body text-center"},ze={class:"card-title mt-3"},De={class:"card-text"},Xe={id:"about",href:"#about",class:"about-sec","aria-label":"About codraw"},We={class:"container"},je={class:"row align-items-center"},Pe={class:"col-md-6 about-text scroll-reveal"},Je={class:"col-md-6 text-center about-visual scroll-reveal",style:{"transition-delay":"200ms"}},Ke=["src"],Ae={class:"faq-section","aria-label":"Frequently Asked Questions"},$e={class:"container"},Ie={class:"row justify-content-center"},Ue={class:"col-lg-8"},Be={class:"accordion",id:"faqAccordion"},Ve=["id"],Me=["data-bs-target","aria-expanded","aria-controls"],qe=["id","aria-labelledby"],Ye={class:"accordion-body faq-body"};function Qe(e,t,a,o,i,l){const r=(0,n.g2)("font-awesome-icon"),s=(0,n.g2)("router-link"),c=(0,n.g2)("FoOter");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",Ce,[t[2]||(t[2]=(0,n.Lk)("h1",{class:"hero-title"},"CoDraw",-1)),(0,n.Lk)("div",Te,[(0,n.bF)(r,{icon:["fa","paintbrush"],class:"feature-icon secondary-floating-icon"}),(0,n.bF)(r,{icon:["fa","feather-pointed"],class:"feature-icon hero-floating-icon"}),(0,n.Lk)("p",Re,[(0,n.Lk)("span",Oe,null,512),t[0]||(t[0]=(0,n.Lk)("span",{class:"cursor"},"|",-1))]),(0,n.bF)(r,{icon:["fa","pencil"],class:"feature-icon hero-floating-icon"}),(0,n.bF)(r,{icon:["fa","paint-roller"],class:"feature-icon secondary-floating-icon"})]),(0,n.bF)(s,{to:l.getDemoPath(),"aria-label":"Go to full demo"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.Lk)("button",{class:"demo-btn mt-4","aria-label":"Try Full Demo"},"Start drawing now",-1)])]),_:1},8,["to"])]),(0,n.Lk)("div",Ne,[(0,n.Lk)("div",Ee,[(0,n.Lk)("div",Fe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.features,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-3 mb-3",key:t},[(0,n.Lk)("div",{class:"card feature-card h-100 bg-dark text-white shadow-lg scroll-reveal",style:(0,T.Tr)({transitionDelay:250*t+"ms"})},[(0,n.Lk)("div",_e,[(0,n.bF)(r,{icon:e.icon,class:"feature-icon"},null,8,["icon"]),(0,n.Lk)("h5",ze,(0,T.v_)(e.title),1),(0,n.Lk)("p",De,(0,T.v_)(e.text),1)])],4)]))),128))])])]),t[7]||(t[7]=(0,n.Lk)("section",{class:"about-sec container text-center my-5 scroll-reveal","aria-label":"Our mission"},[(0,n.Lk)("text",{class:"about-title"},"No subscriptions, no hidden fees"),(0,n.Lk)("text",{class:"about-text",style:{"font-size":"2.5rem"}},"- just free for everyone, forever with at most respect to privacy.")],-1)),(0,n.Lk)("section",Xe,[(0,n.Lk)("div",We,[(0,n.Lk)("div",je,[(0,n.Lk)("div",Pe,[t[4]||(t[4]=(0,n.Lk)("h2",{class:"about-title"},"About CoDraw",-1)),t[5]||(t[5]=(0,n.Lk)("p",null,[(0,n.eW)(" CoDraw was built for creators who believe in collaboration. Whether you're sketching concepts, storyboarding, or designing together, CoDraw makes teamwork feel effortless and fun. "),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.eW)(" With our real-time synchronization engine and a beautifully minimal interface, you can see every brushstroke from your teammates the moment it happens — no refreshes, no lag, just instant creativity. "),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.eW)(" Our mission is simple: empower creativity by connecting people through shared imagination. ")],-1)),(0,n.bF)(s,{to:"/learn-more#learn-more","aria-label":"Learn More"},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.Lk)("button",{class:"about-btn mt-3","aria-label":"Learn More"},"Learn More",-1)])]),_:1})]),(0,n.Lk)("div",Je,[(0,n.Lk)("img",{src:i.logo,alt:"Collaborative Drawing",class:"about-image",loading:"lazy",decoding:"async"},null,8,Ke)])])])]),(0,n.Lk)("section",Ae,[(0,n.Lk)("div",$e,[t[6]||(t[6]=(0,n.Lk)("h2",{class:"faq-title text-center mb-5 scroll-reveal"},"Frequently Asked Questions",-1)),(0,n.Lk)("div",Ie,[(0,n.Lk)("div",Ue,[(0,n.Lk)("div",Be,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.faqs,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"accordion-item faq-item scroll-reveal",key:t,style:(0,T.Tr)({transitionDelay:100*t+"ms"})},[(0,n.Lk)("h2",{class:"accordion-header",id:"heading"+t},[(0,n.Lk)("button",{class:"accordion-button faq-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t,"aria-expanded":0===t?"true":"false","aria-controls":"collapse"+t},(0,T.v_)(e.question),9,Me)],8,Ve),(0,n.Lk)("div",{id:"collapse"+t,class:(0,T.C4)(["accordion-collapse collapse",{show:0===t}]),"aria-labelledby":"heading"+t,"data-bs-parent":"#faqAccordion"},[(0,n.Lk)("div",Ye,(0,T.v_)(e.answer),1)],10,qe)],4))),128))])])])])]),(0,n.bF)(c)],64)}a(8111),a(7588);var He=a(2611),Ge={name:"HeRo",components:{FoOter:U},data(){return{logo:r,fullText:"Tired of emailing screenshots back and forth? Stop struggling with clunky tools and endless feedback loops. CoDraw lets you create together in real-time—no downloads, no subscriptions, just instant collaboration. Draw, brainstorm, and bring ideas to life with your team right now.",typewriterIndex:0,typewriterTimeout:null,features:[{title:"Modern and Slick",text:"A visually appealing interface designed for a seamless and enjoyable drawing experience.",icon:["fas","palette"]},{title:"Performance Oriented",text:"Optimized for speed and responsiveness, ensuring smooth collaboration in real time.",icon:["fas","bolt"]},{title:"Intuitive Design",text:"Easy-to-use tools and layout, making creativity accessible for everyone.",icon:["fas","lightbulb"]}],faqs:[{question:"Is CoDraw really free forever?",answer:"Yes! CoDraw is completely free with no subscriptions, hidden fees, or premium features. We believe creativity should be accessible to everyone."},{question:"How many people can collaborate on a single drawing?",answer:"CoDraw supports real-time collaboration for multiple users. There's no strict limit - you can invite as many friends as you'd like to join your drawing session."},{question:"Do I need to create an account to use CoDraw?",answer:"While you can try our demo without an account, creating one allows you to save your drawings, create private rooms, and collaborate with others."},{question:"What browsers does CoDraw support?",answer:"CoDraw works on all modern browsers including Chrome, Firefox, Safari, and Edge. We recommend using the latest version for the best experience."},{question:"Can I use CoDraw on mobile devices?",answer:"Yes! CoDraw is fully responsive and works great on tablets and mobile devices. Touch controls are optimized for drawing on smaller screens."}]}},mounted(){this.check(),this.startTypewriter(),this.initScrollReveal()},beforeUnmount(){this.typewriterTimeout&&clearTimeout(this.typewriterTimeout)},methods:{async check(){try{const e=F("csrftoken"),t=await fetch(`${R}/home`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":e},credentials:"include"}),a=await t.json();300===a.status&&"/codraw"!==window.location.pathname&&(window.location.href="/codraw")}catch(e){console.error(e)}},getDemoPath(){return`/demo/${(0,He.A)()}?origin=home`},startTypewriter(){const e=()=>{this.typewriterIndex<this.fullText.length&&this.$refs.typewriterText&&(this.$refs.typewriterText.textContent+=this.fullText.charAt(this.typewriterIndex),this.typewriterIndex++,this.typewriterTimeout=setTimeout(e,30))};this.typewriterTimeout=setTimeout(e,800)},initScrollReveal(){const e={root:null,rootMargin:"0px",threshold:.1},t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("revealed"),t.unobserve(e.target))})},e),a=document.querySelectorAll(".scroll-reveal");a.forEach(e=>t.observe(e))}}};const Ze=(0,y.A)(Ge,[["render",Qe],["__scopeId","data-v-665f1577"]]);var et=Ze,tt=(a(4114),a(1701),a(8237),a.p+"img/sidebar.9317e3f0.webp");const at={class:"sidebar-header d-flex flex-column align-items-center mb-4"},ot=["src"],nt=["src"];var it={__name:"SiDebar",setup(e){const t=(0,l.KR)(!1),a=F("csrftoken"),o=(0,l.KR)(!1),i=(0,l.KR)(!1),s=(0,l.KR)(""),c={"/codraw":!1,"/codraw/search":!1,"/codraw/account":!1};function d(){const e=window.location.pathname;"/codraw"===e?c["/codraw"]=!0:"/codraw/search"===e?c["/codraw/search"]=!0:e.startsWith("/codraw/account")&&(c["/codraw/account"]=!0)}async function u(){try{const e=await fetch(`${R}/log_out`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},credentials:"include"}),t=await e.json();200===t.status&&(window.location.href="/")}catch(e){console.error(e)}}async function p(){try{const e=await fetch(`${R}/username`,{method:"GET",headers:{"X-CSRFToken":a},credentials:"include"}),t=await e.json();200==t.status?s.value=t.username:s.value="ERROR 404 NOT FOUND"}catch(e){console.error(e)}}function v(){i.value=window.innerWidth<=500}function h(e){if(i.value&&o.value){const t=e.target.closest(".sidebar");t||(o.value=!1)}}return(0,n.sV)(async()=>{t.value=!0,d(),v(),await p(),window.addEventListener("resize",v),window.addEventListener("click",h),t.value=!1}),(e,t)=>{const a=(0,n.g2)("font-awesome-icon"),d=(0,n.g2)("RouterLink");return(0,n.uX)(),(0,n.CE)("aside",{class:(0,T.C4)(["sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark",{"sidebar-collapsed":!o.value,"sidebar-overlay":i.value&&o.value}])},[(0,n.Lk)("div",at,[(0,n.Lk)("img",{loading:"lazy",alt:"sidebar",decoding:"async",class:(0,T.C4)(["toggle mb-3 align-self-end",{"align-self-center":!o.value}]),onClick:t[0]||(t[0]=e=>(i.value,o.value=!o.value)),src:(0,l.R1)(tt),style:{cursor:"pointer",width:"2rem",height:"2rem"}},null,10,ot),(0,n.Lk)("img",{src:(0,l.R1)(r),alt:"logo",loading:"lazy",decoding:"async",class:"logo mb-4 img-fluid rounded rounded-circle",style:{"max-height":"20vh"}},null,8,nt),(0,n.bF)(d,{to:"/codraw",class:(0,T.C4)(["nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile",{"active-tile":c["/codraw"]}])},{default:(0,n.k6)(()=>[(0,n.bF)(a,{class:"mx-2 tile-icon",icon:["fas","home"]}),t[2]||(t[2]=(0,n.Lk)("span",{class:"tile-text"},"Start Page",-1))]),_:1},8,["class"]),(0,n.bF)(d,{to:`/codraw/account/${s.value}`,class:(0,T.C4)(["nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile",{"active-tile":c["/codraw/account"]}])},{default:(0,n.k6)(()=>[(0,n.bF)(a,{class:"mx-2 tile-icon",icon:["fas","user"]}),t[3]||(t[3]=(0,n.Lk)("span",{class:"tile-text"},"My Account",-1))]),_:1},8,["to","class"]),(0,n.bF)(d,{to:"/codraw/search",class:(0,T.C4)(["nav-link rounded-3 p-3 account-link mb-3 text-center modern-tile",{"active-tile":c["/codraw/search"]}])},{default:(0,n.k6)(()=>[(0,n.bF)(a,{class:"mx-2 tile-icon",icon:["fas","search"]}),t[4]||(t[4]=(0,n.Lk)("span",{class:"tile-text"},"Search",-1))]),_:1},8,["class"]),(0,n.Lk)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=e=>u()),id:"out"},"Log out")])],2)}}};const lt=(0,y.A)(it,[["__scopeId","data-v-9b234cf8"]]);var rt=lt,st=a(8097);const ct={class:"main-layout"},dt={class:"main-content flex-grow-1"},ut={class:"mb-4"},pt={id:"projects",class:"container"},vt=["onClick"],ht={class:"card-body d-flex flex-column card-with-preview"},ft={key:0,class:"preview-section"},gt={class:"preview-image-container"},mt=["src"],yt={class:"content-section"},wt={class:"card-title fw-bold mb-2"},bt={class:"card-text small"},kt={class:"card-footer"},xt={class:"text-start small"},Lt={class:"d-flex justify-content-between small"},St={class:"text-start small"},Ct={key:0,class:"spinner-overlay"},Tt={name:"MaIn"};var Rt=Object.assign(Tt,{setup(e){const t=(0,C.rd)(),a=(0,l.KR)(!1),o=F("csrftoken"),i=(0,l.KR)([]),r=(0,l.KR)(""),s=(0,l.KR)({}),c=(0,l.KR)({});async function d(){try{const e=await fetch(`${R}/username`,{method:"GET",headers:{"X-CSRFToken":o},credentials:"include"}),t=await e.json();200==t.status?r.value=t.username:r.value="ERROR 404 NOT FOUND"}catch(e){console.error(e)}}async function u(){try{const e=await fetch(`${R}/codraw/`,{method:"GET",headers:{"X-CSRFToken":o},credentials:"include"}),t=await e.json();200!==t.status&&"/"!==window.location.pathname&&(window.location.href="/")}catch(e){console.error(e)}}const p=async()=>{try{const e=await fetch(`${R}/codraw/get_boards`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({timezone:st.c9.local().zoneName}),credentials:"include"}),t=await e.json();i.value=t.boards,s.value=t.images,c.value=t.boards.reduce((e,t)=>(e[t.room]=!1,e),{})}catch(e){console.error(e)}};async function v(e){try{const a=await fetch(`${R}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},credentials:"include",body:JSON.stringify({room:e})}),n=await a.json();200===n.status&&t.push(`${n.url}?origin=default`)}catch(a){console.error(a)}}async function h(){try{const e=await fetch(`${R}/get_project_url`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":o},credentials:"include"}),a=await e.json();200===a.status?t.push(`${a.url}?origin=default`):console.log("error")}catch(e){console.error(e)}}return(0,n.sV)(async()=>{a.value=!0,await Promise.all([u(),p(),d()]),await Promise.all(i.value.map(e=>new Promise(t=>{const a=new WebSocket(`${O}/${e.room}/`);a.onopen=()=>{E[e.room]=a,t()},a.onerror=()=>t()}))),a.value=!1}),(e,t)=>{const o=(0,n.g2)("RouterView");return(0,n.uX)(),(0,n.CE)("div",ct,[(0,n.bF)(rt),(0,n.Lk)("main",dt,[(0,n.bF)(o),t[4]||(t[4]=(0,n.Lk)("h1",{style:{color:"#ffc107"},class:"mb-4"},"Welcome to CoDraw!",-1)),(0,n.Lk)("div",ut,[(0,n.Lk)("div",pt,[(0,n.Lk)("div",{class:"card create-project-card my text-center",onClick:t[0]||(t[0]=e=>h())},[...t[1]||(t[1]=[(0,n.Lk)("div",{class:"card-body d-flex flex-column align-items-center justify-content-center"},[(0,n.Lk)("span",{class:"create-icon"},"+"),(0,n.Lk)("h5",{class:"card-title mt-2 mb-0"},"Create Project")],-1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.value,(e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"card project-card text-center",onClick:t=>v(e.room)},[(0,n.Lk)("div",ht,[s.value[e.room]&&!c.value[e.room]?((0,n.uX)(),(0,n.CE)("div",ft,[(0,n.Lk)("div",gt,[(0,n.Lk)("img",{src:s.value[e.room],class:"preview-image",alt:"Preview of board",loading:"lazy",decoding:"async"},null,8,mt)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",yt,[(0,n.Lk)("h5",wt,(0,T.v_)(e.title),1),(0,n.Lk)("p",bt,(0,T.v_)(e.description),1),(0,n.Lk)("footer",kt,[(0,n.Lk)("div",xt,[(0,n.Lk)("span",null,[t[2]||(t[2]=(0,n.eW)("Visibility: ",-1)),(0,n.Lk)("span",null,(0,T.v_)(e.visibility),1)])]),(0,n.Lk)("div",Lt,[(0,n.Lk)("span",null,[t[3]||(t[3]=(0,n.eW)("Views: ",-1)),(0,n.Lk)("span",null,(0,T.v_)(e.views),1)])]),(0,n.Lk)("div",St,[(0,n.Lk)("span",null,(0,T.v_)(e.modified),1)])])])])],8,vt))),128))])]),a.value?((0,n.uX)(),(0,n.CE)("div",Ct,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0)])])}}});const Ot=(0,y.A)(Rt,[["__scopeId","data-v-4b164890"]]);var Nt=Ot,Et=a.p+"img/bin.16bd31d4.webp",Ft=a.p+"img/save.9ae805ea.webp",_t=a.p+"img/edit.72b2dc1f.webp";const zt={key:0,class:"spinner-overlay"},Dt={key:0,style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)","z-index":"100",display:"flex","align-items":"center","justify-content":"center"}},Xt={style:{background:"#23272f",color:"#fff",padding:"32px 40px","border-radius":"16px","min-width":"320px","box-shadow":"0 8px 32px rgba(0,0,0,0.25)",position:"relative"}},Wt={class:"main-layout"},jt={class:"container flex-grow-1 d-flex flex-column mt-4 mt-md-5 align-items-start"},Pt={class:"fw-bold mb-4 mb-md-5 text-start",style:{color:"#ffc107"}},Jt={class:"boards-wrapper mt-2 justify-content-start"},Kt={class:"d-flex justify-content-end align-items-center gap-2"},At={key:0,class:"w-100"},$t={class:"d-flex justify-content-end align-items-center gap-2"},It=["onClick"],Ut=["onClick"],Bt=["src","onClick"],Vt=["src","onClick"],Mt=["src","onClick"],qt={key:0},Yt=["onUpdate:modelValue"],Qt=["onUpdate:modelValue"],Ht={key:1},Gt=["onUpdate:modelValue"],Zt=["onUpdate:modelValue"],ea={key:1,class:"w-100"},ta=["onClick"],aa=["onUpdate:modelValue"],oa=["onUpdate:modelValue"],na={class:"card-body text-white position-relative flex-grow-1"},ia={class:"d-flex flex-column align-items-start gap-1",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)",padding:"0.5rem"}},la={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},ra={class:"text-white"},sa={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},ca={class:"text-white"},da={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},ua={class:"text-white"},pa={key:0,class:"container mt-4 mt-md-5"},va={class:"boards-wrapper mt-5 justify-content-start"},ha={class:"d-flex justify-content-end"},fa=["onClick"],ga=["src","onClick"],ma=["onUpdate:modelValue"],ya=["onUpdate:modelValue"],wa={class:"card-body text-white position-relative flex-grow-1"},ba={class:"d-flex flex-column align-items-start gap-1",style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.05)",padding:"0.5rem"}},ka={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},xa={class:"text-white"},La={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Sa={class:"text-white"},Ca={class:"fw-semibold text-warning",style:{"font-size":"0.85rem"}},Ta={class:"text-white"},Ra={key:0,class:"text-center mb-3 fw-semibold",style:{color:"#ffc107","font-size":"1.2rem"}};var Oa={__name:"AccOunt",setup(e){const t=(0,l.KR)(!1),a=(0,l.KR)(null),i=(0,l.KR)(null),r=(0,l.KR)(!1),s=F("csrftoken"),c=(0,l.KR)([]),d=(0,l.KR)(!0),u=(0,l.KR)({}),p=(0,l.KR)([]),v=(0,l.KR)({}),h=(0,l.KR)({}),f=async e=>{try{const o=await fetch(`${R}/delete/${e}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include"}),n=await o.json();200===n.status?(t.value=!0,a.value="Board was successfully modified."):console.log("Board not deleted successfully")}catch(o){console.error(o)}},g=async e=>{try{const o=await fetch(`${R}/delete/bookmark/${e}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include"}),n=await o.json();200===n.status&&(t.value=!0,a.value="Bookmark successfuly deleted.")}catch(o){console.error(o)}},m=async e=>{try{if(!r.value)return;const t=await fetch(`${R}/get_bookmarks/${e}`,{method:"POST",headers:{"X-CSRFToken":s,"Content-Type":"application/json"},body:JSON.stringify({timezone:st.c9.local().zoneName}),credentials:"include"}),a=await t.json();200===a.status?(p.value=a.bookmarks,v.value=a.bookmarks.map(()=>!1)):p.value=[]}catch(t){console.error(t),p.value=[]}},y=async e=>{if(d.value=!0,0!==e.title.length&&0!==e.description.length||(t.value=!0,a.value="Board title or description cannot be empty"),e.original_description!==e.description||e.original_title!==e.title)try{const o=await fetch(`${R}/codraw/update/${e.room}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include",body:JSON.stringify({title:e.title,description:e.description,timezone:st.c9.local().zoneName})}),n=await o.json();200===n.status&&(t.value=!0,a.value="Board was successfully modified.")}catch(o){console.error(o)}d.value=!1},w=async e=>{try{const t=await fetch(`${R}/username`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include"}),a=await t.json();let o="";return o=200==a.status?a.username:"ERROR 404 NOT FOUND",o===e}catch(t){console.error(t)}},b=async e=>{try{const t=await fetch(`${R}/codraw/boards/${e}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},body:JSON.stringify({timezone:st.c9.local().zoneName,mode:r.value?"admin":"user"}),credentials:"include"}),a=await t.json();c.value=a.boards.map(e=>({...e,original_title:e.title,original_description:e.description})),h.value=a.images,u.value=a.boards.map(()=>!1)}catch(t){console.error(t)}},k=(e,t)=>{const a=document.createElement("a");a.download=`${t}.png`,a.href=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)};async function x(e){try{const t=await fetch(`${R}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include",body:JSON.stringify({room:e})}),a=await t.json();200===a.status&&(window.location.href=`${a.url}?origin=account/${i.value}`)}catch(t){console.error(t)}}return(0,n.sV)(async()=>{d.value=!0;const e=window.location.pathname.split("/");i.value=e[e.length-1],r.value=await w(i.value),await Promise.all[(b(i.value),m(i.value))],d.value=!1}),(e,s)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[d.value?((0,n.uX)(),(0,n.CE)("div",zt,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[t.value?((0,n.uX)(),(0,n.CE)("div",Dt,[(0,n.Lk)("div",Xt,[(0,n.Lk)("button",{onClick:s[0]||(s[0]=e=>t.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}}," ✕ "),(0,n.Lk)("p",null,(0,T.v_)(a.value),1),(0,n.Lk)("button",{onClick:s[1]||(s[1]=e=>t.value=!1),id:"close_form",style:{"margin-top":"20px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer"}}," Close ")])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("main",Wt,[(0,n.bF)(rt),(0,n.Lk)("div",jt,[(0,n.Lk)("h2",Pt,(0,T.v_)(i.value)+"'s Boards",1),(0,n.Lk)("div",Jt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"project-card"},[(0,n.Lk)("div",Kt,[r.value?((0,n.uX)(),(0,n.CE)("div",At,[(0,n.Lk)("div",$t,[(0,n.Lk)("button",{class:"text-start btn btn-primary",onClick:t=>k(h.value[e.room],e.title)},"Export",8,It),(0,n.Lk)("button",{class:"btn btn-success success",onClick:t=>x(e.room)}," Join room ",8,Ut),u.value[t]?((0,n.uX)(),(0,n.CE)("img",{key:1,src:(0,l.R1)(Ft),loading:"lazy",decoding:"async",alt:"save",onClick:e=>{u.value[t]=!u.value[t],y(c.value[t]),c.value[t].modified="Just now"},style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,Vt)):((0,n.uX)(),(0,n.CE)("img",{key:0,src:(0,l.R1)(_t),loading:"lazy",decoding:"async",alt:"edit",onClick:e=>u.value[t]=!u.value[t],style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,Bt)),(0,n.Lk)("img",{src:(0,l.R1)(Et),loading:"lazy",alt:"delete",decoding:"async",onClick:e=>{f(c.value[t].room),c.value.splice(t,1)},style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,Mt)]),u.value[t]?((0,n.uX)(),(0,n.CE)("div",Ht,[(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-white text-dark","onUpdate:modelValue":t=>e.title=t,onClick:s[4]||(s[4]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Title"},null,8,Gt),[[o.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-white text-dark","onUpdate:modelValue":t=>e.description=t,onClick:s[5]||(s[5]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Description"},null,8,Zt),[[o.Jo,e.description]])])):((0,n.uX)(),(0,n.CE)("div",qt,[(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-dark text-white","onUpdate:modelValue":t=>e.title=t,onClick:s[2]||(s[2]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Title",readonly:"",disabled:""},null,8,Yt),[[o.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-dark text-white","onUpdate:modelValue":t=>e.description=t,onClick:s[3]||(s[3]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Description",readonly:"",disabled:""},null,8,Qt),[[o.Jo,e.description]])]))])):((0,n.uX)(),(0,n.CE)("div",ea,[(0,n.Lk)("button",{class:"btn btn-success success",onClick:t=>x(e.room)}," Join room ",8,ta),(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-dark text-white","onUpdate:modelValue":t=>e.title=t,onClick:s[6]||(s[6]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Title",readonly:"",disabled:""},null,8,aa),[[o.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-dark text-white","onUpdate:modelValue":t=>e.description=t,onClick:s[7]||(s[7]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Description",readonly:"",disabled:""},null,8,oa),[[o.Jo,e.description]])]))]),(0,n.Lk)("div",na,[(0,n.Lk)("div",ia,[(0,n.Lk)("span",la,[s[10]||(s[10]=(0,n.eW)(" Views: ",-1)),(0,n.Lk)("span",ra,(0,T.v_)(e.views),1)]),(0,n.Lk)("span",sa,[s[11]||(s[11]=(0,n.eW)(" Last Modified: ",-1)),(0,n.Lk)("span",ca,(0,T.v_)(e.modified),1)]),(0,n.Lk)("span",da,[s[12]||(s[12]=(0,n.eW)(" Visibility: ",-1)),(0,n.Lk)("span",ua,(0,T.v_)(e.visibility),1)])])])]))),128))]),r.value?((0,n.uX)(),(0,n.CE)("div",pa,[s[16]||(s[16]=(0,n.Lk)("h1",{class:"text-start",style:{color:"#ffc107"}},"Bookmarks",-1)),(0,n.Lk)("div",va,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"project-card"},[(0,n.Lk)("div",ha,[(0,n.Lk)("button",{class:"btn btn-success success",onClick:t=>x(e.room)}," Join room ",8,fa),(0,n.Lk)("img",{src:(0,l.R1)(Et),loading:"lazy",alt:"delete",decoding:"async",onClick:e=>{g(p.value[t].room),p.value.splice(t,1)},style:{width:"20px",height:"20px",cursor:"pointer"}},null,8,ga)]),(0,n.bo)((0,n.Lk)("input",{class:"form-control fw-bold mt-2 bg-white text-dark","onUpdate:modelValue":t=>e.title=t,onClick:s[8]||(s[8]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Title",readonly:"",disabled:""},null,8,ma),[[o.Jo,e.title]]),(0,n.bo)((0,n.Lk)("input",{class:"form-control small mt-3 bg-white text-dark","onUpdate:modelValue":t=>e.description=t,onClick:s[9]||(s[9]=(0,o.D$)(()=>{},["stop"])),placeholder:"Board Description",readonly:"",disabled:""},null,8,ya),[[o.Jo,e.description]]),(0,n.Lk)("div",wa,[(0,n.Lk)("div",ba,[(0,n.Lk)("span",ka,[s[13]||(s[13]=(0,n.eW)(" Views: ",-1)),(0,n.Lk)("span",xa,(0,T.v_)(e.views),1)]),(0,n.Lk)("span",La,[s[14]||(s[14]=(0,n.eW)(" Last Modified: ",-1)),(0,n.Lk)("span",Sa,(0,T.v_)(e.modified),1)]),(0,n.Lk)("span",Ca,[s[15]||(s[15]=(0,n.eW)(" Visibility: ",-1)),(0,n.Lk)("span",Ta,(0,T.v_)(e.visibility),1)])])])]))),128)),0===p.value.length?((0,n.uX)(),(0,n.CE)("div",Ra," No bookmarks yet. ")):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)])])],64))}};const Na=(0,y.A)(Oa,[["__scopeId","data-v-527da298"]]);var Ea=Na,Fa=(a(6573),a(8100),a(7936),a(9577),a(6632),a(4226),a(9486),a(456),a(4603),a(7566),a(8721),a.p+"img/email.54f0aca4.webp"),_a=a.p+"img/zoom.91d1cc83.webp",za=a.p+"img/star.4504b728.webp",Da=a(5778),Xa=a.n(Da);const Wa={style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden"}},ja={key:0,class:"spinner-overlay"},Pa={key:0,style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)","z-index":"100",display:"flex","align-items":"center","justify-content":"center"}},Ja={style:{background:"#23272f",color:"#fff",padding:"32px 40px","border-radius":"16px","min-width":"320px","box-shadow":"0 8px 32px rgba(0,0,0,0.25)",position:"relative"}},Ka={style:{color:"#fff","min-width":"32px","text-align":"center"}},Aa={key:0,style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)","z-index":"100",display:"flex","align-items":"center","justify-content":"center"}},$a={style:{background:"#23272f",color:"#fff",padding:"32px 40px","border-radius":"16px","min-width":"320px","box-shadow":"0 8px 32px rgba(0,0,0,0.25)",position:"relative"}},Ia={class:"row"},Ua={class:"col-3"},Ba={class:"col-3"},Va={class:"col-3"},Ma={class:"col-3"},qa={id:"inv_div",style:{position:"absolute",top:"12px",right:"1rem","z-index":"10"}},Ya=["src"],Qa={key:0},Ha=["src"],Ga={key:0},Za={key:0,style:{position:"absolute",top:"150px",left:"35%","backdrop-filter":"blur(16px)",background:"rgba(30, 30, 30, 0.75)",border:"1px solid rgba(255, 255, 255, 0.1)","border-radius":"20px","box-shadow":"0 8px 32px rgba(0, 0, 0, 0.25)",padding:"32px",display:"flex","flex-direction":"column",gap:"20px","z-index":"20","min-width":"30vw","max-width":"90vw","font-family":"'Segoe UI', Roboto, sans-serif",transition:"ease-in-out 0.6s",color:"#fff"}},eo={style:{display:"flex","flex-direction":"column",gap:"6px"}},to={style:{position:"relative"}},ao={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},oo={style:{display:"flex","flex-direction":"column",gap:"6px"}},no={style:{position:"relative"}},io={style:{position:"absolute",right:"10px",bottom:"6px","font-size":"0.75rem",color:"#aaa","pointer-events":"none"}},lo={style:{display:"flex","align-items":"center",gap:"10px"}},ro={class:"switch"},so={id:"zoom"},co=["src"],uo=30;var po={__name:"BoArd",setup(e){const t=(0,l.KR)(!1),a=F("csrftoken"),i=(0,l.KR)(null),r="demo"==new URL(window.location.href).pathname.split("/")[1]?"demo":"default";let s=null,c=0;const d=(0,l.KR)(null),u=(0,l.KR)(window.innerWidth),p=(0,l.KR)(!1),v=(0,l.KR)(!1),h=(0,l.KR)(!1),f=(0,l.KR)("#ffffff"),g=(0,l.KR)("#000000"),m=(0,l.KR)(null),y=(0,l.KR)(null),w=(0,l.KR)(null),b=(0,l.KR)("Public"),k=(0,l.KR)("brush"),x=(0,l.KR)(!1),L=(0,l.KR)(5),S=(0,l.KR)([]),C=(0,n.EW)(()=>`${(100*N.value).toFixed(0)}%`),N=(0,l.KR)(1),z=(0,l.KR)(null),D=(0,l.KR)(null),X=(0,l.KR)(null),W=(0,l.KR)(!1),j=(0,l.KR)(!1),P=(0,l.KR)(!0),J=(0,l.KR)([]),K=(0,l.KR)(0),A=(0,l.KR)(!1),$=(0,l.KR)(!1),I=(0,l.KR)(!1),U=[],B=(0,l.KR)(new URL(window.location.href).pathname.split("/")[3]);"demo"===r&&(B.value=new URL(window.location.href).pathname.split("/")[2]);const V=(0,l.KR)(!1),M=new URL(window.location.href).searchParams.get("origin"),q=[],Y=[],Q=e=>{const t=f.value;switch(e){case"text":{const e=new(Xa().Text)({x:window.innerWidth/2,y:window.innerHeight/2,id:(0,He.A)(),width:220,height:80,fill:t,fontSize:32,fontFamily:"Caveat",text:"Write text here",align:"center",verticalAlign:"middle",draggable:!0,name:"mainText"});U.push(e.id()),e.setAttr("originalFontSize",32),e.setAttr("originalWidth",220),e.setAttr("originalHeight",80);const a=new(Xa().Text)({x:window.innerWidth/2,y:window.innerHeight/2,id:e.id(),width:220,height:80,fill:t,fontSize:32,fontFamily:"Caveat",text:"Write text here",align:"center",verticalAlign:"middle",draggable:!0});a.setAttr("originalFontSize",32),a.setAttr("originalWidth",220),a.setAttr("originalHeight",80),e.on("dragmove",()=>{a.position(e.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"text",newpos:e.position(),id:e.id()}))}),e.on("dragstart",()=>{d.value.getNode().container().style.cursor="grabbing"}),e.on("dragend",()=>{d.value.getNode().container().style.cursor="default"}),e.on("mouseenter",()=>{d.value.getNode().container().style.cursor="grab"}),e.on("mouseleave",()=>{d.value.getNode().container().style.cursor="default"}),e.on("dblclick",e=>{e.evt.stopPropagation(),H(e.target)}),a.on("dragmove",()=>{e.position(a.position()),X.value.getNode().batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"text",newpos:a.position(),id:a.id()}))}),a.on("dblclick",t=>{t.evt.stopPropagation(),H(e),document.getElementById("textarea").remove()}),X.value.getNode().add(e),be.add(a),a.moveToTop(),e.moveToTop(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape",shapeType:"text",id:e.id(),x:e.x(),y:e.y(),width:e.width(),height:e.height(),fill:e.fill(),text:e.text(),fontSize:e.fontSize(),fontFamily:e.fontFamily(),align:e.align(),verticalAlign:e.verticalAlign()}));break}case"arrow":{const e=new(Xa().Arrow)({x:window.innerWidth/2,y:window.innerHeight/2,id:(0,He.A)(),points:[200,200,0,0],stroke:t,strokeWidth:L.value,pointerLength:20,pointerWidth:20,fill:t,draggable:!0}),a=new(Xa().Arrow)({x:window.innerWidth/2,y:window.innerHeight/2,id:e.id(),points:[200,200,0,0],stroke:t,strokeWidth:L.value,pointerLength:20,pointerWidth:20,fill:t,draggable:!0});e.on("dragmove",()=>{a.position(e.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"arrow",newpos:e.position(),id:e.id()}))}),a.on("dragmove",()=>{e.position(a.position()),X.value.getNode().batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"arrow",newpos:a.position(),id:a.id()}))}),X.value.getNode().add(e),be.add(a),e.moveToTop(),a.moveToTop(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape",shapeType:"arrow",id:e.id(),x:e.x(),y:e.y(),points:e.points(),stroke:e.stroke(),strokeWidth:e.strokeWidth(),pointerLength:e.pointerLength(),pointerWidth:e.pointerWidth(),fill:e.fill()}));break}case"circle":{const e=new(Xa().Circle)({x:window.innerWidth/2,y:window.innerHeight/2,id:(0,He.A)(),radius:100,fill:t,stroke:"#000000"===j.value?"white":"black",strokeWidth:L.value,draggable:!0}),a=new(Xa().Circle)({x:window.innerWidth/2,y:window.innerHeight/2,id:e.id(),radius:100,fill:t,stroke:"#000000"===j.value?"white":"black",strokeWidth:L.value,draggable:!0});e.on("dragmove",()=>{a.position(e.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"circle",newpos:e.position(),id:e.id()}))}),a.on("dragmove",()=>{e.position(a.position()),X.value.getNode().batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"circle",newpos:a.position(),id:a.id()}))}),X.value.getNode().add(e),be.add(a),e.moveToTop(),a.moveToTop(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape",shapeType:"circle",id:e.id(),x:e.x(),y:e.y(),radius:e.radius(),fill:e.fill(),stroke:e.stroke(),strokeWidth:e.strokeWidth()}));break}case"square":{const e=new(Xa().Rect)({x:window.innerWidth/2,y:window.innerHeight/2,id:(0,He.A)(),width:100,height:100,fill:t,stroke:"#000000"===j.value?"white":"black",strokeWidth:L.value,draggable:!0}),a=new(Xa().Rect)({x:window.innerWidth/2,y:window.innerHeight/2,id:e.id(),width:100,height:100,fill:t,stroke:"#000000"===j.value?"white":"black",strokeWidth:L.value,draggable:!0});e.on("dragmove",()=>{a.position(e.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"square",newpos:e.position(),id:e.id()}))}),a.on("dragmove",()=>{e.position(a.position()),X.value.getNode().batchDraw()}),X.value.getNode().add(e),be.add(a),e.moveToTop(),a.moveToTop(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape",shapeType:"square",id:e.id(),x:e.x(),y:e.y(),width:e.width(),height:e.height(),fill:e.fill(),stroke:e.stroke(),strokeWidth:e.strokeWidth()}));break}default:break}I.value=!1},H=e=>{const t=X.value.getNode();if(!t||!e)return;e.draggable(!1);const a=new(Xa().Transformer)({nodes:[e],borderStroke:"#ffc107",borderDash:[5,5],borderStrokeWidth:1,borderDashOffset:0,borderJoinStyle:"round",scalingEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],keepRatio:!0,keepRatioByExpanding:!0,rotateEnabled:!1,boundBoxFunc:(e,t)=>t.width<5||t.height<5?e:t});t.add(a),t.batchDraw(),q.push(a),e.hide();const o=d.value.getNode(),n=e.getAbsolutePosition(),i=o.container().getBoundingClientRect(),l=o.scaleX();document.getElementById("textarea")&&document.getElementById("textarea").remove();const r=document.createElement("textarea");r.id="textarea",r.dataset.textId=e.id(),document.body.appendChild(r),r.value=e.text(),r.style.position="absolute",r.style.top=i.top+n.y*l+18+"px",r.style.left=i.left+n.x*l+"px";const s=e.scaleX()||1,u=e.scaleY()||1;r.style.width=e.width()*s*l+"px",r.style.height=e.height()*u*l+"px",r.style.fontSize=e.fontSize()*s*l+"px",r.style.fontFamily=e.fontFamily(),r.style.color=e.fill(),r.style.backgroundColor="transparent",r.style.border="none",r.style.outline="none",r.style.resize="none",r.style.textAlign=e.align(),r.style.lineHeight="1",r.style.padding="0",r.style.margin="0",r.style.verticalAlign="middle",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.whiteSpace="pre-wrap",r.style.overflow="hidden",r.style.transform="translate(0, 0)",r.style.boxSizing="border-box",r.focus(),r.addEventListener("keyup",()=>{requestAnimationFrame(()=>{const o=e.scaleX()||1,n=e.scaleY()||1,i=e.width()*o,l=e.height()*n,s=r.value.substring(0,r.selectionStart),c=s.lastIndexOf("\n"),d=c>=0?s.substring(c+1):s,u=new(Xa().Text)({text:r.value,fontSize:e.fontSize(),fontFamily:e.fontFamily(),width:e.width(),align:e.align(),verticalAlign:e.verticalAlign()}),p=new(Xa().Text)({text:d,fontSize:e.fontSize(),fontFamily:e.fontFamily(),width:e.width(),align:e.align(),verticalAlign:e.verticalAlign()}),v=u.width()*o,h=u.height()*n,f=p.width()*o;if(v>i||h>l||f<i){const i=c>=0?Math.max(e.width(),p.width()):Math.max(e.width(),u.width()),l=20;e.width(i),e.height(u.height()+l),r.style.width=i*o+"px",r.style.height=(u.height()+l)*n+"px",a.nodes([e]),a.forceUpdate(),t.batchDraw()}u.destroy(),p.destroy()})});const p=()=>{const t=e.scaleX()||1;return{x:e.x()+e.width()*t-15,y:e.y()-15}},v=p(),h=new(Xa().Group)({x:v.x,y:v.y,opacity:0,listening:!0}),f=new(Xa().Circle)({radius:12,fill:"#dc3545",stroke:"#ffffff",strokeWidth:2,shadowColor:"#000",shadowBlur:6,shadowOffset:{x:0,y:2},shadowOpacity:.3}),g=new(Xa().Path)({data:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6",stroke:"#fff",strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round",scaleX:.8,scaleY:.8,x:-8,y:-8});h.add(f),h.add(g),h.on("click",t=>{t.evt.stopPropagation(),Z(e,a,h)}),h.on("mouseenter",()=>{f.fill("#c82333"),d.value.getNode().container().style.cursor="pointer",t.batchDraw()}),h.on("mouseleave",()=>{f.fill("#dc3545"),d.value.getNode().container().style.cursor="default",t.batchDraw()}),Y.push(h),t.add(h),h.to({opacity:1,duration:.2});const m=()=>{const e=p();h.x(e.x),h.y(e.y)},y=()=>{const t=document.getElementById("textarea");if(!t)return;const a=d.value.getNode(),o=a.container().getBoundingClientRect(),n=a.scaleX(),i=e.getAbsolutePosition(),l=e.scaleX()||1,r=e.scaleY()||1,s=e.getAttr("originalWidth")||220,c=e.getAttr("originalHeight")||80,u=e.getAttr("originalFontSize")||32,p=s*l,v=c*r,h=u*l;t.style.top=o.top+i.y*n+20+"px",t.style.left=o.left+i.x*n+"px",t.style.width=p*n+"px",t.style.height=v*n+"px",t.style.fontSize=h*n+"px"},w=[];r.addEventListener("keydown",t=>{w.push(t.key),0!==c&&Date.now()-c<16||de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"text-modify",text:r.value,id:e.id(),keys:w.join("")}))}),e.on("dragmove",()=>{m();const t=d.value.getNode();t.container().style.cursor="grab";const a=be.findOne(`#${e.id()}`);a&&(a.position(e.position()),be.batchDraw())}),a.on("transform",()=>{m(),y();const t=be.findOne(`#${e.id()}`),a=e.scaleX()||1,o=e.scaleY()||1,n=e.getAttr("originalFontSize")||32,i=e.getAttr("originalWidth")||220,l=e.getAttr("originalHeight")||80,r=n*a,s=i*a,c=l*o;t&&(t.x(e.x()),t.y(e.y()),t.fontSize(r),t.width(s),t.height(c),t.scaleX(1),t.scaleY(1),be.batchDraw()),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"resize-shape",id:e.id(),x:e.x(),y:e.y(),width:s,height:c,fontSize:r}))}),a.on("transformend",()=>{y()}),t.draw()},G=e=>{const t=e.target,a=X.value.getNode();if(!a||!t)return;const o=new(Xa().Transformer)({nodes:[t],borderStroke:"#ffc107",borderDash:[5,5],borderStrokeWidth:1,borderDashOffset:0,borderJoinStyle:"round",scalingEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],keepRatio:!0,keepRatioByExpanding:!0,rotateEnabled:!1,boundBoxFunc:(e,t)=>t.width<5||t.height<5?e:t});ee(),q.push(o),a.add(o);const n=()=>{const e=t.scaleX()||1;return{x:t.x()+t.width()*e-15,y:t.y()-15}},i=n(),l=new(Xa().Group)({x:i.x,y:i.y,opacity:0,listening:!0}),r=new(Xa().Circle)({radius:14,fill:"#dc3545",stroke:"#ffffff",strokeWidth:2,shadowColor:"#000",shadowBlur:6,shadowOffset:{x:0,y:2},shadowOpacity:.3}),s=new(Xa().Path)({data:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6",stroke:"#fff",strokeWidth:2,strokeLineCap:"round",strokeLineJoin:"round",scaleX:.8,scaleY:.8,x:-8,y:-8});l.add(r),l.add(s),l.on("click",e=>{e.evt.stopPropagation(),Z(t,o,l)}),l.on("mouseenter",()=>{r.fill("#c82333"),d.value.getNode().container().style.cursor="pointer",a.batchDraw()}),l.on("mouseleave",()=>{r.fill("#dc3545"),d.value.getNode().container().style.cursor="default",a.batchDraw()}),Y.push(l),a.add(l),l.to({opacity:1,duration:.2});const c=()=>{const e=n();l.x(e.x),l.y(e.y)};o.on("transform",()=>{c(),a.batchDraw();const e=be.findOne(`#${t.id()}`);e&&(e.x(t.x()),e.y(t.y()),e.width(t.width()*t.scaleX()),e.height(t.height()*t.scaleY()),e.scaleX(1),e.scaleY(1),be.draw()),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"img_resize",id:t.id(),x:t.x(),y:t.y(),width:t.width()*t.scaleX(),height:t.height()*t.scaleY()}))}),a.draw()},Z=(e,t,a)=>{const o=X.value.getNode();if(!o)return;const n=e.id();U.includes(n)&&U.splice(U.indexOf(n),1),document.getElementById("textarea")&&document.getElementById("textarea").remove(),e.destroy(),t&&t.destroy(),a&&a.destroy();const i=q.indexOf(t);i>-1&&q.splice(i,1);const l=Y.indexOf(a);l>-1&&Y.splice(l,1),o.batchDraw();const r=be.findOne(`#${n}`);r&&(r.destroy(),be.batchDraw()),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"img_delete",id:n})),Ee()},ee=()=>{for(const e of q)e.destroy();for(const e of Y)e.destroy();q.length=0,Y.length=0},te=()=>{const e=document.getElementById("textarea");if(!e||!e.dataset.textId)return;const t=X.value.getNode(),a=t.findOne(`#${e.dataset.textId}`);a&&(a.text(e.value),t.draw(),document.body.removeChild(e),a.show()),U.forEach(e=>{const o=t.findOne(`#${e}`);o&&(o.draggable(!0),o.show());const n=be.findOne(`#${e}`);n&&(n.text(a.text()),be.draw(),n.draggable(!0),n.show())}),ee()},ae=e=>{const t=e.target;(!t||"Transformer"!==t.className&&"Transformer"!==t.getParent()?.className)&&(te(),ee())},oe=async()=>{if("demo"!==r)try{const e=await fetch(`${R}/status`,{method:"GET",headers:{"X-CSRFToken":a},credentials:"include"});let t=await e.json();200===t.status&&t.user?P.value=!0:P.value=!1}catch(e){console.error(e)}else P.value=!0},ne=()=>{$.value=!$.value;const e=d.value.getNode();$.value?(W.value=!0,x.value=!1,e.draggable(!0),e.container().style.cursor="grab"):(W.value=!1,e.draggable(!1),e.container().style.cursor="default")},ie=()=>{I.value=!I.value},le=async()=>{const e=new URL(window.location.href).pathname.split("/")[2];try{const t=await fetch(`${R}/bookmark/${B.value}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},credentials:"include",body:JSON.stringify({user:e,status:A.value})}),o=await t.json();200===o.status&&o.bookmarked?A.value=!0:A.value=!1}catch(t){A.value=!1}},re=async()=>{const e=new URL(window.location.href).pathname.split("/")[2];try{const t=await fetch(`${R}/is_bookmarked/${B.value}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user:e}),credentials:"include"}),o=await t.json();200===o.status&&o.bookmarked?A.value=!0:A.value=!1}catch(t){A.value=!1}},se=(0,n.EW)(()=>u.value>1300),ce={width:2*document.documentElement.clientWidth,height:2*document.documentElement.clientHeight,draggable:!1},de=(0,l.KR)(null),ue=O,pe=ue.endsWith("/")?ue.slice(0,-1):ue,ve=`${pe}/${B.value}/`;E[B.value]?(de.value=E[B.value],delete E[B.value]):de.value=new WebSocket(ve),de.value.onmessage=async e=>{const t=JSON.parse(e.data);if(!t||!t.type)return;const a=X.value.getNode();if("start"===t.type){const e="destination-out"===t.operation,o={stroke:t.stroke,strokeWidth:t.width,globalCompositeOperation:t.operation,points:t.points,lineCap:"round",lineJoin:"round",tension:.5},n={stroke:e?g.value:t.stroke,strokeWidth:t.width,globalCompositeOperation:t.operation,points:t.points,lineCap:"round",lineJoin:"round",tension:.5},l=new(Xa().Line)(o),r=new(Xa().Line)(n);l._remote=!0,r._remote=!0,a.add(l),l.moveToTop(),be.add(r),r.moveToTop(),i.value={main:l,preview:r,_remote:!0}}else if("draw"===t.type&&i.value?._remote){const e=i.value.main.points();e.push(...t.points),i.value.main.points(e);const o=i.value.preview.points();o.push(...t.points),i.value.preview.points(o),a.batchDraw(),be.batchDraw()}else if("bg"===t.type&&t.bg)g.value=t.bg,j.value="#ffffff"===t.bg;else if("img"==t.type){const e=new window.Image;e.src=t.src,e.onload=()=>{const o=new(Xa().Image)({id:t.id,image:e,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!1});Ne(o),o.on("dblclick",G),a.add(o);const n=new(Xa().Image)({id:t.id,image:e,x:t.x,y:t.y,width:t.width,height:t.height});be.add(n),be.batchDraw(),a.batchDraw()},e.onerror=()=>console.error("Remote image failed to load",t.id)}else if("img_delete"===t.type&&t.id){const e=a.findOne(`#${t.id}`);if(e){const o=q.find(t=>t.nodes().includes(e)),n=Y.find(t=>{const a=t.x(),o=t.y(),n=e.x(),i=e.y(),l=e.width();return Math.abs(a-(n+l-15))<5&&Math.abs(o-(i-15))<5}),i=be.findOne(`#${t.id}`);if(i&&i.destroy(),e.destroy(),o){o.destroy();const e=q.indexOf(o);e>-1&&q.splice(e,1)}if(n){n.destroy();const e=Y.indexOf(n);e>-1&&Y.splice(e,1)}a.batchDraw(),be.draw()}}else if("img_resize"===t.type&&t.id){const e=a.findOne(`#${t.id}`),o=be.findOne(`#${t.id}`);if(e){e.x(t.x),e.y(t.y),e.width(t.width),e.height(t.height),e.scaleX(1),e.scaleY(1);const o=q.find(t=>t.nodes().includes(e));o&&o.forceUpdate();const n=Y.find(t=>{const a=t.x(),o=t.y(),n=e.x(),i=e.y(),l=e.width();return Math.abs(a-(n+l-15))<5&&Math.abs(o-(i-15))<5});n&&(n.x(t.x+t.width-15),n.y(t.y-15)),a.batchDraw()}o&&(o.x(t.x),o.y(t.y),o.width(t.width),o.height(t.height),o.scaleX(1),o.scaleY(1),be.draw())}else if("history_update"===t.type&&t.history)J.value=t.history,K.value=t.index;else if("undo"===t.type)await Fe();else if("redo"===t.type)_e();else if("sync-request"===t.type){if(Be(),de.value&&de.value.readyState===WebSocket.OPEN){const e="demo"===r?"demo":B.value;de.value.send(JSON.stringify({type:"sync-response",context:localStorage.getItem(e)}))}}else if("sync-response"===t.type)V.value=!0,X.value||await(0,n.dY)(),t.context&&X.value&&await et(t.context);else if("clearall"===t.type)$e(!1);else if("shape"===t.type&&t.shapeType){const e=X.value.getNode();let a,o;const n={id:t.id,x:t.x,y:t.y,draggable:!0};"text"===t.shapeType?(Object.assign(n,{width:t.width,height:t.height,fill:t.fill,fontSize:t.fontSize,fontFamily:t.fontFamily,text:t.text,align:t.align,verticalAlign:t.verticalAlign}),a=new(Xa().Text)(n),a.setAttr("originalFontSize",t.fontSize),a.setAttr("originalWidth",t.width),a.setAttr("originalHeight",t.height),o=new(Xa().Text)({...n}),o.setAttr("originalFontSize",t.fontSize),o.setAttr("originalWidth",t.width),o.setAttr("originalHeight",t.height),a.on("dragmove",()=>{o.position(a.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"text",newpos:a.position(),id:a.id()}))}),o.on("dragmove",()=>{a.position(o.position()),e.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"text",newpos:o.position(),id:o.id()}))}),a.on("dblclick",e=>{e.evt.stopPropagation(),H(a)}),o.on("dblclick",e=>{e.evt.stopPropagation(),H(a)})):"arrow"===t.shapeType?(Object.assign(n,{points:t.points,stroke:t.stroke,strokeWidth:t.strokeWidth,pointerLength:t.pointerLength,pointerWidth:t.pointerWidth,fill:t.fill}),a=new(Xa().Arrow)(n),o=new(Xa().Arrow)({...n}),a.on("dragmove",()=>{o.position(a.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"arrow",newpos:a.position(),id:a.id()}))}),o.on("dragmove",()=>{a.position(o.position()),e.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"arrow",newpos:o.position(),id:o.id()}))})):"circle"===t.shapeType?(Object.assign(n,{radius:t.radius,fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth}),a=new(Xa().Circle)(n),o=new(Xa().Circle)({...n}),a.on("dragmove",()=>{o.position(a.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"circle",newpos:a.position(),id:a.id()}))}),o.on("dragmove",()=>{a.position(o.position()),e.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"circle",newpos:o.position(),id:o.id()}))})):"square"===t.shapeType&&(Object.assign(n,{width:t.width,height:t.height,fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth}),a=new(Xa().Rect)(n),o=new(Xa().Rect)({...n}),a.on("dragmove",()=>{o.position(a.position()),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"square",newpos:a.position(),id:a.id()}))}),o.on("dragmove",()=>{a.position(o.position()),e.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"shape-drag",shapeType:"square",newpos:o.position(),id:o.id()}))})),a&&o&&(e.add(a),be.add(o),a.moveToTop(),o.moveToTop(),e.batchDraw(),be.batchDraw(),"text"===t.shapeType&&U.push(t.id))}else if("shape-drag"===t.type&&t.shapeType&&t.id){const e=X.value.getNode(),a=e.findOne(`#${t.id}`),o=be.findOne(`#${t.id}`);a&&(a.position(t.newpos),e.batchDraw()),o&&(o.position(t.newpos),be.batchDraw())}else if("resize-shape"===t.type&&t.id){const e=X.value.getNode(),a=e.findOne(`#${t.id}`),o=be.findOne(`#${t.id}`);if(a){a.x(t.x),a.y(t.y),t.fontSize&&(a.setAttr("originalFontSize",t.fontSize),a.fontSize(t.fontSize)),t.width&&(a.setAttr("originalWidth",t.width),a.width(t.width)),t.height&&(a.setAttr("originalHeight",t.height),a.height(t.height)),a.scaleX(1),a.scaleY(1);const o=q.find(e=>e.nodes().includes(a));o&&o.forceUpdate(),e.batchDraw()}o&&(o.x(t.x),o.y(t.y),t.fontSize&&o.fontSize(t.fontSize),t.width&&o.width(t.width),t.height&&o.height(t.height),o.scaleX(1),o.scaleY(1),be.batchDraw())}else if("text-modify"===t.type&&t.id){const e=X.value.getNode(),a=e.findOne(`#${t.id}`),o=be.findOne(`#${t.id}`);a&&(a.text(t.text),e.batchDraw()),o&&(o.text(t.text),be.batchDraw())}};const he=e=>{e.evt.preventDefault()},fe=document.createElement("canvas");fe.width=ce.width,fe.height=ce.height;const ge=(0,l.KR)(!1),me=fe.getContext("2d");me.strokeStyle=f.value,me.fillStyle=g.value,me.lineJoin="round",me.lineWidth=Number(L.value),me.lineCap="round",me.lineJoin="round";const ye=document.createElement("div");ye.id="preview",ye.style.position="absolute",ye.style.bottom="5px",ye.style.left="5px",ye.style.border="5px solid #ffc107",ye.style.borderRadius="5%",ye.style.backgroundColor=g.value,document.body.appendChild(ye);const we=new(Xa().Stage)({container:"preview",width:window.innerWidth/8,height:window.innerHeight/8,scaleX:1/32,scaleY:1/32});let be=new(Xa().Layer);const ke=new(Xa().Rect)({x:0,y:0,width:32*we.width(),height:32*we.height(),fill:g.value,listening:!1});function xe(e){const t=[50,75,100,125,150,175,200],a=d.value.getNode(),o=100*a.scaleX(),n="up"===e?1:-1;if(50===o&&-1===n||200===o&&1===n)return;const i=t[t.indexOf(o)+n]/100;N.value=i,a.scale({x:i,y:i}),a.batchDraw()}we.add(be),be.add(ke),(0,n.wB)(f,e=>{me.strokeStyle=e}),(0,n.wB)(j,()=>{g.value=j.value?"#ffffff":"#000000",f.value=j.value?"#000000":"#ffffff",ke.fill(g.value),ye.style.backgroundColor=g.value,be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"bg",bg:g.value}))},{immediate:!0});const Le=e=>{e.evt.preventDefault(),xe(e.evt.deltaY>0?"up":"down")},Se=async()=>{try{const e=new URL(window.location.href).pathname.split("/"),t=e[2],o=await fetch(`${R}/codraw/check_owner`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},credentials:"include",body:JSON.stringify({owner:t,room:B.value})}),n=await o.json();200===n.status&&(p.value=!0)}catch(e){p.value=!1,console.error(e)}},Ce=async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),h.value=!0,y.value="Invitation link copied to clipboard!"}catch(e){h.value=!0,y.value="Failed to copy the link."}},Te=async()=>{let e=null;if("demo"===r)e=localStorage.getItem("demo");else{const t=new URL(window.location.href).pathname.split("/")[3];e=localStorage.getItem(t)}e&&await et(e)},Re=async()=>{try{t.value=!0,m.value||(h.value=!0,y.value="Please provide a title for your board."),m.value.length>66&&(h.value=!0,y.value="The title length is to large, must be at most 60 characters."),w.value&&w.value.length>170&&(h.value=!0,y.value="The description length is to large, must be at most 100 characters.");const e=new FormData;e.append("project",B.value),e.append("title",m.value),e.append("description",w.value),e.append("payload",JSON.stringify([{id:Date.now(),image:d.value.getStage().toJSON()}])),e.append("bg",g.value),e.append("preview",je()),e.append("type",b.value);const o=await fetch(`${R}/codraw/save_new`,{method:"POST",headers:{"X-CSRFToken":a},body:e,credentials:"include"}),n=await o.json();let i=!0;v.value=!1,200===n.status&&(i=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),i?(h.value=!0,y.value="There was an error saving your board."):(h.value=!0,y.value="Board saved successfully.",ge.value=!0,Be())}catch(e){console.error(e)}};function Oe(e,t){const a=t.width,o=t.height,n=a/o;let i,l;const r=e.width/e.height;n>=r?(i=e.width,l=e.width/n):(i=e.height*n,l=e.height);let s=0,c=0;return s=(e.width-i)/2,c=(e.height-l)/2,{cropX:s,cropY:c,cropWidth:i,cropHeight:l}}function Ne(e){const t=e.image();if(!t)return;const a=Oe(t,{width:e.width(),height:e.height()});e.setAttrs(a)}function Ee(){const e=X.value.getNode();if(!e)return;const t=e.children||[],a=t[t.length-1];if(!a)return;const o=a.toJSON();K.value<J.value.length-1&&(J.value=J.value.slice(0,K.value+1)),J.value.push(o),K.value=J.value.length-1,J.value.length>uo&&(J.value.shift(),K.value=Math.max(0,K.value-1)),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"history_update",history:J.value,index:K.value}))}const Fe=async()=>{if(K.value<0)return;const e=X.value.getNode(),t=e.children||[],a=t[t.length-1];a&&a.destroy();const o=be.children||[],n=o[o.length-1];n&&n.destroy(),ee(),K.value--,be.batchDraw(),e.batchDraw()},_e=()=>{if(!(K.value>=J.value.length-1)){{K.value++;const e=X.value.getNode();if(!J.value[K.value])return;const t=JSON.parse(J.value[K.value]);if(t)if("Image"===t.className){const a=new window.Image;a.src=t.attrs.src,a.onload=()=>{const o=new(Xa().Image)({id:t.attrs.id||(0,He.A)(),image:a,x:t.attrs.x,y:t.attrs.y,width:t.attrs.width||a.width,height:t.attrs.height||a.height,draggable:!1,src:t.attrs.src});Ne(o),o.setAttr("src",t.attrs.src),o.on("dblclick",G),e.add(o);const n=new(Xa().Image)({id:o.id(),image:a,x:t.attrs.x,y:t.attrs.y,width:t.attrs.width||a.width,height:t.attrs.height||a.height});be.add(n),be.batchDraw(),e.draw()},a.onerror=()=>{console.error("Failed to load image for redo")}}else{const a=Xa().Node.create(t),o=Xa().Node.create(t);e.add(a),be.add(o),be.draw(),e.draw()}}ee()}},ze=async()=>{await Fe(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"undo"}))},De=()=>{_e(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"redo"}))},Xe=async()=>{const e=new URL(window.location.href).pathname.split("/")[2];try{const t=await fetch(`${R}/codraw/check_saved`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:B.value,owner:e})}),a=await t.json();ge.value=a.saved}catch(t){console.error(t),ge.value=!1}},We=e=>{const t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),n=new Uint8Array(o);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([o],{type:a})},je=()=>{const e=d.value.getStage(),t=X.value.getNode(),a=new(Xa().Rect)({x:-e.x()/e.scaleX(),y:-e.y()/e.scaleY(),width:e.width()/e.scaleX(),height:e.height()/e.scaleY(),fill:g.value,listening:!1});t.add(a),a.moveToBottom();const o=e.toDataURL({pixelRatio:2});return a.destroy(),t.batchDraw(),o},Pe=(e,t,a)=>{if(!e.type.startsWith("image/"))return;const o=new FileReader;o.onload=e=>{const o=new window.Image;o.src=e.target.result,o.onload=()=>{const n=new(Xa().Image)({id:(0,He.A)(),image:o,x:t,y:a,width:o.width,height:o.height,draggable:!1,src:e.target.result});Ne(n);const i=X.value.getNode();n.setAttr("src",e.target.result),n.on("dblclick",G),i.add(n);const l=new(Xa().Image)({id:n.id(),image:o,x:t,y:a,width:o.width,height:o.height});be.add(l),be.batchDraw(),i.draw(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"img",id:n.id(),src:e.target.result,x:n.x(),y:n.y(),width:n.width(),height:n.height()})),Ee()}},o.readAsDataURL(e)},Je=e=>{e.preventDefault();const t=d.value?.getNode?.();if(!t)return;const a=t.getPointerPosition();let o;if(a)o=Ue(t);else{const e=window.innerWidth/t.scaleX(),a=window.innerHeight/t.scaleY(),n=-t.x()/t.scaleX()+e/2,i=-t.y()/t.scaleY()+a/2;o={x:n,y:i}}const n=e.clipboardData;if(!n||0===n.files.length)return;const i=n.files[0];Pe(i,o.x,o.y)},Ke=async e=>{try{if(t.value=!0,"save"===e){if(!ge.value)return t.value=!1,v.value=!0,!1;const e=new FormData,o=We(je());e.append("project",B.value),e.append("payload",JSON.stringify(d.value.getStage().toJSON())),e.append("bg",g.value),e.append("preview",o,`${B.value}.webp`);const n=await fetch(`${R}/codraw/save_project`,{method:"POST",headers:{"X-CSRFToken":a},body:e,credentials:"include"}),i=await n.json();let l=!0;200===i.status&&(l=!1),await new Promise(e=>setTimeout(()=>{t.value=!1,e()},2e3)),l?v.value=!0:(Be(),h.value=!0,y.value="Board was successfully quick saved.")}else if("load"===e){if("demo"===r){const e=localStorage.getItem("demo");return e&&!V.value&&await et(e),!1}const e=await fetch(`${R}/codraw/load_project`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:B.value})}),t=await e.json();if(200===t.status)return!0;const a=localStorage.getItem("demo"===r?"demo":B.value);return a&&!V.value&&await et(a),!1}}catch(o){console.error(o)}};function Ae(){const e=new URL(window.location.href).pathname.split("/")[3];localStorage.removeItem(e),"default"===M?window.location.href="/codraw":M.startsWith("search")||M.startsWith("account")?window.location.href=`/codraw/${M}`:window.location.href="/"}function $e(e){if(h.value=!1,y.value="",t.value=!0,"demo"===r)localStorage.removeItem("demo");else{const e=new URL(window.location.href).pathname.split("/")[3];localStorage.removeItem(e)}const a=X.value.getNode();a.destroyChildren(),be.destroyChildren(),ee(),a.batchDraw(),be.batchDraw(),de.value&&de.value.readyState===WebSocket.OPEN&&e&&de.value.send(JSON.stringify({type:"clearall"})),t.value=!1}function Ie(){p.value||"demo"===r?(h.value=!0,y.value="Are you sure you would like to clear the board? This action is irreversible."):(h.value=!0,y.value="You don't have neccessary permissions to clear the board.")}const Ue=e=>{const t=e.getAbsoluteTransform().copy();t.invert();const a=e.getPointerPosition();return t.point(a)},Be=()=>{const e=d.value?.getNode?.();if(!e)return;const t=e.toJSON();if(S.value=[{id:Date.now(),image:t}],"demo"===r)localStorage.setItem("demo",JSON.stringify(S.value));else{const e=new URL(window.location.href).pathname.split("/")[3];localStorage.setItem(e,JSON.stringify(S.value))}},Ve={image:fe,x:0,y:0,width:fe.width,height:fe.height};let Me=null,qe=0;const Ye=e=>{if(e.evt.touches&&1!=e.evt.touches.length){if(e.evt.touches&&2==e.evt.touches.length){e.evt.cancelable&&e.evt.preventDefault(),x.value=!1,i.value=null;const t=e.evt.touches[0],a=e.evt.touches[1];qe=Math.sqrt(Math.pow(a.clientX-t.clientX,2)+Math.pow(a.clientY-t.clientY,2)),Me={x:(t.clientX+a.clientX)/2,y:(t.clientY+a.clientY)/2}}}else{const t=e.target.getStage();if(2===e.evt.button||$.value)return t.container().style.cursor="grab",W.value=!0,t.draggable(!0),t.startDrag(),void(z.value=t.getPointerPosition());if(e.target!==t&&(e.target.draggable()||e.target.getParent()?.draggable()))return;x.value=!0,t.container().style.cursor="default";const a=Ue(t),o="eraser"===k.value,n=o?"rgba(0,0,0,1)":f.value,l=o?"rgba(0,0,0,1)":f.value,r={stroke:n,strokeWidth:Number(L.value),globalCompositeOperation:o?"destination-out":"source-over",points:[a.x,a.y],lineCap:"round",lineJoin:"round",tension:.5},s={stroke:l,strokeWidth:Number(L.value),globalCompositeOperation:o?"destination-out":"source-over",points:[a.x,a.y],lineCap:"round",lineJoin:"round",tension:.5},c=new(Xa().Line)(r),d=new(Xa().Line)(s);be.add(d),d.moveToTop(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"start",stroke:f.value,width:Number(L.value),operation:"eraser"===k.value?"destination-out":"source-over",points:[a.x,a.y]}));const u=X.value.getNode();u.add(c),c.moveToTop(),be.draw(),i.value={main:c,preview:d}}},Qe=e=>{if(x.value=!1,i.value=null,qe=0,Me=null,Ee(),W.value){const t=e.target.getStage();t.draggable(!1),W.value=!1}null!==s&&(cancelAnimationFrame(s),s=null,X.value.getNode().batchDraw(),be.batchDraw())},Ge=e=>{if(e.evt.touches&&1!=e.evt.touches.length){if(e.evt.touches&&2==e.evt.touches.length&&Me){e.evt.cancelable&&e.evt.preventDefault();const t=d.value.getNode(),a=e.evt.touches[0],o=e.evt.touches[1],n=Math.sqrt(Math.pow(o.clientX-a.clientX,2)+Math.pow(o.clientY-a.clientY,2)),i={x:(a.clientX+o.clientX)/2,y:(a.clientY+o.clientY)/2},l={x:(i.x-t.x())/t.scaleX(),y:(i.y-t.y())/t.scaleX()},r=n/qe,s=t.scaleX()*r;if(s>.05&&s<5){t.scale({x:s,y:s});const e={x:i.x-l.x*s,y:i.y-l.y*s};t.position(e),t.batchDraw()}qe=n,Me=i}}else{if(!x.value||!i.value)return;const t=e.target.getStage(),a=Ue(t),o=i.value.main.points();o.push(a.x,a.y),i.value.main.points(o);const n=i.value.preview.points();n.push(a.x,a.y),i.value.preview.points(n);const l=Date.now();l-c>=16&&de.value&&de.value.readyState===WebSocket.OPEN&&(c=l,de.value.send(JSON.stringify({type:"draw",points:[a.x,a.y]}))),null===s&&(s=requestAnimationFrame(()=>{X.value.getNode().batchDraw(),be.batchDraw(),s=null}))}},Ze=()=>{u.value=window.innerWidth;const e=d.value?.getNode(),t=D.value?.getNode();if(!e||!t)return;const a=window.innerWidth,o=window.innerHeight;fe.width=4*a,fe.height=4*o,e.width(fe.width),e.height(fe.height),t.width(fe.width),t.height(fe.height);const n=t.getLayer();n&&n.batchDraw()},et=async e=>{if(!e)return;const t=X.value?.getNode();if(!t)return await(0,n.dY)(),et(e);const a="string"===typeof e?JSON.parse(e):e;let o=null;if(Array.isArray(a)&&a[0]?.image?o="string"===typeof a[0].image?JSON.parse(a[0].image):a[0].image:a.image?o="string"===typeof a.image?JSON.parse(a.image):a.image:("Stage"===a.className||a.children)&&(o=a),!o)return;t.destroyChildren(),ee();const i=o.children?.[0]?.children||[];i.forEach(e=>{const a=Xa().Node.create(e),o=Xa().Node.create(e);if(be.add(a),t.add(o),"Image"===o.className&&(Ne(o),o.on("dblclick",G),e.attrs.src)){const a=new window.Image;a.crossOrigin="Anonymous",a.onload=()=>{o.image(a);const e=be.findOne(`#${o.id()}`);e&&e.image(a),t.batchDraw(),be.batchDraw()},a.src=e.attrs.src}}),be.batchDraw(),t.batchDraw()},tt=async()=>{try{if("default"===r){const e=await fetch(`${R}/codraw/get_details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:B.value})}),t=await e.json(),a=t.canva,o=t.bg,n=t.last;o&&(g.value=o,j.value="#ffffff"===o);const i=localStorage.getItem(B.value);if(i&&i.length>a.length){const e=JSON.parse(i);if(e&&e[0]&&e[0].id>n)return void await Te()}a&&await et(a)}else if("demo"===r){const e=localStorage.getItem(B.value);if(e){const t=JSON.parse(e);if(t&&t[0])return void await Te()}}}catch(e){console.error(e)}},at=e=>{const t=d.value?.getNode?.();if(!t)return;const a=e.target.files;if(!a||0===a.length)return;const o=window.innerWidth/t.scaleX(),n=window.innerHeight/t.scaleY(),i=-t.x()/t.scaleX()+o/2,l=-t.y()/t.scaleY()+n/2;Array.from(a).forEach((e,t)=>{if(e.type.startsWith("image/")){const a=t%3*30,o=30*Math.floor(t/3);Pe(e,i+a,l+o)}}),e.target.value=""},ot=async e=>{!e.ctrlKey||"z"!==e.key&&"Z"!==e.key?!e.ctrlKey||"y"!==e.key&&"Y"!==e.key||(e.preventDefault(),_e(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"redo"}))):(e.preventDefault(),await Fe(),de.value&&de.value.readyState===WebSocket.OPEN&&de.value.send(JSON.stringify({type:"undo"})))};let nt=null;const it=()=>new Promise(e=>{const t=setInterval(()=>{V.value&&(clearInterval(t),e())},100);setTimeout(()=>{clearInterval(t),e()},5e3)}),lt=async()=>{await Ke("load")&&(V.value||tt())},rt=async()=>{"demo"===r?(P.value=!0,await lt()):(await Promise.all([oe(),Xe(),lt()]),P.value&&await re())};return(0,n.sV)(async()=>{t.value=!0,await(0,n.dY)(),await Se(),p.value?(await lt(),await rt()):(await it(),await rt()),nt=setInterval(()=>Be(),6e4),window.addEventListener("keydown",ot),window.addEventListener("resize",Ze),window.addEventListener("paste",Je);const e=document.getElementById("upload");e.addEventListener("change",at),t.value=!1}),(0,n.xo)(()=>{de.value&&de.value.close(),t.value=!0}),(0,n.hi)(()=>{clearInterval(nt),window.removeEventListener("paste",Je),window.removeEventListener("keydown",ot),window.removeEventListener("resize",Ze);const e=document.getElementById("upload");e&&e.removeEventListener("change",at)}),(e,a)=>{const i=(0,n.g2)("font-awesome-icon"),s=(0,n.g2)("v-image"),c=(0,n.g2)("v-layer"),g=(0,n.g2)("v-stage");return(0,n.uX)(),(0,n.CE)("div",Wa,[t.value?((0,n.uX)(),(0,n.CE)("div",ja,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[h.value?((0,n.uX)(),(0,n.CE)("div",Pa,[(0,n.Lk)("div",Ja,[(0,n.Lk)("button",{onClick:a[0]||(a[0]=e=>h.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer"}}," ✕ "),(0,n.Lk)("p",null,(0,T.v_)(y.value),1),"Are you sure you would like to clear the board? This action is irreversible."!==y.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a[1]||(a[1]=e=>h.value=!1),id:"close_form",style:{"margin-top":"20px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer"}}," Close ")):(0,n.Q3)("",!0),"Are you sure you would like to clear the board? This action is irreversible."===y.value?((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:a[2]||(a[2]=e=>$e(!0)),id:"confirm_clear",style:{"margin-top":"20px",background:"green",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer"}}," Confirm ")):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",{id:"toolbar",class:(0,T.C4)({"vertical-toolbar":u.value<800}),style:{position:"absolute",top:"12px",left:"3%",background:"rgba(30, 30, 30, 0.85)","border-radius":"16px","box-shadow":"0 4px 24px rgba(0,0,0,0.18)",padding:"20px 32px",display:"flex","align-items":"center",gap:"10px","z-index":"10"}},[(0,n.bF)(i,{icon:["fas","undo"],class:"feature-icon",onClick:a[3]||(a[3]=e=>ze())}),(0,n.bF)(i,{icon:["fas","redo"],class:"feature-icon",onClick:a[4]||(a[4]=e=>De())}),(0,n.Lk)("button",{onClick:a[5]||(a[5]=e=>j.value=!j.value),style:(0,T.Tr)([{"border-radius":"50%",padding:"1rem","border-color":"#f68608","border-width":"5px"},{backgroundColor:j.value?"#ffffff":"#000000"}])},null,4),a[30]||(a[30]=(0,n.Lk)("text",{style:{color:"white"}},"Brush Color",-1)),(0,n.bo)((0,n.Lk)("input",{type:"color","onUpdate:modelValue":a[6]||(a[6]=e=>f.value=e)},null,512),[[o.Jo,f.value]]),(0,n.bF)(i,{icon:["fas","hand"],onClick:a[7]||(a[7]=e=>ne("$event")),class:"feature-icon",style:(0,T.Tr)({color:$.value?"#0d6efd":"orange"})},null,8,["style"]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>k.value=e),style:{background:"#23272f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 16px","font-size":"1rem",outline:"none",cursor:"pointer"}},[...a[28]||(a[28]=[(0,n.Lk)("option",{value:"brush"},"Brush",-1),(0,n.Lk)("option",{value:"eraser"},"Eraser",-1)])],512),[[o.u1,k.value]]),(0,n.bo)((0,n.Lk)("input",{type:"range","onUpdate:modelValue":a[9]||(a[9]=e=>L.value=e),min:"1",max:"10",style:{"accent-color":"#4f8cff",width:"60px"}},null,512),[[o.Jo,L.value]]),(0,n.Lk)("span",Ka,(0,T.v_)(L.value),1),(0,n.Lk)("label",{"aria-label":"upload",title:"upload image",onClick:a[10]||(a[10]=(...t)=>e.uploadImage&&e.uploadImage(...t)),style:{cursor:"pointer"}},[...a[29]||(a[29]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"16",fill:"#ffc107",class:"bi bi-upload",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),(0,n.Lk)("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"})],-1),(0,n.Lk)("input",{type:"file",id:"upload",style:{display:"none"}},null,-1)])]),(0,n.Lk)("div",{style:{display:"flex","align-items":"center",cursor:"pointer"}},[(0,n.Lk)("img",{width:"24",height:"24",loading:"async",decoding:"lazy",onClick:ie,src:"https://img.icons8.com/external-tal-revivo-filled-tal-revivo/24/external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo.png",alt:"external-assorted-shape-tool-selector-for-designing-application-text-filled-tal-revivo"})]),(p.value||P.value)&&"default"===(0,l.R1)(r)?((0,n.uX)(),(0,n.CE)("button",{key:0,id:"save_btn",onClick:a[11]||(a[11]=e=>Ke("save")),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Save")):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:a[12]||(a[12]=e=>Ae()),id:"exit",style:{background:"#ff4f4f",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"}},"Exit"),p.value||"demo"===(0,l.R1)(r)?((0,n.uX)(),(0,n.CE)("button",{key:1,id:"clearall",style:{background:"#f68608",color:"#fff",border:"none","border-radius":"8px",padding:"8px 20px","font-size":"1rem",cursor:"pointer",transition:"ease-in-out 0.6s"},onClick:a[13]||(a[13]=e=>Ie())}," Clear all ")):(0,n.Q3)("",!0)],2),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[I.value?((0,n.uX)(),(0,n.CE)("div",Aa,[(0,n.Lk)("div",$a,[(0,n.Lk)("button",{onClick:a[14]||(a[14]=e=>I.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"white","font-size":"20px",cursor:"pointer"}}," ✕ "),a[31]||(a[31]=(0,n.Lk)("p",null,"Select a Shape",-1)),(0,n.Lk)("div",Ia,[(0,n.Lk)("div",Ua,[(0,n.bF)(i,{icon:["fas","text-height"],class:"feature-icon",alt:"text","ara-label":"text",onClick:a[15]||(a[15]=e=>Q("text"))})]),(0,n.Lk)("div",Ba,[(0,n.bF)(i,{icon:["fas","arrow-up-long"],class:"feature-icon",alt:"arrow","ara-label":"arrow",onClick:a[16]||(a[16]=e=>Q("arrow"))})]),(0,n.Lk)("div",Va,[(0,n.bF)(i,{icon:["fas","circle"],class:"feature-icon",alt:"circle","ara-label":"circle",onClick:a[17]||(a[17]=e=>Q("circle"))})]),(0,n.Lk)("div",Ma,[(0,n.bF)(i,{icon:["fas","square"],class:"feature-icon",alt:"square","ara-label":"square",onClick:a[18]||(a[18]=e=>Q("square"))})])])])])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",qa,[P.value&&"demo"!==(0,l.R1)(r)&&!p.value?((0,n.uX)(),(0,n.CE)("button",{key:0,id:"bookmark-btn",onClick:le,class:"mb-2",style:(0,T.Tr)([{background:"#4f8cff",color:"#fff",border:"none","border-radius":"10px",padding:"10px 18px","font-size":"0.95rem","font-weight":"500",cursor:"pointer",transition:"ease-in-out 0.6s",height:"40px"},{width:se.value?"200px":"unset"}])},[(0,n.Lk)("img",{src:(0,l.R1)(za),decoding:"async",loading:"lazy",alt:"Bookmark",style:{width:"18px",height:"18px"}},null,8,Ya),se.value?((0,n.uX)(),(0,n.CE)("span",Qa,(0,T.v_)(A.value?"Bookmarked":"Bookmark"),1)):(0,n.Q3)("",!0)],4)):(0,n.Q3)("",!0),(0,n.Lk)("button",{id:"inv",onClick:Ce,style:(0,T.Tr)([{display:"flex","align-items":"center",gap:"8px",background:"#4f8cff",color:"#fff",border:"none","border-radius":"10px",padding:"10px 18px","font-size":"0.95rem","font-weight":"500",cursor:"pointer",transition:"ease-in-out 0.6s",height:"40px"},{width:se.value?"200px":"unset"}])},[(0,n.Lk)("img",{src:(0,l.R1)(Fa),alt:"Copy",style:{width:"18px",height:"18px"}},null,8,Ha),se.value?((0,n.uX)(),(0,n.CE)("span",Ga,"Copy invitation link")):(0,n.Q3)("",!0)],4)]),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[v.value?((0,n.uX)(),(0,n.CE)("div",Za,[(0,n.Lk)("button",{onClick:a[19]||(a[19]=e=>v.value=!1),style:{position:"absolute",top:"12px",right:"12px",background:"transparent",border:"none",color:"#ccc","font-size":"20px",cursor:"pointer",transition:"color 0.2s"}}," ✕ "),(0,n.Lk)("div",eo,[a[32]||(a[32]=(0,n.Lk)("label",{class:"align-self-start"},"Title",-1)),(0,n.Lk)("div",to,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[20]||(a[20]=e=>m.value=e),type:"text",placeholder:"Enter title",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[o.Jo,m.value]]),(0,n.Lk)("span",ao,(0,T.v_)(m.value&&m.value.length||0),1)])]),(0,n.Lk)("div",oo,[a[33]||(a[33]=(0,n.Lk)("label",{class:"align-self-start"},"Description",-1)),(0,n.Lk)("div",no,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[21]||(a[21]=e=>w.value=e),rows:"3",placeholder:"Enter description",style:{padding:"10px 14px","border-radius":"12px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#fff","font-size":"1rem",resize:"none",outline:"none",transition:"border 0.2s",width:"100%","box-sizing":"border-box"}},null,512),[[o.Jo,w.value]]),(0,n.Lk)("span",io,(0,T.v_)(w.value&&w.value.length||0),1)])]),(0,n.Lk)("div",lo,[a[35]||(a[35]=(0,n.Lk)("label",{style:{"flex-shrink":"0"}},"Private",-1)),(0,n.Lk)("label",ro,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[22]||(a[22]=e=>b.value=e),type:"checkbox","true-value":"Private","false-value":"Public"},null,512),[[o.lH,b.value]]),a[34]||(a[34]=(0,n.Lk)("span",{class:"slider"},null,-1))])]),(0,n.Lk)("button",{id:"save_def",onClick:a[23]||(a[23]=e=>Re()),style:{background:"#4f8cff",color:"#fff",border:"none","border-radius":"12px",padding:"12px","font-size":"1rem","font-weight":"500",cursor:"pointer",transition:"0.5s ease-out"},class:"save"}," Save Details ")])):(0,n.Q3)("",!0)]),_:1}),(0,n.Lk)("div",so,[(0,n.Lk)("label",{style:{"font-size":"small",cursor:"pointer",width:"1.5rem"},onClick:a[24]||(a[24]=e=>xe("up"))},"+"),(0,n.Lk)("img",{src:(0,l.R1)(_a),decoding:"async",loading:"lazy",alt:"zoom",class:"img-fluid",style:{width:"1rem",height:"1rem"}},null,8,co),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[25]||(a[25]=e=>C.value=e),style:{width:"60px","text-align":"center","border-style":"none","font-size":"0.7rem"},disabled:""},null,512),[[o.Jo,C.value]]),(0,n.Lk)("label",{style:{"font-size":"small",cursor:"pointer",width:"1.5rem"},onClick:a[26]||(a[26]=e=>xe("down"))},"-")]),(0,n.Lk)("div",{class:"board-wrapper",style:(0,T.Tr)({backgroundColor:j.value?"#ffffff":"#000000"})},[(0,n.bF)(g,{ref_key:"stageRef",ref:d,config:ce,onMousedown:Ye,onMousemove:Ge,onMouseup:Qe,onWheel:Le,onTouchstart:Ye,onTouchmove:Ge,onTouchend:Qe,onContextmenu:he,onClick:a[27]||(a[27]=e=>ae(e)),style:{"overflow-x":"hidden","overflow-y":"hidden",border:"none !important"}},{default:(0,n.k6)(()=>[(0,n.bF)(c,{ref_key:"layerRef",ref:X},{default:(0,n.k6)(()=>[(0,n.bF)(s,{ref_key:"imageRef",ref:D,config:Ve},null,512)]),_:1},512)]),_:1},512)],4)])}}};const vo=(0,y.A)(po,[["__scopeId","data-v-2d78578a"]]);var ho=vo;const fo={class:"d-flex flex-column min-vh-100"},go={class:"flex-grow-1 d-flex flex-column justify-content-center align-items-center mt-2 mb-3"},mo={key:0,class:"alert alert-danger text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(220,53,69,0.10)",background:"#222",border:"1.5px solid #dc3545"}},yo={class:"alert-content",style:{"padding-top":"0.2rem"}},wo={style:{color:"#ffc107","font-size":"1rem"}},bo={key:0,class:"alert alert-success text-center custom-alert p-2",role:"alert",style:{"max-width":"70vw",width:"440px",position:"fixed",top:"4rem",left:"50%",transform:"translateX(-50%)","z-index":"10000","font-size":"0.95rem","border-radius":"0.7rem","box-shadow":"0 2px 8px rgba(40,167,69,0.10)",background:"#222",border:"1.5px solid #28a745"}},ko={key:0,class:"spinner-overlay d-flex justify-content-center align-items-center"},xo={class:"container align-items-center w-25 mt-4 bg-white rounded p-4"},Lo={class:"input-group"},So={class:"input-group"},Co={key:0},To={key:1};var Ro={__name:"RestorePassword",setup(e){const t=(0,l.KR)(""),a=(0,l.KR)(!1),i=(0,l.KR)(!1),r=(0,l.KR)(!1),s=(0,l.KR)(""),c=(0,l.KR)("");function d(e){const t="new_password"===e?document.querySelector("#new"):document.querySelector("#confirm");"password"===t.type?t.type="text":t.type="password"}async function u(){try{i.value=!0;const e=new URL(window.location.href).pathname.split("/")[2],t=await fetch(`${R}/recover/${e}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F("csrftoken")},credentials:"include",body:JSON.stringify({new_password:s.value})}),a=await t.json();return 200===a.status}catch(e){i.value=!1,t.value="An error occurred. Please try again.",a.value=!0}i.value=!1}const p=()=>{u().then(e=>{i.value=!1,e?(r.value=!0,setTimeout(()=>{window.location.href=`${window.location.origin}/signin`},1e4)):(t.value="Failed to update password. The recovery link may be invalid or expired.",a.value=!0)})};return(0,n.sV)(()=>{i.value=!0;const e=(0,l.KR)(new URL(window.location.href).pathname.split("/")[2]);async function o(){try{const t=await fetch(`${R}/recover/${e.value}`,{method:"GET",headers:{"X-CSRFToken":F("csrftoken")},credentials:"include"}),a=await t.json();return 200===a.status}catch(t){window.location.href="/signin"}}o().then(e=>{i.value=!1,e||(t.value="Recovery link is either invalid or expired.",a.value=!0)})}),(e,u)=>{const v=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("div",fo,[(0,n.Lk)("div",go,[u[11]||(u[11]=(0,n.Lk)("h1",{class:"my-4",style:{color:"yellow"}},"Password Restoration",-1)),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[a.value?((0,n.uX)(),(0,n.CE)("div",mo,[(0,n.Lk)("button",{onClick:u[0]||(u[0]=e=>a.value=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#dc3545",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),(0,n.Lk)("div",yo,[(0,n.Lk)("strong",wo,(0,T.v_)(t.value),1),u[7]||(u[7]=(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"Please try again.",-1))])])):(0,n.Q3)("",!0)]),_:1}),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[r.value?((0,n.uX)(),(0,n.CE)("div",bo,[(0,n.Lk)("button",{onClick:u[1]||(u[1]=e=>r.value=!1),class:"close-btn rounded-circle float-end","aria-label":"Close",style:{"background-color":"#28a745",color:"#fff",border:"none",width:"1.5rem",height:"1.5rem","font-size":"1.1rem","margin-top":"-0.3rem","margin-right":"-0.3rem","line-height":"1.1rem"}},"×"),u[8]||(u[8]=(0,n.Lk)("div",{class:"alert-content",style:{"padding-top":"0.2rem"}},[(0,n.Lk)("strong",{style:{color:"#28a745","font-size":"1rem"}},"Password successfully updated!"),(0,n.Lk)("div",{style:{color:"#fff","margin-top":"0.2rem","font-size":"0.92rem"}},"You can now sign in with your new password. You will be redirected in 10 seconds to the sign in page.")],-1))])):(0,n.Q3)("",!0)]),_:1}),i.value?((0,n.uX)(),(0,n.CE)("div",ko,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.bF)(o.eB,{name:"fade-slide"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",xo,[u[10]||(u[10]=(0,n.Lk)("h2",{class:"text-center mb-5 text-black"},"Enter New Password",-1)),(0,n.Lk)("div",Lo,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"new","onUpdate:modelValue":u[2]||(u[2]=e=>s.value=e),class:"form-control bg-dark text-black bg-white border-secondary mb-3",placeholder:"Enter new password",required:""},null,512),[[o.Jo,s.value]]),(0,n.bF)(v,{icon:["fas","eye"],class:"input-icon mt-2 mx-2",style:{cursor:"pointer"},onClick:u[3]||(u[3]=e=>d("new_password"))})]),(0,n.Lk)("div",So,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirm","onUpdate:modelValue":u[4]||(u[4]=e=>c.value=e),class:"form-control bg-dark text-black bg-white border-secondary mb-3",placeholder:"Confirm new password",required:""},null,512),[[o.Jo,c.value]]),(0,n.bF)(v,{icon:["fas","eye"],class:"input-icon mt-2 mx-2",style:{cursor:"pointer"},onClick:u[5]||(u[5]=e=>d("confirm_password"))})]),s.value===c.value&&s.value.length>0?((0,n.uX)(),(0,n.CE)("div",Co,[(0,n.Lk)("button",{onClick:u[6]||(u[6]=e=>p()),class:"btn btn-primary w-100 mt-2"},"Restore Password")])):((0,n.uX)(),(0,n.CE)("div",To,[...u[9]||(u[9]=[(0,n.Lk)("button",{disabled:"",class:"btn btn-secondary w-100 mt-2"},"Restore Password",-1),(0,n.Lk)("label",{class:"text-danger mt-2 d-block text-center"},"Passwords do not match.",-1)])]))])]),_:1})]),(0,n.bF)(U)])}}};const Oo=Ro;var No=Oo;const Eo={class:"learn-more-container",id:"learn-more"},Fo={class:"content-wrapper"},_o=["src"];function zo(e,t,a,o,i,l){const r=(0,n.g2)("FoOter");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",Eo,[(0,n.Lk)("div",Fo,[(0,n.Lk)("img",{src:i.logo,alt:"CoDraw Logo",class:"learn-more-logo"},null,8,_o),t[0]||(t[0]=(0,n.Fv)('<h1 class="learn-more-title" data-v-3d77b7a4>About CoDraw</h1><section class="learn-more-section" data-v-3d77b7a4><p class="learn-more-text" data-v-3d77b7a4> CoDraw is an innovative platform designed to facilitate collaborative drawing and creativity. Whether you&#39;re an artist looking to share your work or someone who enjoys doodling with friends, CoDraw provides the perfect space to connect and create together. </p><p class="learn-more-text" data-v-3d77b7a4> Our mission is to bring people together through art, fostering a community where creativity knows no bounds. With a variety of tools and features, CoDraw makes it easy for users of all skill levels to participate in collaborative projects. </p><p class="learn-more-text" data-v-3d77b7a4> Join us today and start creating amazing artwork with others! If you are interested in contributing to the development of CoDraw, check out our <a href="https://github.com/Damian0563/CoDraw" class="github-link" data-v-3d77b7a4>GitHub</a></p></section>',2))])]),(0,n.bF)(r)],64)}var Do={name:"LearnMore",components:{FoOter:U},data(){return{logo:r}}};const Xo=(0,y.A)(Do,[["render",zo],["__scopeId","data-v-3d77b7a4"]]);var Wo=Xo;const jo={class:"not-found-background"},Po={class:"not-found-content"};function Jo(e,t,a,o,i,l){const r=(0,n.g2)("font-awesome-icon"),s=(0,n.g2)("router-link"),c=(0,n.g2)("FoOter");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",jo,[(0,n.Lk)("div",Po,[(0,n.bF)(r,{icon:["fas","exclamation-triangle"],class:"not-found-icon"}),t[1]||(t[1]=(0,n.Lk)("h1",{class:"not-found-title"},"404 - Page Not Found",-1)),t[2]||(t[2]=(0,n.Lk)("p",{class:"not-found-text"}," Oops! The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL. ",-1)),(0,n.bF)(s,{to:"/",class:"not-found-btn","aria-label":"Go back to home"},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)(" Go Home ",-1)])]),_:1})])]),(0,n.bF)(c)],64)}var Ko={name:"NotFound",components:{FoOter:U}};const Ao=(0,y.A)(Ko,[["render",Jo],["__scopeId","data-v-174e3a39"]]);var $o=Ao;const Io={key:0,class:"spinner-overlay"},Uo={class:"main-layout"},Bo={class:"flex-grow-1 d-flex justify-content-center align-items-start p-3 p-md-5"},Vo={class:"my-5 border rounded justify-content-center",style:{"background-color":"#ffc107",width:"90%",height:"110vh"}},Mo={class:"row justify-content-center mx-2"},qo={class:"col-md-6 col-sm-10 col-12"},Yo={class:"input-group shadow-sm rounded mx-2"},Qo={id:"results",class:"my-4 mx-3"},Ho={class:"container"},Go={class:"row g-1 justify-content-start gap-2"},Zo=["onClick"],en={class:"card-body d-flex flex-column",style:{height:"100%"}},tn={class:"card-title fw-bold mb-2"},an={class:"card-text small"},on={class:"card-footer"},nn={class:"d-flex justify-content-between small"},ln={class:"text-start small"},rn=["href"],sn={key:0,class:"justify-content-center",style:{"min-height":"12rem"}};var cn={__name:"SeArch",setup(e){const t=(0,l.KR)(!1),a=(0,l.KR)([]),i=(0,l.KR)(""),r=F("csrftoken");async function s(e){try{t.value=!0;const o=await fetch(`${R}/search`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},credentials:"include",body:JSON.stringify({query:e,timezone:st.c9.local().zoneName})}),n=await o.json();console.log(n),200===n.status&&n.boards&&(a.value=JSON.parse(n.boards)),t.value=!1}catch(o){console.error(o)}}async function c(){try{const e=await fetch(`${R}/get_popular`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:JSON.stringify({timezone:st.c9.local().zoneName}),credentials:"include"}),t=await e.json();a.value=t.boards}catch(e){console.error(e)}}async function d(e){try{const t=await fetch(`${R}/load`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},credentials:"include",body:JSON.stringify({room:e})}),a=await t.json();200===a.status&&(window.location.href=`${a.url}?origin=search`)}catch(t){console.error(t)}}return(0,n.sV)(async()=>{t.value=!0,await c(),t.value=!1}),(e,r)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[t.value?((0,n.uX)(),(0,n.CE)("div",Io,[(0,n.bF)((0,l.R1)(_.y1),{size:"60",color:"orange"})])):(0,n.Q3)("",!0),(0,n.Lk)("div",Uo,[(0,n.bF)(rt),(0,n.Lk)("div",Bo,[(0,n.Lk)("div",Vo,[r[9]||(r[9]=(0,n.Lk)("div",{class:"text-center mb-4"},[(0,n.Lk)("h2",{class:"fw-bold mt-4"},"Browse Public Projects"),(0,n.Lk)("p",{class:"text-muted"},"Find boards and ideas shared by the community")],-1)),(0,n.Lk)("div",Mo,[(0,n.Lk)("div",qo,[(0,n.Lk)("div",Yo,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control border-0 p-3 minput",placeholder:"Search public boards...","aria-label":"Search public boards","onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),onKeyup:r[1]||(r[1]=(0,o.jR)(e=>s(i.value),["enter"]))},null,544),[[o.Jo,i.value]]),(0,n.Lk)("button",{class:"btn btn-primary",type:"button",onClick:r[2]||(r[2]=e=>s(i.value))},[...r[4]||(r[4]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1\n\t\t\t\t\t\t\t\t\t\t1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242\n\t\t\t\t\t\t\t\t\t\t1.656a5.5 5.5 0 1 1 0-11 5.5\n\t\t\t\t\t\t\t\t\t\t5.5 0 0 1 0 11z"})],-1)])])])])]),(0,n.Lk)("section",Qo,[(0,n.Lk)("div",Ho,[(0,n.Lk)("div",Go,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,T.C4)([a.value.length<3?"col-12 col-md-6 col-xl-4":"col-12 col-lg-4 col-xl-3","card result-card project-card text-center"]),style:{height:"20rem",width:"18rem",cursor:"pointer",position:"relative"},onClick:t=>d(e.room)},[(0,n.Lk)("div",en,[(0,n.Lk)("h5",tn,(0,T.v_)(e.title),1),(0,n.Lk)("p",an,(0,T.v_)(e.description),1),(0,n.Lk)("footer",on,[r[7]||(r[7]=(0,n.Lk)("div",{class:"text-start small"},[(0,n.Lk)("span",null,[(0,n.eW)("Visibility: "),(0,n.Lk)("span",null,"Public")])],-1)),(0,n.Lk)("div",nn,[(0,n.Lk)("span",null,[r[5]||(r[5]=(0,n.eW)("Views: ",-1)),(0,n.Lk)("span",null,(0,T.v_)(e.views),1)]),(0,n.Lk)("span",null,(0,T.v_)(e.modified),1)]),(0,n.Lk)("div",ln,[(0,n.Lk)("span",null,[r[6]||(r[6]=(0,n.eW)("Owner: ",-1)),(0,n.Lk)("a",{href:`/codraw/account/${e.owner}`,onClick:r[3]||(r[3]=(0,o.D$)(()=>{},["stop"])),style:{color:"#ff4f4f !important"}},(0,T.v_)(e.owner),9,rn)])])])])],10,Zo))),128)),0===a.value.length?((0,n.uX)(),(0,n.CE)("div",sn,[...r[8]||(r[8]=[(0,n.Lk)("text",null,"No results found :(",-1)])])):(0,n.Q3)("",!0)])])])])])])],64))}};const dn=(0,y.A)(cn,[["__scopeId","data-v-df9b94b4"]]);var un=dn,pn=a(7107),vn=a(1273),hn=a(6305),fn=a(6188),gn=a(7875);pn.Yv.add(fn.fyG,fn.GEE,fn.S_v,fn.CFw,fn.Nfw,fn.v02,fn.zm_,fn.rC2,fn.U23,fn.yek,fn.MjD,fn.zpE,fn.X46,fn.pS3,fn.zLW,fn.UUN,fn._eQ,fn.IlC,gn.Vz1,fn.bFI);const mn=[{path:"/",component:et,meta:{showNav:!0}},{path:"/signup",component:Se,meta:{showNav:!0}},{path:"/signin",component:se,meta:{showNav:!0}},{path:"/codraw",component:Nt,meta:{showNav:!1}},{path:"/codraw/search",component:un,meta:{showNav:!1}},{path:"/codraw/account/:username",component:Ea,meta:{showNav:!1}},{path:"/board/:id/:room",component:ho,meta:{showNav:!1}},{path:"/demo/:room",component:ho,meta:{showNav:!1}},{path:"/learn-more",component:Wo,meta:{showNav:!0}},{path:"/recover/:code",component:No,meta:{showNav:!0}},{path:"/:pathMatch(.*)*",component:$o,meta:{showNav:!0}}],yn=(0,C.aE)({history:(0,C.LA)(),routes:mn});yn.afterEach(()=>{window.scrollTo({top:0,behavior:"instant"})}),(0,o.Ef)(L).use(yn).use((0,hn.A)({tagId:"G-QW19P198KB",config:{params:{debug_mode:!0,app_name:"CoDraw"}},pageTracker:{router:yn,useScreenview:!0}})).use(S.Ay).component("font-awesome-icon",vn.gc).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,i){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],i=e[d][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every(function(e){return a.O[e](o[s])})?o.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,i,l=o[0],r=o[1],s=o[2],c=0;if(l.some(function(t){return 0!==e[t]})){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(s)var d=s(a)}for(t&&t(o);c<l.length;c++)i=l[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(9016)});o=a.O(o)})();
//# sourceMappingURL=app.2fa05008.js.map