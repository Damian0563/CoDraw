{"version":3,"file":"js/app.2ed21e43.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/components/Navbar.vue","webpack://frontend/./src/components/Navbar.vue?436b","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/common.js","webpack://frontend/./src/components/SignIn.vue","webpack://frontend/./src/components/SignIn.vue?faab","webpack://frontend/./src/components/SignUp.vue","webpack://frontend/./src/components/SignUp.vue?b466","webpack://frontend/./src/components/Hero.vue","webpack://frontend/./src/components/Hero.vue?ee45","webpack://frontend/./src/components/Main.vue","webpack://frontend/./src/components/Main.vue?4fee","webpack://frontend/./src/components/SeTtings.vue","webpack://frontend/./src/components/SeTtings.vue?c4c5","webpack://frontend/./src/components/AccOunt.vue","webpack://frontend/./src/components/AccOunt.vue?d20b","webpack://frontend/./src/components/BoArd.vue","webpack://frontend/./src/components/BoArd.vue?01d0","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/harmony module decorator","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n  <NavBar v-if=\"$route.path.substring(0,7) !== '/codraw' && $route.path.substring(0,6)!=='/board'\"/>\n  <router-view/>\n</template>\n\n<script>\nimport NavBar from './components/Navbar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    NavBar,\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n  overflow-y: scroll; /* keeps scroll active */\n  scrollbar-width: none; /* Firefox */\n}\n\n\n#app {\n  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: 1.2rem;\n}\nhtml, body, #app {\n  height: 100%;\n  min-height: 100vh;\n  background: black;\n}\n</style>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark shadow p-3\">\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvas\" aria-controls=\"offcanvas\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"offcanvas offcanvas-end mx-2\" style=\"background-color: black;\" tabindex=\"-1\" id=\"offcanvas\" aria-labelledby=\"offcanvasLabel\">\n      <div class=\"offcanvas-body\">\n        <RouterLink class=\"navbar-brand d-flex align-items-center\" to=\"/\">\n          <img :src=\"imageUrl\" alt=\"logo\" height=\"90\" class=\"me-3\" />\n          <span>CoDraw</span>\n        </RouterLink>\n        <ul class=\"navbar-nav ms-auto mb-2 mb-lg-0 d-flex flex-row align-items-center\">\n          <li class=\"nav-item mx-2\">\n            <RouterLink class=\"nav-link\" to=\"/#about\" href=\"#\">About</RouterLink>\n          </li>\n          <li class=\"nav-item mx-2\">\n            <RouterLink class=\"btn me-2\" to=\"/signup\" id=\"sign\" style=\"border-color: yellow;color: yellow;\">Sign up</RouterLink>\n          </li> \n          <li class=\"nav-item mx-2\">\n            <RouterLink class=\"btn btn-outline-light\" id=\"sing\" to=\"/signin\">Sign in</RouterLink>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script setup>\nimport imageUrl from '@/assets/logo.webp'\n</script>\n<script>\nexport default {\n  name: 'NavBar',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  #sign,#sing{\n    transition: ease-in-out 0.5s;\n  }\n  #sing:hover{\n    transform: scale(1.1);\n  }\n  #sign:hover{\n    transform: scale(1.1);\n    color: black !important;\n    background-color: yellow !important;\n    border-color:white !important;\n  }\n</style>\n","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=e440355c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e440355c\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=72dd069e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=72dd069e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const BASE_URL = process.env.VUE_APP_BASE_URL;\r\nfunction get_cookie(name){\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\nexport { get_cookie };","<template>\r\n  <div style=\"background-color: black;\">\r\n    <img :src='url' class=\"img-fluid border rounded-circle\" style=\"width:10vw;height: auto;margin-top:2%; border-color: yellow;\">\r\n  </div>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\r\n       role=\"alert\"\r\n       style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n    <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n    <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n      <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\r\n      <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\r\n    </div>\r\n    </div>\r\n  </Transition>\r\n  <div class=\"d-flex justify-content-center pt-5\" style=\"background-color: black; min-height: 40vh;\">\r\n    <div class=\"card p-3 shadow-lg\" style=\"max-width: 400px; width: 100%; background: white; border: none; min-height: unset;\">\r\n      <h2 class=\"text-center mb-3 text-black\">Sign In</h2>\r\n      <form ref=\"formRef\" @submit=\"SignIn\" class=\"needs-validation\" novalidate>\r\n        <div class=\"mb-2\">\r\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\r\n          <input type=\"email\" v-model=\"name_or_mail\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify email.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\r\n          <input type=\"password\" v-model=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify password.\r\n          </div>\r\n        </div>\r\n        <div class=\"form-check d-flex align-items-center mb-3 w-100 flex-wrap\" style=\"padding: 0 !important;gap: 2rem;\">\r\n          <label class=\"form-check-label text-black fw-medium mb-0\" for=\"rememberMe\">\r\n            Remember me\r\n          </label>\r\n          <input type=\"checkbox\" ref=\"ticked\" @click=\"ticked=!ticked\" id=\"rememberMe\" style=\"accent-color:#ffc107;margin: 0 !important;width:1.25rem;height:1.25rem;\">\r\n        </div>\r\n        <button id=\"sign\" type=\"submit\" class=\"btn btn-success w-100 mt-2\" style=\"background-color: yellow;color: black;\">Sign In</button>\r\n      </form>\r\n      <div class=\"text-center mt-2\">\r\n        <span class=\"text-secondary\">Do not have an account?</span>\r\n        <RouterLink to=\"/signup\" class=\"ms-2 text-info\">Sign up</RouterLink>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport url from '@/assets/logo.webp'\r\nimport { ref } from 'vue'\r\nimport { get_cookie } from '@/common'\r\nimport {BASE_URL} from '../common.js'\r\nlet message = ref('')\r\nlet invalid = ref(false)\r\nlet ticked= ref(false)\r\nconst name_or_mail = ref('')\r\nconst password = ref('')\r\nconst formRef = ref(null);\r\nasync function SignIn(e){\r\n  e.preventDefault()\r\n  const form = formRef.value;\r\n  form.classList.add('was-validated')\r\n  if (!form.checkValidity()) {\r\n    e.stopPropagation()\r\n    return;\r\n  }\r\n  try{\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"mail\": name_or_mail.value,\r\n        \"password\": password.value,\r\n        \"remember\": ticked.value\r\n      })\r\n    });\r\n    const response = await data.json();\r\n    if(response.status===200){\r\n      window.location.href = '/codraw';\r\n    }else{\r\n      invalid.value = true;\r\n      message.value ='Invalid credentials. Please try again.';\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n    invalid.value = true\r\n    message.value = 'An error occurred while signing in.'\r\n  }\r\n}\r\nasync function status(){\r\n  try {\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signin`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if (response.status === 300) {\r\n      window.location.href = '/codraw';\r\n    } \r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\nstatus();\r\n</script>\r\n<style scoped>\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n/* The \"leave\" state, when the modal is about to disappear */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n/* The \"active\" state, when the modal is fully visible and in its final position */\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  border-radius: 1.5rem;\r\n  border: 2px solid #ffc107;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin-top: 1.5rem;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n.card:hover {\r\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\r\n}\r\n.card h2 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  margin-bottom: 1.2rem;\r\n}\r\n.card label {\r\n  color: #ffc107;\r\n  font-weight: 500;\r\n}\r\n.card input {\r\n  background: #222;\r\n  color: #fff;\r\n  border: 1.5px solid #ffc107;\r\n  border-radius: 0.5rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n.card input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n#sign {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n}\r\n#sign:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\ninput::placeholder {\r\n  color: #ccc !important;\r\n  opacity: 1;\r\n}\r\n</style>","import script from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=08ed81a2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08ed81a2\"]])\n\nexport default __exports__","<template>\r\n  <div style=\"background-color: black;\">\r\n    <img :src='url' class=\"img-fluid border rounded-circle border-danger-subtle\" style=\"width:10vw;height: auto;margin-top:2% ;\">\r\n  </div>\r\n  <Transition name=\"fade-slide\">\r\n    <div v-if=\"invalid\" class=\"alert alert-danger text-center custom-alert p-2\"\r\n        role=\"alert\"\r\n        style=\"max-width: 70vw; width: 440px; position: fixed; top: 4rem; left: 50%; transform: translateX(-50%); z-index: 10000; font-size: 0.95rem; border-radius: 0.7rem; box-shadow: 0 2px 8px rgba(220,53,69,0.10); background: #222; border: 1.5px solid #dc3545;\">\r\n      <button @click=\"invalid=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: #dc3545; color: #fff; border: none; width: 1.5rem; height: 1.5rem; font-size: 1.1rem; margin-top: -0.3rem; margin-right: -0.3rem; line-height: 1.1rem;\">&times;</button>\r\n      <div class=\"alert-content\" style=\"padding-top: 0.2rem;\">\r\n        <strong style=\"color: #ffc107; font-size: 1rem;\">{{ message }}</strong>\r\n        <div style=\"color: #fff; margin-top: 0.2rem; font-size: 0.92rem;\">Please try again.</div>\r\n      </div>\r\n    </div>\r\n  </Transition>\r\n  <div v-if=\"visible\" class=\"overlay\">\r\n    <div class=\"popup-card\">\r\n      <button @click=\"visible=false\" class=\"close-btn rounded-circle float-end\" aria-label=\"Close\" style=\"background-color: red;color: white;\">&times;</button><br><br>\r\n      <h4 class=\"mb-3\">Enter Verification Code</h4>\r\n      <div class=\"d-flex justify-content-center mb-3\">\r\n        <input maxlength=\"1\" id=\"1\" @input=\"handleInput(2)\" ref=\"ZeroInput\" v-model=\"zero\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"2\" @input=\"handleInput(3)\" v-model=\"one\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\" ref=\"OneInput\"/>\r\n        <input maxlength=\"1\" id=\"3\" @input=\"handleInput(4)\" v-model=\"two\" ref=\"TwoInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"4\" @input=\"handleInput(5)\" v-model=\"three\" ref=\"ThreeInput\" class=\"code-input\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n        <input maxlength=\"1\" id=\"5\" class=\"code-input\" v-model=\"four\" ref=\"FourInput\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\"/>\r\n      </div>\r\n      <button class=\"btn btn-primary w-100\" @click=\"verifyCode\">Verify</button>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex justify-content-center pt-5\" style=\"background-color: black; min-height: 40vh;\">\r\n    <div class=\"card p-3 shadow-lg\" style=\"max-width: 400px; width: 100%; background: white; border: none; min-height: unset;\">\r\n      <h2 class=\"text-center mb-3 text-black\">Sign Up</h2>\r\n      <form ref=\"formRef\" @submit=\"SignUp\" class=\"needs-validation\" novalidate>\r\n        <div class=\"mb-2\">\r\n          <label for=\"username\" class=\"form-label text-black text-start w-100\">Username</label>\r\n          <input v-model=\"username\" type=\"text\" class=\"form-control bg-dark text-white border-secondary\" id=\"username\" placeholder=\"Enter username\" style=\"color: white;\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify username.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"email\" class=\"form-label text-black text-start w-100\">Email address</label>\r\n          <input v-model=\"mail\" type=\"email\" class=\"form-control bg-dark text-white border-secondary\" id=\"email\" placeholder=\"Enter email\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify email.\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"password\" class=\"form-label text-black text-start w-100\">Password</label>\r\n          <input v-model=\"password\" type=\"password\" class=\"form-control bg-dark text-white border-secondary\" id=\"password\" placeholder=\"Enter password\" required>\r\n          <div class=\"invalid-feedback\">\r\n            Please specify password.\r\n          </div>\r\n        </div>\r\n        <button id=\"sign\" class=\"btn btn-success w-100 mt-2\" type=\"submit\" style=\"background-color: yellow;color: black;\">Sign Up</button>\r\n      </form>\r\n      <div class=\"text-center mt-2\">\r\n        <span class=\"text-secondary\">Already have an account?</span>\r\n        <RouterLink to=\"/signin\" class=\"ms-2 text-info\">Sign In</RouterLink>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport url from '@/assets/logo.webp'\r\nimport { get_cookie } from '@/common'\r\nimport {BASE_URL} from '../common.js'\r\nlet visible=ref(false)\r\nlet formRef=ref(null)\r\nlet invalid=ref(false)\r\nlet message=ref('')\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst mail = ref('')\r\nconst ZeroInput = ref(null)\r\nconst OneInput = ref(null)\r\nconst TwoInput = ref(null)\r\nconst ThreeInput = ref(null)\r\nconst FourInput = ref(null)\r\nasync function status(){\r\n  try {\r\n    const csrf=get_cookie('csrftoken')\r\n    const data = await fetch(`${BASE_URL}/signup`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if (response.status === 300 && window.location.pathname !== '/codraw') {\r\n      window.location.href = '/codraw';\r\n    } \r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\nstatus();\r\nasync function SignUp(e) {\r\n  e.preventDefault()\r\n  const form = formRef.value;\r\n  form.classList.add('was-validated')\r\n  if (!form.checkValidity()) {\r\n    e.stopPropagation()\r\n    return;\r\n  }\r\n  const csrf=get_cookie('csrftoken')\r\n  const username_input=username.value\r\n  const password_input= password.value\r\n  const mail_input=mail.value\r\n  try{\r\n    const data = await fetch(`${BASE_URL}/signup`,{\r\n      method:\"POST\",\r\n      headers:{\"Content-Type\":'application/json','X-CSRFToken':csrf},\r\n      body:JSON.stringify({\r\n        \"username\":username_input,\r\n        \"mail\":mail_input,\r\n        \"password\":password_input\r\n      }),\r\n      credentials: 'include'\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      visible.value=true\r\n      ZeroInput.value.focus()\r\n    }else{\r\n      invalid.value=true\r\n      message.value=\"Account already registered under this email. Did you forget your password?\"\r\n    }\r\n\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction handleInput(index){\r\n  if(index === 2 && OneInput.value) OneInput.value.focus()\r\n  if(index === 3 && TwoInput.value) TwoInput.value.focus()\r\n  if(index === 4 && ThreeInput.value) ThreeInput.value.focus()\r\n  if(index === 5 && FourInput.value) FourInput.value.focus()\r\n}\r\nconst zero = ref('')\r\nconst one = ref('')\r\nconst two = ref('')\r\nconst three = ref('')\r\nconst four = ref('')\r\n\r\n// Helper to get the code string when needed\r\nfunction getCode() {\r\n  return `${zero.value}${one.value}${two.value}${three.value}${four.value}`;\r\n}\r\n\r\nasync function verifyCode(){\r\n  const csrf=get_cookie('csrftoken')\r\n  const username_input=username.value\r\n  const mail_input=mail.value\r\n  const data=await fetch(`${BASE_URL}/verify`,{\r\n    method:\"POST\",\r\n    headers:{\r\n      'Content-Type':'application/json',\r\n      'X-CSRFToken':csrf\r\n    },\r\n    body:JSON.stringify({\r\n      \"username\":username_input,\r\n      \"mail\":mail_input,\r\n      \"code\":getCode(),\r\n    })\r\n  })\r\n  const response=await data.json()\r\n  if(response.status===200){\r\n    window.location.href = '/codraw'\r\n  } else {\r\n    visible.value=false\r\n    invalid.value=true\r\n    zero.value = ''\r\n    one.value = ''\r\n    two.value = ''\r\n    three.value = ''\r\n    four.value = ''\r\n    message.value = \"Invalid verification code. Please try again- new verification code has been sent.\";\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n/* The \"leave\" state, when the modal is about to disappear */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n/* The \"active\" state, when the modal is fully visible and in its final position */\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  border-radius: 1.5rem;\r\n  border: 2px solid #ffc107;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(255,255,0,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin-top: 1.5rem;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n.card:hover {\r\n  box-shadow: 0 12px 36px rgba(255, 255, 0, 0.18), 0 8px 32px rgba(0,0,0,0.45);\r\n}\r\n.card h2 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  margin-bottom: 1.2rem;\r\n}\r\n.card label {\r\n  color: #ffc107;\r\n  font-weight: 500;\r\n}\r\n.card input {\r\n  background: #222;\r\n  color: #fff;\r\n  border: 1.5px solid #ffc107;\r\n  border-radius: 0.5rem;\r\n  margin-bottom: 0.7rem;\r\n}\r\n.card input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n#sign {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n}\r\n#sign:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\ninput::placeholder {\r\n  color: #ccc !important;\r\n  opacity: 1;\r\n}\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0,0,0,0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n.popup-card {\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  color: #fff;\r\n  padding: 2.5rem 2rem 2rem 2rem;\r\n  border-radius: 1.5rem;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.45), 0 2px 8px rgba(255,255,0,0.10);\r\n  min-width: 320px;\r\n  max-width: 90vw;\r\n  text-align: center;\r\n  border: 2px solid #ffc107;\r\n}\r\n.popup-card h4 {\r\n  color: #ffc107;\r\n  font-weight: 700;\r\n  margin-bottom: 1.5rem;\r\n}\r\n.code-input {\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  margin: 0 0.3rem;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n  border: 2px solid #ffc107;\r\n  border-radius: 8px;\r\n  background: #222;\r\n  color: #fff;\r\n  outline: none;\r\n  transition: border 0.2s, background 0.2s;\r\n}\r\n.code-input:focus {\r\n  border-color: #007bff;\r\n  background: #333;\r\n}\r\n.popup-card .btn-primary {\r\n  background: linear-gradient(90deg, #ffe066 60%, #ffd700 100%);\r\n  color: #181818;\r\n  font-weight: 700;\r\n  border: none;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 2px 8px rgba(255,255,0,0.08);\r\n  transition: background 0.2s, color 0.2s, transform 0.2s;\r\n  margin-top: 1.2rem;\r\n}\r\n.popup-card .btn-primary:hover {\r\n  background: #007bff !important;\r\n  color: #fff !important;\r\n  transform: scale(1.05);\r\n}\r\n</style>","import script from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=4daa0bd3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4daa0bd3\"]])\n\nexport default __exports__","<template>\r\n      \r\n    <div class=\"hero-background p-5 col-lg-4\" :style=\"`background-color: black;height:60vh`\">\r\n        <h1 class=\"hero-title\" style=\"color: white;\">\r\n            CoDraw<br>\r\n        </h1>\r\n        <p style=\"color: white;\">\r\n            CoDraw is a real-time collaborative drawing platform that lets you and your friends create, share, and edit artwork together from anywhere. Experience seamless teamwork, intuitive tools, and instant updates as you bring your creative ideas to life together!\r\n        </p>\r\n    </div>\r\n    <div style=\"background-color: black;overflow-x: hidden;margin-top: 2%;\">\r\n      <div class=\"container\">\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-3 mb-3\">\r\n            <div class=\"card h-100 bg-dark text-white shadow-lg\" id=\"card\" style=\"border-color: yellow;\">\r\n              <div class=\"card-body text-center\">\r\n                <h5 class=\"card-title\">Modern and Slick</h5>\r\n                <p class=\"card-text\">A visually appealing interface designed for a seamless and enjoyable drawing experience.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-3 mb-3\">\r\n            <div class=\"card h-100 bg-dark text-white shadow-lg\" id=\"card\" style=\"border-color: yellow;\">\r\n              <div class=\"card-body text-center\">\r\n                <h5 class=\"card-title\">Performance Oriented</h5>\r\n                <p class=\"card-text\">Optimized for speed and responsiveness, ensuring smooth collaboration in real time.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-3 mb-3\">\r\n            <div class=\"card h-100 bg-dark text-white shadow-lg\" id=\"card\" style=\"border-color: yellow;\">\r\n              <div class=\"card-body text-center\">\r\n                <h5 class=\"card-title\">Intuitive Design</h5>\r\n                <p class=\"card-text\">Easy-to-use tools and layout, making creativity accessible for everyone.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n  import { get_cookie } from '@/common';\r\n  import {BASE_URL} from '../common.js'\r\n  export default {\r\n      name: \"HeRo\",\r\n      props: {\r\n        msg: String\r\n      },\r\n      mounted() {\r\n        this.check();\r\n      },\r\n      methods: {\r\n        async check() {\r\n          try {\r\n            const csrf=get_cookie('csrftoken')\r\n            const data = await fetch(`${BASE_URL}/home`, {\r\n              method: 'GET',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken':csrf\r\n              },\r\n              credentials: 'include',\r\n            });\r\n            const response = await data.json();\r\n            if (response.status === 300 &&  window.location.pathname !== '/codraw') {\r\n              window.location.href = '/codraw';\r\n            }\r\n          } catch (e) {\r\n            console.error(e);\r\n          }\r\n        }\r\n      }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.hero-background {\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  width: 100%; /* Changed from 100vw to 100% to prevent overflow */\r\n  margin-left: 0; /* Remove negative margins */\r\n  margin-right: 0;\r\n  border: none;\r\n  box-shadow: 0 4px 24px rgba(0,0,0,0.25);\r\n  padding: 0 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 60vh;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.hero-title {\r\n  text-align: center;\r\n  padding-top: 6vh;\r\n  font-size: 4rem;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  letter-spacing: 2px;\r\n  text-shadow: 0 2px 16px rgba(0,0,0,0.5);\r\n  margin-bottom: 1.5rem;\r\n}\r\n.hero-background p {\r\n  text-align: center;\r\n  font-size: 1.35rem;\r\n  color: #e0e0e0;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  line-height: 1.6;\r\n  text-shadow: 0 1px 8px rgba(0,0,0,0.3);\r\n}\r\n@media (max-width: 768px) {\r\n  .hero-title {\r\n    font-size: 2.2rem;\r\n    padding-top: 3vh;\r\n  }\r\n  .hero-background {\r\n    min-height: 40vh;\r\n    padding: 0 1rem;\r\n  }\r\n  .hero-background p {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n#card{\r\n  transition: ease-in 0.6s;\r\n}\r\n#card:hover{\r\n  transform: scale(1.1);\r\n}\r\n\r\n.card {\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n  will-change: transform;\r\n  /* Prevents the card from being clipped by parent */\r\n  z-index: 1;\r\n}\r\n.card:hover {\r\n  transform: translateY(-8px) scale(1.03);\r\n  box-shadow: 0 8px 32px rgba(255, 255, 0, 0.25), 0 4px 24px rgba(0,0,0,0.35);\r\n}\r\n/* Add padding to the row to prevent cards from being clipped at the top */\r\n.row.justify-content-center {\r\n  padding-top: 16px;\r\n  padding-bottom: 16px;\r\n}\r\n/* Ensure parent containers allow overflow */\r\n.container, .row.justify-content-center {\r\n  overflow: visible !important;\r\n}\r\n</style>","import { render } from \"./Hero.vue?vue&type=template&id=679fee6c&scoped=true\"\nimport script from \"./Hero.vue?vue&type=script&lang=js\"\nexport * from \"./Hero.vue?vue&type=script&lang=js\"\n\nimport \"./Hero.vue?vue&type=style&index=0&id=679fee6c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-679fee6c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"main-layout\">\r\n    <aside\r\n      class=\"sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark\"\r\n      :class=\"{ 'sidebar-collapsed': !sidebarOpen }\"\r\n    >\r\n      <div class=\"sidebar-header d-flex flex-column align-items-center mb-4\">\r\n        <img class=\"toggle mb-3 align-self-end\" @click=\"sidebarOpen = !sidebarOpen\" :class=\"{'align-self-center':!sidebarOpen}\" :src=\"toggle\" style=\"cursor: pointer; width: 2rem; height: 2rem;\"/>\r\n        <img :src=\"url\" alt=\"logo\" class=\"logo mb-3 img-fluid rounded rounded-circle\" style=\"max-height: 20vh;\"/>\r\n        <RouterLink :to=\"`/codraw/account/${username}`\" class=\"nav-link account-link mb-2 w-100 text-center\">\r\n          My Account\r\n        </RouterLink>\r\n        <RouterLink to=\"/codraw/settings\" class=\"nav-link settings-link mb-2 w-100 text-center\">\r\n          Settings\r\n        </RouterLink>\r\n        <button class=\"btn btn-danger w-100\" @click=\"log_out()\" id=\"out\">Log out</button>\r\n      </div>\r\n    </aside>\r\n    <main class=\"main-content flex-grow-1\">\r\n      <RouterView />\r\n      <h1>Welcome to CoDraw!</h1>\r\n      <div class=\"mb-4\">\r\n        <h2 class=\"mb-4 text-start\">My Projects</h2>\r\n        <div id=\"projects\" class=\"container\">\r\n          <div \r\n            class=\"card create-project-card my text-center bg-dark\" \r\n            @click=\"create()\" \r\n            style=\"min-height: 14rem; min-width: 14rem; cursor: pointer;\"\r\n          >\r\n            <div class=\"card-body d-flex flex-column align-items-center justify-content-center\" style=\"height: 100%;\">\r\n              <span style=\"font-size: 3rem; color: #ffc107;\">+</span>\r\n              <h5 class=\"card-title mt-2 mb-0\" style=\"color:#ffc107\">Create Project</h5>\r\n            </div>\r\n          </div>\r\n          <div\r\n            v-for=\"(board, index) in boards\"\r\n            :key=\"index\"\r\n            class=\"card create-project-card my text-center bg-dark\"\r\n            @click=\"join(board.room)\"\r\n            style=\"min-height: 14rem; min-width: 14rem; cursor: pointer; position: relative;\"\r\n          >\r\n            <!-- id=\"created\" -->\r\n            <div class=\"card-body d-flex flex-column text-white\" style=\"height: 100%;\">  \r\n              <div class=\"w-100\" @click.stop=\"hover[index] = !hover[index]\">\r\n                <img :src=\"info\" style=\"width:30px;height: 30px;position: absolute;right:0;top:0;\" alt=\"info icon\">\r\n              </div>\r\n              <div v-if=\"hover[index]\" class=\"w-100\">\r\n                <div class=\"d-flex flex-column align-items-start gap-1\" style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05);padding: 0.5rem;\">\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Views: <span class=\"text-white\">{{ board.views }}</span></span>\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Last Modified: <span class=\"text-white\">{{ board.modified }}</span></span>\r\n                  <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">Visibility: <span class=\"text-white\">{{ board.visibility }}</span></span>\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"w-100\">\r\n                <h5 class=\"card-title fw-bold mt-2\">{{ board.title }}</h5>\r\n                <p class=\"card-text\" style=\"font-size: 0.8rem;\">{{ board.description }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"loading\" class=\"spinner-overlay\">\r\n        <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n      </div>\r\n      <div class=\"my-5 border rounded justify-content-center\" style=\"background-color: #ffc107;width:100%;height: auto;\">\r\n        <div class=\"text-center mb-4\">\r\n          <h2 class=\"fw-bold mt-4\">Browse Public Projects</h2>\r\n          <p class=\"text-muted\">Find boards and ideas shared by the community</p>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-6 col-sm-8 col-7\">\r\n            <div class=\"input-group shadow-sm rounded mx-2\">\r\n              <input \r\n                type=\"text\" \r\n                class=\"form-control border-0 p-3\"\r\n                placeholder=\"Search public boards...\" \r\n                aria-label=\"Search public boards\"\r\n                v-model=\"input\"\r\n                @keyup.enter=\"search(input)\"\r\n              >\r\n              <button class=\"btn btn-primary\" type=\"button\" @click=\"search(input)\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" \r\n                    class=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 \r\n                          1 0 0 0 1.415-1.415l-3.85-3.85zm-5.242 \r\n                          1.656a5.5 5.5 0 1 1 0-11 5.5 \r\n                          5.5 0 0 1 0 11z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <section id=\"results\" class=\"my-4 mx-3\">\r\n          <div class=\"container\">\r\n            <div class=\"row g-4\">\r\n              <div\r\n                v-for=\"(board, index) in popular\"\r\n                :key=\"index\"\r\n                :class=\"popular.length < 3 ? 'col-12 col-md-6 col-xl-4' : 'col-12 col-lg-4 col-xl-3'\"\r\n              >\r\n                <div\r\n                  class=\"card create-project-card text-center bg-dark\"\r\n                  @click=\"join(board.room)\"\r\n                  style=\"min-height: 12rem;min-width:10rem ;cursor: pointer;position: relative;\"\r\n                >\r\n                  <div class=\"card-body d-flex flex-column text-white\" id=\"shown\" style=\"height: 100%;\">\r\n                    <h5 class=\"card-title fw-bold\">{{ board.title }}</h5>\r\n                    <p class=\"card-text\" style=\"font-size: 0.8rem;\">{{ board.description }}</p>\r\n                    <footer class=\"d-flex flex-column py-2\" style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); border-top: 1px solid #ffc107;\">\r\n                      <div class=\"d-flex align-items-center gap-2 mx-2 mb-2\">\r\n                        <span class=\"fw-semibold text-warning\">Owner:</span>\r\n                        <a :href=\"`/codraw/account/${board.owner}`\" style=\"color:#ff4f4f !important;\">{{ board.owner }}</a>\r\n                      </div>\r\n                      <div class=\"d-flex align-items-center gap-2 mx-2\">\r\n                        <input class=\"form-control form-control-sm\" readonly disabled :value=\"'Views: ' + board.views\" style=\"width:150px;\"/>\r\n                        <input class=\"form-control form-control-sm\" readonly disabled :value=\"board.modified\" style=\"width: 150px;\"/>\r\n                      </div>\r\n                    </footer>\r\n                  </div>  \r\n                </div>\r\n              </div>\r\n              <div v-if=\"popular.length===0\" class=\"justify-content-center\" style=\"min-height: 12rem;\">\r\n                <text>No results found :(</text>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { get_cookie } from '@/common';\r\nimport {DateTime} from 'luxon'\r\nimport url from '@/assets/logo.webp'\r\nimport toggle from '@/assets/sidebar.webp'\r\nimport info from '@/assets/information.webp'\r\nimport {BASE_URL} from '../common.js'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nconst loading = ref(false)\r\nconst hover=ref({})\r\nconst csrf=get_cookie('csrftoken')\r\nconst sidebarOpen = ref(true)\r\nconst boards = ref([])\r\nconst popular=ref([])\r\nconst input=ref('')\r\nconst username = ref(\"\")\r\nasync function get_username(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/username`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status==200) username.value=response.username\r\n    else username.value=\"ERROR 404 NOT FOUND\"\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function log_out(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/log_out`,{\r\n      method:\"POST\",\r\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href='/'\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function search(sentence){\r\n  try{\r\n    loading.value=true;\r\n    const data=await fetch(`${BASE_URL}/search`,{\r\n      method:\"POST\",\r\n      headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrf},\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"query\":sentence,\r\n        \"timezone\":DateTime.local().zoneName\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      popular.value=JSON.parse(response.boards)\r\n      //console.log(popular.value.length, popular.value)\r\n    }\r\n    loading.value=false\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function status(){\r\n  try {\r\n    const data = await fetch(`${BASE_URL}/codraw`, {\r\n      method: 'GET',\r\n      headers:{'X-CSRFToken':csrf},\r\n      credentials: 'include'\r\n    });\r\n    const response = await data.json();\r\n    if(response.status !== 200 &&  window.location.pathname !== '/'){\r\n      window.location.href = '/';\r\n    }\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nconst get_boards = async()=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/codraw/get_boards`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"timezone\":DateTime.local().zoneName\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    boards.value=response.boards\r\n    hover.value=response.boards.map(()=>false)\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function join(room){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/load`,{\r\n      \"method\":\"POST\",\r\n      \"headers\":{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function create(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/get_project_url`,{\r\n        method:\"GET\",\r\n        headers:{\r\n          \"Content-Type\":'application/json',\r\n          \"X-CSRFToken\":csrf\r\n        },\r\n        credentials:\"include\"\r\n    })\r\n    const response= await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n    else{\r\n      console.log('error')\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nasync function load_popular(){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/get_popular`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"timezone\":DateTime.local().zoneName\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    popular.value=response.boards\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nonMounted(async() => {\r\n  loading.value=true\r\n  await Promise.all([\r\n    status(),\r\n    get_boards(),\r\n    load_popular(),\r\n    get_username()\r\n  ])\r\n  loading.value=false\r\n})\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MaIn',\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.my {\r\n  width: 14rem; /* lock width */\r\n  max-width: 20rem; /* prevents expansion */\r\n}\r\n\r\n#out{\r\n  transition: 0.6s ease-in-out;\r\n}\r\n\r\n#created,#shown{\r\n  transition: 0.5s ease-in-out;\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n#shown:hover{\r\n  background-color:#0d6efd;\r\n  color:white !important;\r\n}\r\n\r\n#created:hover{\r\n background-color:#ffc107;\r\n color:black !important;\r\n}\r\n\r\n#out:hover{\r\n  background-color: white;\r\n  color: red;\r\n}\r\n\r\n#projects {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(14rem, 1fr));\r\n  gap: 1.5rem; /* same as Bootstrap g-4 */\r\n  justify-items: center; /* center cards within each column */\r\n}\r\n\r\n.main-layout {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  background: #181818;\r\n}\r\n.sidebar {\r\n  height: 100vh;\r\n  min-width: 240px;\r\n  max-width: 20vw;\r\n  background: linear-gradient(135deg, #181818 80%, #222 100%);\r\n  border-right: 2px solid #ffc107;\r\n  transition: width 0.3s, padding 0.3s, min-width 0.3s, max-width 0.3s;\r\n  z-index: 10;\r\n}\r\n.sidebar-collapsed {\r\n  min-width: 60px !important;\r\n  max-width: 60px !important;\r\n  padding-left: 0.5rem !important;\r\n  padding-right: 0.5rem !important;\r\n}\r\n.logo {\r\n  transition: max-width 0.3s, opacity 0.3s;\r\n}\r\n.sidebar-collapsed .logo {\r\n  max-width: 40px;\r\n  opacity: 0.7;\r\n}\r\n.sidebar-collapsed .nav-link,\r\n.sidebar-collapsed .btn,\r\n.sidebar-collapsed .settings-link,\r\n.sidebar-collapsed .account-link {\r\n  display: none !important;\r\n}\r\n.main-content {\r\n  flex-grow: 1;\r\n  background: #fff;\r\n  min-height: 0;\r\n  padding: 2.5rem 2rem;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n}\r\n</style>","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=a1df3486&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a1df3486\"]])\n\nexport default __exports__","<template>\r\nsettings\r\n\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { get_cookie } from '@/common';\r\nconst csrf=get_cookie('csrftoken')\r\nconsole.log(csrf)\r\n</script>\r\n<script>\r\nexport default {\r\n  name: 'SeTtings',\r\n}\r\n</script>","import script from \"./SeTtings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeTtings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template class=\"bg-dark\">\r\n  <div v-if=\"loading\" class=\"spinner-overlay\">\r\n    <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n  </div>\r\n\r\n  <main class=\"flex-grow-1 text-white py-5\">\r\n    <RouterLink to=\"/codraw\">\r\n      <img :src=\"back\" class=\"back\" style=\"width:50px;height: 50px;\">\r\n    </RouterLink>\r\n    <button class=\"bookmarks btn btn-primary\">Bookmarks</button>\r\n    <div class=\"container\">\r\n      <h2 class=\"fw-bold mb-5 text-center\">{{ username }}'s Boards</h2>\r\n      <div class=\"boards-wrapper mt-2\">\r\n        <!-- @click=\"join(board.room)\" -->\r\n        <div\r\n          v-for=\"(board, index) in boards\"\r\n          :key=\"index\"\r\n          class=\"project-card\"\r\n        > \r\n          <div class=\"d-flex justify-content-end align-items-center gap-2\">\r\n            <div v-if=\"admin\" class=\"w-100\">\r\n              <div class=\"d-flex justify-content-end align-items-center gap-2\">\r\n                <img\r\n                  v-if=\"!edits[index]\"\r\n                  :src=\"edit\"\r\n                  @click=\"edits[index] = !edits[index]\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n                <img\r\n                  v-else\r\n                  :src=\"save\"\r\n                  @click=\"edits[index] = !edits[index];resave(boards[index]);boards[index].modified='Just now'\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n                <img\r\n                  :src=\"bin\"\r\n                  @click=\"delete_board(boards[index].room);boards.splice(index,1)\"\r\n                  style=\"width:20px;height:20px;cursor:pointer;\"\r\n                >\r\n              </div>\r\n              <div v-if=\"!edits[index]\">\r\n                <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled />\r\n                <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\r\n              </div>\r\n              <div v-else>\r\n                <input class=\"form-control fw-bold mt-2 bg-white text-dark\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" />\r\n                <input class=\"form-control small mt-3 bg-white text-dark\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" />\r\n              </div>\r\n            </div>\r\n            <div v-else class=\"w-100\">\r\n              <input class=\"form-control fw-bold mt-2 bg-dark text-white\" v-model=\"board.title\" @click.stop :placeholder=\"'Board Title'\" readonly disabled/>\r\n              <input class=\"form-control small mt-3 bg-dark text-white\" v-model=\"board.description\" @click.stop :placeholder=\"'Board Description'\" readonly disabled />\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body text-white position-relative flex-grow-1\">\r\n            <div class=\"d-flex flex-column align-items-start gap-1\"\r\n                style=\"position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.05); padding: 0.5rem;\">\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Views: <span class=\"text-white\">{{ board.views }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Last Modified: <span class=\"text-white\">{{ board.modified }}</span>\r\n              </span>\r\n              <span class=\"fw-semibold text-warning\" style=\"font-size: 0.85rem;\">\r\n                Visibility: <span class=\"text-white\">{{ board.visibility }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script setup>\r\nimport { get_cookie } from '@/common';\r\nimport { DateTime } from 'luxon';\r\nimport { onMounted, ref } from 'vue';\r\nimport { BASE_URL } from '../common.js';\r\nimport { VueSpinnerTail } from 'vue3-spinners';\r\nimport back from '@/assets/goback.webp'\r\nimport bin from '@/assets/bin.webp'\r\nimport save from '@/assets/save.webp'\r\nimport edit from '@/assets/edit.webp'\r\n\r\nconst username=ref(null)\r\nconst admin = ref(false)\r\nconst csrf = get_cookie('csrftoken')\r\nconst boards = ref([])\r\nconst loading = ref(true)\r\nconst edits=ref({})\r\n\r\n\r\nconst delete_board=async(room)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/delete/${room}`,{\r\n      method:\"GET\",\r\n      headers:{\"X-CSRFToken\":csrf},\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200) console.log(\"Board deleted successfully\")\r\n    else console.log(\"Board not deleted successfully\")\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst resave=async(board)=>{\r\n  loading.value=true;\r\n  if(board.original_description!==board.description || board.original_title!==board.title){\r\n    try{\r\n      const data=await fetch(`${BASE_URL}/codraw/update/${board.room}`,{\r\n        method:\"POST\",\r\n        headers:{\r\n          \"Content-Type\":\"application/json\",\r\n          \"X-CSRFToken\":csrf\r\n        },\r\n        credentials:\"include\",\r\n        body:JSON.stringify({\r\n          \"title\":board.title,\r\n          \"description\":board.description,\r\n          \"timezone\":DateTime.local().zoneName\r\n        })\r\n      })\r\n      const response=await data.json()\r\n      if(response.status===200) console.log(\"board saved successfully\")\r\n      else console.log(\"board saved unsuccessfully\")\r\n    }catch(e){\r\n      console.error(e)\r\n    }\r\n  }\r\n  loading.value=false;\r\n}\r\n\r\nconst get_status=async(curr_user)=>{\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/username`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    let user2=\"\"\r\n    if(response.status==200) user2=response.username\r\n    else user2=\"ERROR 404 NOT FOUND\"\r\n    return user2===curr_user\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst get_boards = async (username) => {\r\n  try {\r\n    const data = await fetch(`${BASE_URL}/codraw/boards/${username}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRFToken': csrf\r\n      },\r\n      body: JSON.stringify({\r\n        \"timezone\": DateTime.local().zoneName,\r\n      }),\r\n      credentials: \"include\"\r\n    })\r\n    const response = await data.json()\r\n    boards.value = response.boards.map(b => ({\r\n      ...b,\r\n      original_title: b.title,\r\n      original_description: b.description\r\n    }))\r\n    console.log(response)\r\n    edits.value=response.boards.map(()=>false)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\n/*\r\nasync function join(room){\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/load`,{\r\n      \"method\":\"POST\",\r\n      \"headers\":{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      window.location.href=`${response.url}`\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n*/\r\n\r\nonMounted(async () => {\r\n  loading.value = true;\r\n  const pathParts = window.location.pathname.split('/');\r\n  username.value = pathParts[pathParts.length - 1];\r\n  admin.value=await get_status(username.value);\r\n  await get_boards(username.value);\r\n  loading.value = false;\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Wrapper: flexbox grid with wrapping */\r\n.boards-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.bookmarks{\r\n  position: absolute;\r\n  right:5%;\r\n  top:50px;\r\n  transition: 0.5s ease-in;\r\n}\r\n\r\n.back{\r\n  position: absolute;\r\n  left:5%;\r\n  top:50px;\r\n  transition: 0.5s ease-in;\r\n}\r\n\r\n.back:hover{\r\n  transform: translateX(-15px);\r\n}\r\n\r\n/* Fixed-size cards */\r\n.project-card {\r\n  background: #1f1f1f;\r\n  border: 1px solid #333;\r\n  border-radius: 1rem;\r\n  width: 400px;   /* fixed width */\r\n  height: 350px;  /* fixed height */\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* justify-content:space-around; */\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n.project-card:hover {\r\n  box-shadow: 0 6px 16px rgba(0,0,0,0.4);\r\n}\r\n\r\n.spinner-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000; background-color: rgba(0, 0, 0, 0.7); }\r\n\r\n</style>\r\n","import script from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccOunt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccOunt.vue?vue&type=style&index=0&id=41492dc4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-41492dc4\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    style=\"\r\n      position: relative;\r\n      width: 100vw;\r\n      height: 100vh;\r\n      overflow: hidden;\r\n    \"\r\n  >\r\n    <div v-if=\"loading\" class=\"spinner-overlay\">\r\n      <VueSpinnerTail size=\"60\" color=\"orange\" />\r\n    </div>\r\n    <Transition name=\"fade-slide\">\r\n      <div v-if=\"showPopup\"\r\n        style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.35); z-index: 100; display: flex; align-items: center; justify-content: center;\">\r\n        <div style=\"background: #23272f; color: #fff; padding: 32px 40px; border-radius: 16px; min-width: 320px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); position: relative;\">\r\n        <button @click=\"showPopup = false\" \r\n            style=\"position: absolute; top: 12px; right: 12px; background: transparent; border: none; color: #ccc; font-size: 20px; cursor: pointer;\">\r\n          \r\n        </button>\r\n        <p>{{message}}</p>\r\n        <button @click=\"showPopup = false\" id=\"close_form\"\r\n            style=\"margin-top: 20px; background: #4f8cff; color: #fff; border: none; border-radius: 8px; padding: 8px 20px; font-size: 1rem; cursor: pointer;\">\r\n          Close\r\n        </button>\r\n        </div>\r\n      </div>\r\n    </Transition>\r\n    <div\r\n      id=\"toolbar\"\r\n      style=\"\r\n      position: absolute;\r\n      top: 32px;\r\n      left: 5%;\r\n      background: rgba(30, 30, 30, 0.85);\r\n      border-radius: 16px;\r\n      box-shadow: 0 4px 24px rgba(0,0,0,0.18);\r\n      padding: 20px 32px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      z-index: 10;\r\n      \"\r\n    > \r\n      <button @click=\"motiv=!motiv\" style=\"border-radius: 50%;padding: 1rem;border-color: #f68608;border-width: 5px;\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n      ></button>\r\n      <text style=\"color: white;\">Brush Color</text>\r\n      <input type=\"color\" v-model=\"color\">\r\n      <!--<text style=\"color: white;\">Background Color</text>\r\n      <input type=\"color\" v-model=\"background\">-->\r\n      <select\r\n        v-model=\"tool\"\r\n        style=\"\r\n          background: #23272f;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 16px;\r\n          font-size: 1rem;\r\n          outline: none;\r\n          cursor: pointer;\r\n        \"\r\n      >\r\n        <option value=\"brush\">Brush</option>\r\n        <option value=\"eraser\">Eraser</option>\r\n      </select>\r\n      <label style=\"color: #fff; font-size: 1rem; margin-right: 8px;\">\r\n        Line Width\r\n      </label>\r\n      <input\r\n        type=\"range\"\r\n        v-model=\"width_slider\"\r\n        min=\"1\"\r\n        max=\"20\"\r\n        style=\"\r\n          accent-color: #4f8cff;\r\n          width: 60px;\r\n          margin-right: 8px;\r\n        \"\r\n      >\r\n      <span style=\"color: #fff; min-width: 32px; text-align: center;\">{{ width_slider }}</span>\r\n      <button\r\n        id=\"save_btn\"\r\n        v-if=\"admin || visitor\"\r\n        @click=\"check_save('save')\"\r\n        style=\"\r\n          background: #4f8cff;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 8px;\r\n          padding: 8px 20px;\r\n          font-size: 1rem;\r\n          cursor: pointer;\r\n          transition: ease-in-out 0.6s;\r\n        \"\r\n      >Save</button>\r\n      <button\r\n      @click=\"leave()\"\r\n      id=\"exit\"\r\n      style=\"\r\n        background: #ff4f4f;\r\n        color: #fff;\r\n        border: none;\r\n        border-radius: 8px;\r\n        padding: 8px 20px;\r\n        font-size: 1rem;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n      \"\r\n      >Exit</button>\r\n      <button\r\n      id=\"clearall\"\r\n      v-if=\"admin\"\r\n      style=\"\r\n        background: #f68608;\r\n        color: #fff;\r\n        border: none;\r\n        border-radius: 8px;\r\n        padding: 8px 20px;\r\n        font-size: 1rem;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n      \"\r\n      @click=\"clear_all()\"\r\n      >\r\n      Clear all\r\n      </button>\r\n    </div>\r\n    <div id=\"inv_div\" style=\"position: absolute; top: 32px; right: 1rem; z-index: 10;\">\r\n      <button\r\n        v-if=\"visitor\"\r\n        id=\"bookmark-btn\"\r\n        @click=\"toggleBookmark\"\r\n        class=\"mb-2\"\r\n        style=\"\r\n        background: #4f8cff;\r\n        color:#fff ;\r\n        border: none;\r\n        border-radius: 10px;\r\n        padding: 10px 18px;\r\n        font-size: 0.95rem;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n        transition: ease-in-out 0.6s;\r\n        \"\r\n      >\r\n        <img :src=\"bookmarkIcon\" alt=\"Bookmark\" style=\"width: 18px; height: 18px;\" />\r\n        <span>{{ isBookmarked ? \"Bookmarked\" : \"Bookmark\" }}</span>\r\n      </button>\r\n      <button\r\n        id=\"inv\"\r\n        @click=\"copyInvitationLink\"\r\n        style=\"\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: #4f8cff;\r\n          color: #fff;\r\n          border: none;\r\n          border-radius: 10px;\r\n          padding: 10px 18px;\r\n          font-size: 0.95rem;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: ease-in-out 0.6s;\r\n        \"\r\n      >\r\n        <img :src=\"url\" alt=\"Copy\" style=\"width: 18px; height: 18px;\" />\r\n        <span v-if=\"show_text\">Copy invitation link</span>\r\n      </button>\r\n    </div>\r\n    <Transition name=\"fade-slide\">\r\n      <div\r\n        v-if=\"isVisible\"\r\n        style=\"\r\n          position: absolute;\r\n          top: 150px;\r\n          left: 35%;\r\n          backdrop-filter: blur(16px);\r\n          background: rgba(30, 30, 30, 0.75);\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          border-radius: 20px;\r\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);\r\n          padding: 32px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n          z-index: 20;\r\n          min-width: 30vw;\r\n          max-width: 90vw;\r\n          font-family: 'Segoe UI', Roboto, sans-serif;\r\n          transition: ease-in-out 0.6s;\r\n          color: #fff;\r\n        \"\r\n      >\r\n        <button\r\n          @click=\"isVisible = false\"\r\n          style=\"\r\n            position: absolute;\r\n            top: 12px;\r\n            right: 12px;\r\n            background: transparent;\r\n            border: none;\r\n            color: #ccc;\r\n            font-size: 20px;\r\n            cursor: pointer;\r\n            transition: color 0.2s;\r\n          \"\r\n        >\r\n          \r\n        </button>\r\n        <div style=\"display: flex; flex-direction: column; gap: 6px;\">\r\n          <label class=\"align-self-start\">Title</label>\r\n          <div style=\"position: relative;\">\r\n            <input\r\n              v-model=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Enter title\"\r\n              style=\"\r\n                padding: 10px 14px;\r\n                border-radius: 12px;\r\n                border: 1px solid rgba(255, 255, 255, 0.1);\r\n                background: rgba(255, 255, 255, 0.05);\r\n                color: #fff;\r\n                font-size: 1rem;\r\n                outline: none;\r\n                transition: border 0.2s;\r\n                width: 100%;\r\n                box-sizing: border-box;\r\n              \"\r\n            />\r\n            <span\r\n              style=\"\r\n                position: absolute;\r\n                right: 10px;\r\n                bottom: 6px;\r\n                font-size: 0.75rem;\r\n                color: #aaa;\r\n                pointer-events: none;\r\n              \"\r\n            >{{ (title && title.length) || 0 }}</span>\r\n          </div>\r\n        </div>\r\n        <div style=\"display: flex; flex-direction: column; gap: 6px;\">\r\n          <label class=\"align-self-start\">Description</label>\r\n            <div style=\"position: relative;\">\r\n            <textarea\r\n              v-model=\"description\"\r\n              rows=\"3\"\r\n              placeholder=\"Enter description\"\r\n              style=\"\r\n              padding: 10px 14px;\r\n              border-radius: 12px;\r\n              border: 1px solid rgba(255, 255, 255, 0.1);\r\n              background: rgba(255, 255, 255, 0.05);\r\n              color: #fff;\r\n              font-size: 1rem;\r\n              resize: none;\r\n              outline: none;\r\n              transition: border 0.2s;\r\n              width: 100%;\r\n              box-sizing: border-box;\r\n              \"\r\n            ></textarea>\r\n            <span\r\n              style=\"\r\n              position: absolute;\r\n              right: 10px;\r\n              bottom: 6px;\r\n              font-size: 0.75rem;\r\n              color: #aaa;\r\n              pointer-events: none;\r\n              \"\r\n            >{{ (description && description.length) || 0 }}</span>\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n          <label style=\"flex-shrink: 0;\">Private</label>\r\n          <label class=\"switch\">\r\n            <input \r\n              v-model=\"type\" \r\n              type=\"checkbox\" \r\n              :true-value=\"'private'\" \r\n              :false-value=\"'public'\" \r\n            />\r\n            <span class=\"slider\"></span>\r\n          </label>\r\n        </div>\r\n        <button\r\n          id=\"save_def\"\r\n          @click=\"save_definetely()\"\r\n          style=\"\r\n            background: #4f8cff;\r\n            color: #fff;\r\n            border: none;\r\n            border-radius: 12px;\r\n            padding: 12px;\r\n            font-size: 1rem;\r\n            font-weight: 500;\r\n            cursor: pointer;\r\n            transition: 0.5s ease-out;\r\n          \"\r\n          class=\"save\"\r\n        >\r\n          Save Details\r\n        </button>\r\n      </div>\r\n    </Transition>\r\n    <div id=\"zoom\">\r\n      <label style=\"font-size: larger; cursor: pointer;width:2rem\" @click=\"changeZoom('up')\" >+</label>\r\n      <img :src=\"zoom_ico\" class=\"img-fluid\" style=\"width:1.2rem;height: 1.2rem;\">\r\n      <input v-model=\"zoom\" style=\"width: 60px; text-align: center;border-style: none;\" disabled>\r\n      <label style=\"font-size: larger; cursor: pointer;width:2rem\" @click=\"changeZoom('down')\">-</label>\r\n    </div>\r\n    <div\r\n      class=\"board-wrapper\"\r\n      :style=\"{ backgroundColor: motiv ? '#ffffff' : '#000000' }\"\r\n    >\r\n      <v-stage\r\n          ref=\"stageRef\"\r\n          :config=\"stageConfig\"\r\n          @mousedown=\"handleMouseDown\"\r\n          @mousemove=\"handleMouseMove\"\r\n          @mouseup=\"handleMouseUp\"\r\n          @touchstart=\"handleMouseDown\"\r\n          @touchmove=\"handleMouseMove\"\r\n          @touchend=\"handleMouseUp\"\r\n          @contextmenu=\"handleContextMenu\"\r\n          style=\"overflow-x: hidden;overflow-y: hidden;border: none !important;\"\r\n          >\r\n          <v-layer ref=\"layerRef\">\r\n              <v-image  \r\n                ref=\"imageRef\"\r\n                :config=\"imageConfig\"\r\n              />\r\n          </v-layer>\r\n      </v-stage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport url from '@/assets/email.webp'\r\nimport zoom_ico from '@/assets/zoom.webp'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { get_cookie } from '@/common';\r\nimport {BASE_URL} from '../common.js'\r\nimport {VueSpinnerTail} from 'vue3-spinners'\r\nconst loading=ref(false)\r\nconst csrf = get_cookie('csrftoken');\r\nimport { onMounted, ref, onBeforeUnmount, computed, onUnmounted} from 'vue';\r\nconst currentLine = ref(null)\r\nimport Konva from 'konva';\r\nimport { watch } from 'vue';\r\nimport { nextTick } from 'vue';\r\nconst stageRef = ref(null);\r\nconst windowWidth = ref(window.innerWidth);\r\nconst admin=ref(false)\r\nconst isVisible=ref(false)\r\nconst showPopup=ref(false)\r\nconst color = ref(\"#ffffff\")\r\nconst background=ref(\"#000000\")\r\nconst title=ref(null)\r\nconst message=ref(null)\r\nconst description=ref(null)\r\nconst type=ref('Public')\r\nconst tool = ref('brush');\r\nconst isDrawing = ref(false);\r\nconst width_slider=ref(5);\r\nconst list=ref([])\r\nconst zoom=computed(()=>{return `${(zooming.value*100).toFixed(0)}%`})\r\nconst zooming= ref(1)\r\nconst lastPos = ref(null);\r\nconst imageRef = ref(null);\r\nconst layerRef = ref(null);\r\nconst isPanning = ref(false);\r\nconst motiv=ref(false)\r\nconst visitor=ref(true)\r\nconst isBookmarked=ref(false);\r\n//const images = ref([]); \r\n\r\nconst check_visitor=async()=>{\r\n  if(admin.value){ \r\n    visitor.value=false;\r\n  }else{\r\n    try{\r\n      const data=await fetch(`${BASE_URL}/status`,{\r\n        method:\"GET\",\r\n        headers:{\"X-CSRFToken\":csrf},\r\n        credentials:\"include\"\r\n      })\r\n      let response=await data.json()\r\n      if(response.status===200 && response.user) visitor.value=true;\r\n      else visitor.value=false;\r\n    }catch(e){\r\n      console.error(e)\r\n    }\r\n  }\r\n}\r\n\r\nconst check_book_mark=async()=>{\r\n  const me=new URL(window.location.href).pathname.split(\"/\")[2]\r\n  const room=new URL(window.location.href).pathname.split(\"/\")[2]\r\n  try{\r\n    const data=await fetch(`${BASE_URL}/is_bookmarked/${room}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"X-CSRFToken\":csrf\r\n      },\r\n      body:JSON.stringify({\r\n        \"user\":me\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json();\r\n    if(response.status===200 && response.bookmarked) isBookmarked.value=true;\r\n    else isBookmarked.value=false;\r\n  }catch(e){\r\n    isBookmarked.value=false;\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst show_text = computed(() => windowWidth.value > 1330);\r\nconst stageConfig = {\r\n  width: 4*document.documentElement.clientWidth,\r\n  height: 4*document.documentElement.clientHeight,\r\n  draggable: false\r\n};\r\n\r\nconst ws=ref(null)\r\nconst room=ref(new URL(window.location.href).pathname.split('/')[3])\r\nws.value = new WebSocket(`ws://localhost:8000/ws/socket/${room.value}/`)\r\nws.value.onmessage = (event) => {\r\n  const data = JSON.parse(event.data);\r\n  if (!data || !data.type) return;\r\n  const layer = layerRef.value.getNode();\r\n  if(data.type === \"start\") {\r\n    const newLine = new Konva.Line({\r\n      stroke: data.stroke,\r\n      strokeWidth: data.width,\r\n      globalCompositeOperation: data.operation,\r\n      points: data.points,\r\n      lineCap: \"round\",\r\n      lineJoin: \"round\"\r\n    });\r\n    newLine._remote = true;\r\n    layer.add(newLine);\r\n    currentLine.value = newLine;\r\n  } else if (data.type === \"draw\" && currentLine.value?._remote) {\r\n    const newPoints = currentLine.value.points().concat(data.points);\r\n    currentLine.value.points(newPoints);\r\n    layer.batchDraw();\r\n  }else if(data.type===\"bg\" && data.bg){\r\n    background.value=data.bg\r\n    motiv.value = data.bg === \"#ffffff\"\r\n  }\r\n};\r\n\r\nconst handleContextMenu = (e) => {\r\n  e.evt.preventDefault();\r\n};\r\n// create canvas element\r\nconst canvas = document.createElement('canvas');\r\ncanvas.width = stageConfig.width;\r\ncanvas.height = stageConfig.height;\r\n\r\n// get context\r\nconst context = canvas.getContext('2d');\r\ncontext.strokeStyle = color.value;\r\ncontext.fillStyle=background.value\r\ncontext.lineJoin = 'round';\r\ncontext.lineWidth = width_slider.value;\r\ncontext.lineCap = 'round';\r\ncontext.lineJoin = 'round';\r\n\r\nwatch(color, (newColor) => {\r\n  context.strokeStyle = newColor;\r\n});\r\n\r\nfunction changeZoom(mode){\r\n  const stage = stageRef.value.getNode(); // get Konva Stage\r\n  const scaleBy = 1.25;\r\n  const oldScale = stage.scaleX();\r\n  const direction = mode===\"up\"? 1 : -1;\r\n  if(oldScale===1 && direction===-1) return;\r\n  const newScale = direction > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n  zooming.value=newScale\r\n  stage.scale({ x: newScale, y: newScale });\r\n  stage.batchDraw();\r\n}\r\n\r\nconst check_owner=async()=>{\r\n  try{\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const owner = parts[2]; // 'user_id'\r\n    const room = parts[3];  // 'room_id\r\n    const data=await fetch(`${BASE_URL}/codraw/check_owner`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'X-CSRFToken':csrf\r\n      },\r\n      credentials:\"include\",\r\n      body:JSON.stringify({\r\n        \"owner\":owner,\r\n        \"room\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    if(response.status===200){\r\n      admin.value=true\r\n    }\r\n  }catch(e){\r\n    admin.value=false\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst copyInvitationLink = async () => {\r\n  try {\r\n    const link = window.location.href;\r\n    await navigator.clipboard.writeText(link);\r\n    showPopup.value = true;\r\n    message.value = \"Invitation link copied to clipboard!\";\r\n  } catch (err) {\r\n    console.error(\"Failed to copy: \", err);\r\n    showPopup.value = true;\r\n    message.value = \"Failed to copy the link.\";\r\n  }\r\n};\r\n\r\nconst load = () => {\r\n  const data = localStorage.getItem('storage');\r\n  if (data) {\r\n    list.value = JSON.parse(data);\r\n    // Draw the last saved image onto the canvas\r\n    if (list.value.length > 0) {\r\n      const lastImage = new window.Image();\r\n      lastImage.src = list.value[list.value.length - 1].image;\r\n      lastImage.onload = () => {\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        context.drawImage(lastImage, 0, 0);\r\n        layerRef.value.getNode().batchDraw();\r\n      };\r\n    }\r\n  }\r\n};\r\nconst save_definetely = async()=>{\r\n  try{\r\n    loading.value=true\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    //const owner = parts[2]; // 'user_id'\r\n    const room = parts[3];  // 'room_id\r\n    if(!title.value){\r\n      showPopup.value=true\r\n      message.value=\"Please provide a title for your board.\"\r\n    }\r\n    if(title.value.length>66){\r\n      showPopup.value=true\r\n      message.value=\"The title length is to large, must be at most 60 characters.\"\r\n    }\r\n    if(description.value && description.value.length>170){\r\n      showPopup.value=true\r\n      message.value=\"The description length is to large, must be at most 100 characters.\"\r\n    }\r\n    const data=await fetch(`${BASE_URL}/codraw/save_new`,{\r\n      method:\"POST\",\r\n      headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n      body:JSON.stringify({\r\n        \"project\":room,\r\n        \"payload\":JSON.stringify(stageRef.value.getStage().toJSON()),\r\n        \"title\":title.value,\r\n        \"description\":description.value,\r\n        \"type\":type.value,\r\n        \"bg\":background.value\r\n      }),\r\n      credentials:\"include\"\r\n    })\r\n    const response=await data.json()\r\n    let flag=true\r\n    isVisible.value=false\r\n    if(response.status===200){\r\n      flag=false\r\n    }\r\n    await new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\r\n    if(!flag){\r\n      showPopup.value=true\r\n      message.value=\"Board saved successfully.\"\r\n      autosave()\r\n    }else{\r\n      showPopup.value=true\r\n      message.value=\"There was an error saving your board.\"\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction getCrop(image, size) {\r\n  const width = size.width;\r\n  const height = size.height;\r\n  const aspectRatio = width / height;\r\n  let newWidth;\r\n  let newHeight;\r\n  const imageRatio = image.width / image.height;\r\n  if (aspectRatio >= imageRatio) {\r\n    newWidth = image.width;\r\n    newHeight = image.width / aspectRatio;\r\n  } else {\r\n    newWidth = image.height * aspectRatio;\r\n    newHeight = image.height;\r\n  }\r\n  let x = 0;\r\n  let y = 0;\r\n  x = (image.width - newWidth) / 2;\r\n  y = (image.height - newHeight) / 2\r\n  return {\r\n    cropX: x,\r\n    cropY: y,\r\n    cropWidth: newWidth,\r\n    cropHeight: newHeight,\r\n  };\r\n}\r\n\r\nfunction applyCrop(imgNode) {\r\n  const crop = getCrop(\r\n    imgNode.image(), // HTMLImageElement\r\n    { width: imgNode.width(), height: imgNode.height() }\r\n  );\r\n  imgNode.setAttrs(crop);\r\n}\r\n\r\nconst handlePaste = (event) => {\r\n  event.preventDefault();\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const pointer = stage.getPointerPosition() || { x: stage.width() / 2, y: stage.height() / 2 };\r\n  const point = getRelativePointerPosition(stage, pointer);\r\n  const clipboardData = event.clipboardData;\r\n  if (!clipboardData || clipboardData.files.length === 0) {\r\n    return;\r\n  }\r\n  const file = clipboardData.files[0];\r\n  if (!file.type.startsWith('image/')) {\r\n    return;\r\n  }\r\n  const reader = new FileReader();\r\n  reader.onload = (e) => {\r\n    const img = new window.Image();\r\n    img.src = e.target.result;\r\n    img.onload = () => {\r\n      const konvaImg = new Konva.Image({\r\n        id: uuidv4(),\r\n        image: img,\r\n        x: point.x,\r\n        y: point.y,\r\n        width: img.width,\r\n        height: img.height,\r\n        draggable: false,\r\n      });\r\n      applyCrop(konvaImg)\r\n      const layer = layerRef.value.getNode();\r\n      konvaImg.setAttr(\"src\", e.target.result);\r\n      layer.add(konvaImg);\r\n      const tr = new Konva.Transformer({\r\n        nodes: [konvaImg],\r\n        keepRatio: false,\r\n        flipEnabled: false,\r\n        boundBoxFunc: (oldBox, newBox) => {\r\n          if (Math.abs(newBox.width) < 10 || Math.abs(newBox.height) < 10) {\r\n            return oldBox;\r\n          }\r\n          return newBox;\r\n        },\r\n      });\r\n      layer.add(tr)\r\n      layer.draw();\r\n  }\r\n  reader.onloadstart= function() {\r\n    console.error('Starting');\r\n  };\r\n  reader.onerror = function(event) {\r\n    console.error('FileReader error:', event.target.error);\r\n  };\r\n  }\r\n  reader.readAsDataURL(file)\r\n}\r\n\r\n\r\nconst check_save = async (mode) => {\r\n  try{\r\n    loading.value=true\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const room = parts[3];  // 'room_id\r\n    if(mode==='save'){\r\n      const data=await fetch(`${BASE_URL}/codraw/save_project`,{\r\n        method:\"POST\",\r\n        headers:{'Content-Type':'application/json','X-CSRFToken':csrf},\r\n        body:JSON.stringify({\r\n          \"project\":room,\r\n          \"payload\": JSON.stringify(stageRef.value.getStage().toJSON()),\r\n          \"bg\":background.value\r\n        }),\r\n        credentials:\"include\"\r\n      })\r\n      const response=await data.json()\r\n      let flag=true;\r\n      if(response.status===200){\r\n        flag=false\r\n      }\r\n      await new Promise(resolve => setTimeout(() => { loading.value = false; resolve(); }, 2000));\r\n      //console.log(flag)\r\n      if(!flag){\r\n        autosave()  \r\n        showPopup.value=true\r\n        message.value=\"Board was successfully quick saved.\"\r\n      }else isVisible.value=true\r\n    }else if(mode==='load'){\r\n      const data=await fetch(`${BASE_URL}/codraw/save_project`,{\r\n        method:\"POST\",\r\n        headers:{\r\n          'Content-Type':'application/json',\r\n        },\r\n        body:JSON.stringify({\r\n          \"project\":room,\r\n        }),\r\n      })\r\n      const response=await data.json()\r\n      if(response.status===200){\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction leave(){\r\n  localStorage.removeItem('storage')\r\n  if(admin.value){\r\n    window.location.href='http://localhost:8081/codraw'\r\n  }else{\r\n    window.location.href='http://localhost:8081/'\r\n  }\r\n}\r\n\r\nfunction clear_all(){\r\n  if(admin.value){\r\n    localStorage.removeItem('storage')\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n    layerRef.value.getNode().clear();\r\n    layerRef.value.getNode().batchDraw();\r\n    // context.clearRect(0, 0, canvas.width, canvas.height);\r\n    // layerRef.value.getNode().batchDraw();\r\n  }else{\r\n    showPopup.value=true;\r\n    message.value=\"You don't have neccessary permissions to clear the board.\"\r\n  }\r\n}\r\nconst getRelativePointerPosition = (stage) => {\r\n  const transform = stage.getAbsoluteTransform().copy();\r\n  transform.invert();\r\n  const pos = stage.getPointerPosition();\r\n  return transform.point(pos);\r\n};\r\nconst autosave = () => {\r\n  // Save the canvas as a data URL (image)\r\n  const stage = stageRef.value?.getNode?.();\r\n  if (!stage) return;\r\n  const dataUrl = stage.toDataURL();\r\n  // Store the image data and a timestamp/id in the list\r\n  list.value = [{\r\n    id: Date.now(),\r\n    image: dataUrl\r\n  }];\r\n  localStorage.setItem('storage', JSON.stringify(list.value));\r\n};\r\n\r\nconst imageConfig = {\r\n  image: canvas,\r\n  x: 0,\r\n  y: 0,\r\n  width: canvas.width,\r\n  height: canvas.height\r\n};\r\nconst handleMouseDown = (e) => {\r\n  const stage = e.target.getStage();\r\n  if (e.evt.button === 2) {\r\n    isPanning.value = true;\r\n    stage.draggable(true);\r\n    stage.startDrag();\r\n    lastPos.value = stage.getPointerPosition();\r\n    return;\r\n  }\r\n  isDrawing.value = true;\r\n  const pos = getRelativePointerPosition(stage);\r\n  const newLine = new Konva.Line({\r\n    stroke: color.value,\r\n    strokeWidth: width_slider.value,\r\n    globalCompositeOperation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\r\n    points: [pos.x, pos.y],\r\n    lineCap: 'round',\r\n    lineJoin: 'round'\r\n  });\r\n  ws.value.send(JSON.stringify({\r\n    type: \"start\",\r\n    stroke: color.value,\r\n    width: width_slider.value,\r\n    operation: tool.value === 'eraser' ? 'destination-out' : 'source-over',\r\n    points: [pos.x, pos.y]\r\n  }))\r\n  layerRef.value.getNode().add(newLine);\r\n  currentLine.value = newLine;\r\n};\r\n\r\nconst handleMouseUp = (e) => {\r\n  isDrawing.value = false;\r\n  currentLine.value = null;\r\n  if (isPanning.value) {\r\n    const stage = e.target.getStage();\r\n    stage.draggable(false);\r\n    isPanning.value = false;\r\n  }\r\n};\r\n\r\nconst handleMouseMove = (e) => {\r\n  if (!isDrawing.value || !currentLine.value) return;\r\n  const stage = e.target.getStage();\r\n  const point = getRelativePointerPosition(stage);\r\n  const newPoints = currentLine.value.points().concat([point.x, point.y]);\r\n  currentLine.value.points(newPoints);\r\n  layerRef.value.getNode().batchDraw();\r\n  ws.value.send(JSON.stringify({\r\n    type: \"draw\",\r\n    points: [point.x, point.y]\r\n  }));\r\n};\r\n\r\nconst get_details_and_load = async()=>{\r\n  try{\r\n    const parts = new URL(window.location.href).pathname.split('/');\r\n    const room = parts[3];\r\n    const data=await fetch(`${BASE_URL}/codraw/get_details`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n      },\r\n      body:JSON.stringify({\r\n        \"project\":room\r\n      })\r\n    })\r\n    const response=await data.json()\r\n    const saved_json = response.canva;\r\n    const bg = response.bg;\r\n    if(bg){\r\n      background.value=bg\r\n      motiv.value = bg === \"#ffffff\"\r\n    }\r\n    if(saved_json){\r\n      const parsed = JSON.parse(saved_json);\r\n      const layer = layerRef.value.getNode(); //\r\n      layer.destroyChildren();\r\n      parsed.children[0].children.forEach(shapeJson => {\r\n        if(shapeJson.className===\"Image\" && shapeJson.attrs.src){\r\n          const img = new window.Image();\r\n          img.src = shapeJson.attrs.src;\r\n          shapeJson.attrs.image = img;\r\n        }\r\n        const shape = Konva.Node.create(shapeJson);\r\n        layer.add(shape);\r\n      });\r\n      layer.draw();\r\n    }\r\n  }catch(e){\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nonMounted(async()=>{\r\n  loading.value=true\r\n  await nextTick(); \r\n  load()\r\n  if(await check_save('load')){\r\n    setTimeout(()=> get_details_and_load(),100)\r\n  }\r\n  await check_owner()\r\n  await check_visitor()\r\n  if(visitor.value){\r\n    await check_book_mark();\r\n  }\r\n  const stage=stageRef.value.getNode(); // get Konva Stage\r\n  const scaleBy=1.1;\r\n  stage.on('wheel', (e) => {\r\n    e.evt.preventDefault();\r\n    const oldScale=stage.scaleX();\r\n    const pointer=stage.getPointerPosition();\r\n\r\n    const mousePointTo = {\r\n      x: (pointer.x - stage.x()) / oldScale,\r\n      y: (pointer.y - stage.y()) / oldScale,\r\n    };\r\n\r\n    const direction = e.evt.deltaY > 0 ? 1 : -1;\r\n    if(oldScale===1 && direction===-1) return;\r\n    const newScale = direction > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n    zooming.value=newScale\r\n    stage.scale({ x: newScale, y: newScale });\r\n\r\n    const newPos = {\r\n      x: pointer.x - mousePointTo.x * newScale,\r\n      y: pointer.y - mousePointTo.y * newScale,\r\n    };\r\n\r\n    stage.position(newPos);\r\n    stage.batchDraw();\r\n  })\r\n  let resizeTimeout = null;\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(() => {\r\n      const stage = stageRef.value?.getNode();\r\n      const image = imageRef.value?.getNode();\r\n      if (!stage || !image) return;\r\n\r\n      const newWidth = window.innerWidth;\r\n      const newHeight = window.innerHeight;\r\n\r\n      canvas.width = newWidth * 4;\r\n      canvas.height = newHeight * 4;\r\n\r\n      stage.width(canvas.width);\r\n      stage.height(canvas.height);\r\n\r\n      image.width(canvas.width);\r\n      image.height(canvas.height);\r\n\r\n      const layer = image.getLayer();\r\n      if (layer) layer.batchDraw();\r\n    }, 100);\r\n  });\r\n  const onResize = () => {\r\n    windowWidth.value = window.innerWidth;\r\n  };\r\n  window.addEventListener('resize', onResize); \r\n  window.addEventListener('paste', handlePaste)\r\n  const preview = document.createElement('div');\r\n  preview.id = 'preview';\r\n  preview.style.position = 'absolute';\r\n  preview.style.bottom = '15px';\r\n  preview.style.left = '15px';\r\n  preview.style.border = '5px solid #ffc107';\r\n  preview.style.borderRadius=\"5%\"\r\n  preview.style.backgroundColor = 'lightgrey';\r\n  document.body.appendChild(preview);\r\n  const previewStage = new Konva.Stage({\r\n    container: 'preview',\r\n    width: window.innerWidth/8,\r\n    height: window.innerHeight/8,\r\n    scaleX: 1/32,\r\n    scaleY: 1/32,\r\n  });\r\n  let layer=layerRef.value.getNode()\r\n  let previewLayer = new Konva.Layer();\r\n  const previewBg = new Konva.Rect({\r\n    x: 0,\r\n    y: 0,\r\n    width: previewStage.width()*32,\r\n    height: previewStage.height()*32,\r\n    fill: background.value,\r\n    listening: false,\r\n  });\r\n  previewStage.add(previewLayer);\r\n  previewLayer.add(previewBg)\r\n  watch(motiv,()=>{\r\n    background.value = motiv.value ? \"#ffffff\" : \"#000000\"\r\n    color.value= motiv.value ? \"#000000\":\"#ffffff\"\r\n    previewBg.fill(background.value);\r\n    previewLayer.batchDraw();\r\n    if(ws.value.readyState===WebSocket.OPEN){\r\n      ws.value.send(JSON.stringify({\r\n        type: \"bg\",\r\n        bg: background.value\r\n      }))\r\n    }\r\n  },{immediate:true})\r\n  function syncPreview() {\r\n    const parsed = JSON.parse(stageRef.value.getStage().toJSON());\r\n    previewLayer.destroyChildren();\r\n    previewLayer.add(previewBg);\r\n    parsed.children[0].children.forEach(shapeJson => {\r\n      const shape = Konva.Node.create(shapeJson);\r\n      previewLayer.add(shape);\r\n    });\r\n    previewLayer.draw();\r\n  }\r\n  loading.value=false;\r\n  layer.on('add destroy change',syncPreview)\r\n  syncPreview()\r\n})\r\nsetInterval(()=>autosave(),60000)\r\nonBeforeUnmount(()=>{\r\n  if(ws.value){\r\n    ws.value.close()\r\n  }\r\n  loading.value=true\r\n})\r\nonUnmounted(()=>{\r\n  window.removeEventListener('paste',handlePaste)\r\n})\r\n</script>\r\n\r\n<style>\r\nhtml, body {\r\n  margin: 0;\r\n  height: 100%;\r\n  overflow: hidden !important; /* disables global scrolling */\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform:translateY(-20px);\r\n}\r\n\r\n.spinner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.board-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n\r\n/* The \"leave\" state, when the modal is about to disappear */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;\r\n}\r\n\r\n/* The \"active\" state, when the modal is fully visible and in its final position */\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform:translateY(0);\r\n}\r\n\r\n.save:hover{\r\n  background:#fff ;\r\n  color: #4f8cff;\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 22px;\r\n}\r\n\r\n.switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0; left: 0;\r\n  right: 0; bottom: 0;\r\n  background-color: #ccc;\r\n  transition: 0.3s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.slider::before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 16px;\r\n  width: 16px;\r\n  left: 3px;\r\n  top: 3px;\r\n  background-color: white;\r\n  transition: 0.3s;\r\n  border-radius: 50%;\r\n}\r\n\r\ninput:checked + .slider {\r\n  background-color: #4f8cff;\r\n}\r\n\r\ninput:checked + .slider::before {\r\n  transform: translateX(18px);\r\n}\r\n\r\n@media(max-width:1500px) {\r\n  #toolbar{\r\n    font-size: 0.8rem;\r\n    gap:10px;\r\n  }\r\n}\r\n@media(max-width:1330px){\r\n  #toolbar{\r\n    left:2% !important;\r\n  }\r\n  #inv{\r\n    right:0.5rem;\r\n    font-size: 0.5rem;\r\n  }\r\n}\r\n@media(max-width:1150px){\r\n  #toolbar{\r\n    gap: 5px !important;\r\n  }\r\n}\r\n\r\n@media(max-width:1000px){\r\n  #inv_div{\r\n    top:140px !important;\r\n    position: fixed !important;\r\n  }\r\n}\r\n#zoom{\r\n  position: fixed;\r\n  right:40px;\r\n  bottom:10px;\r\n  background-color: white;\r\n  z-index: 10;\r\n}\r\n\r\n\r\n#inv:hover,#bookmark-btn:hover,#save_btn:hover,#save_def:hover,#close_form:hover{\r\n  background: #fff !important;\r\n  color:#4f8cff !important; \r\n}\r\n#exit:hover{\r\n  background:#fff!important;\r\n  color:#ff4f4f !important;\r\n}\r\n#clearall:hover{\r\n  background:#fff !important;\r\n  color:#f68608 !important;\r\n}\r\n</style>","import script from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BoArd.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BoArd.vue?vue&type=style&index=0&id=1fc982f2&lang=css\"\nimport \"./BoArd.vue?vue&type=style&index=1&id=1fc982f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1fc982f2\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport VueKonva from 'vue-konva';\nimport { createWebHistory, createRouter } from 'vue-router'\n\nimport SignIn from './components/SignIn.vue'\nimport SignUp from './components/SignUp.vue'\nimport HeRo from './components/Hero.vue'\nimport MaIn from './components/Main.vue'\nimport SeTtings from './components/SeTtings.vue'\nimport AccOunt from './components/AccOunt.vue'\nimport BoArd from './components/BoArd.vue'\n\nconst routes = [\n  { path: '/', component: HeRo },\n  { path: '/signup', component: SignUp },\n  { path: '/signin', component: SignIn },\n  { path: '/codraw', component: MaIn },\n  { path: '/codraw/settings', component: SeTtings },\n  { path: '/codraw/account/:username', component: AccOunt },\n  { path: '/board/:id/:room', component: BoArd },\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n})\n\n\ncreateApp(App).use(router).use(VueKonva).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1461); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_ctx","$route","path","substring","_createBlock","_component_NavBar","key","_createVNode","_component_router_view","__default__","name","props","msg","String","_createElementBlock","_hoisted_1","_createElementVNode","class","type","_hoisted_2","_hoisted_3","_component_RouterLink","to","src","_unref","imageUrl","alt","height","_hoisted_5","_hoisted_6","href","_cache","_hoisted_7","id","style","_hoisted_8","__exports__","components","NavBar","render","BASE_URL","process","get_cookie","cookieValue","document","cookie","cookies","split","i","length","trim","decodeURIComponent","message","ref","invalid","ticked","name_or_mail","password","formRef","async","SignIn","e","preventDefault","form","value","classList","add","checkValidity","csrf","data","fetch","method","headers","credentials","body","JSON","stringify","response","json","status","window","location","console","error","stopPropagation","url","_Transition","onClick","$event","_isRef","_hoisted_4","_toDisplayString","onSubmit","novalidate","for","placeholder","required","_hoisted_9","_hoisted_10","_hoisted_11","visible","username","mail","ZeroInput","OneInput","TwoInput","ThreeInput","FourInput","pathname","SignUp","username_input","password_input","mail_input","focus","handleInput","index","zero","one","two","three","four","getCode","verifyCode","maxlength","onInput","pattern","inputmode","_hoisted_12","_hoisted_13","_hoisted_14","mounted","this","check","methods","loading","hover","sidebarOpen","boards","popular","input","get_username","log_out","search","sentence","DateTime","local","zoneName","parse","get_boards","map","join","room","create","log","load_popular","onMounted","Promise","all","_normalizeClass","toggle","_component_RouterView","_Fragment","_renderList","board","_withModifiers","info","_hoisted_15","views","_hoisted_16","_hoisted_17","modified","_hoisted_18","_hoisted_19","visibility","_hoisted_20","_hoisted_21","title","_hoisted_22","description","_hoisted_23","VueSpinnerTail","size","color","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","onKeyup","_withKeys","xmlns","width","fill","viewBox","d","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","owner","_hoisted_37","_hoisted_38","readonly","disabled","_hoisted_41","admin","edits","delete_board","resave","original_description","original_title","get_status","user2","curr_user","b","pathParts","back","save","edit","bin","splice","currentLine","stageRef","windowWidth","innerWidth","isVisible","showPopup","background","tool","isDrawing","width_slider","list","zoom","computed","zooming","toFixed","lastPos","imageRef","layerRef","isPanning","motiv","visitor","isBookmarked","check_visitor","user","check_book_mark","me","URL","bookmarked","show_text","stageConfig","documentElement","clientWidth","clientHeight","draggable","ws","WebSocket","onmessage","event","layer","getNode","newLine","Konva","stroke","strokeWidth","globalCompositeOperation","operation","points","lineCap","lineJoin","_remote","newPoints","concat","batchDraw","bg","handleContextMenu","evt","canvas","createElement","context","getContext","changeZoom","mode","stage","scaleBy","oldScale","scaleX","direction","newScale","scale","x","y","strokeStyle","fillStyle","lineWidth","watch","newColor","check_owner","parts","copyInvitationLink","link","navigator","clipboard","writeText","err","load","localStorage","getItem","lastImage","Image","image","onload","clearRect","drawImage","save_definetely","getStage","toJSON","flag","resolve","setTimeout","autosave","getCrop","aspectRatio","newWidth","newHeight","imageRatio","cropX","cropY","cropWidth","cropHeight","applyCrop","imgNode","crop","setAttrs","handlePaste","pointer","getPointerPosition","point","getRelativePointerPosition","clipboardData","files","file","startsWith","reader","FileReader","img","target","result","konvaImg","uuidv4","setAttr","tr","nodes","keepRatio","flipEnabled","boundBoxFunc","oldBox","newBox","Math","abs","draw","onloadstart","onerror","readAsDataURL","check_save","leave","removeItem","clear_all","clear","transform","getAbsoluteTransform","copy","invert","pos","dataUrl","toDataURL","Date","now","setItem","imageConfig","handleMouseDown","button","startDrag","send","handleMouseUp","handleMouseMove","get_details_and_load","saved_json","canva","parsed","destroyChildren","children","forEach","shapeJson","className","attrs","shape","nextTick","on","mousePointTo","deltaY","newPos","position","resizeTimeout","addEventListener","clearTimeout","innerHeight","getLayer","onResize","preview","bottom","left","border","borderRadius","backgroundColor","appendChild","previewStage","container","scaleY","previewLayer","previewBg","listening","syncPreview","readyState","OPEN","immediate","setInterval","onBeforeUnmount","close","onUnmounted","removeEventListener","_normalizeStyle","min","max","args","toggleBookmark","bookmarkIcon","rows","zoom_ico","_component_v_stage","config","onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend","onContextmenu","_component_v_layer","_component_v_image","routes","component","HeRo","MaIn","SeTtings","AccOunt","BoArd","router","createRouter","history","createWebHistory","createApp","App","use","VueKonva","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","hmd","set","Error","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}